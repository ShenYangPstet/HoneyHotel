(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45e6b6c1"],{"37cd":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var i="zsqy_v2"},"69f6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin-container"},[a("el-row",[a("el-col",{attrs:{xs:4,sm:6,md:8,lg:9,xl:7}},[a("div",{staticClass:"admin-header"},[a("div",{staticClass:"admin-header-left"},[a("div",{staticClass:"admin-header-left-tit"},[e._v("用户账号管理")])]),e._v(" "),a("div",{staticClass:"admin-header-right"})]),e._v(" "),a("div",{staticClass:"admin-tablebox"},[a("el-form",{ref:"form",staticClass:"admin-form",attrs:{"label-width":"120px","label-position":"left"}},[a("el-form-item",{attrs:{label:"接口账号",required:""}},[a("el-input",{attrs:{placeholder:"请输入接口账号"},model:{value:e.account,callback:function(t){e.account=t},expression:"account"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"接口密码",required:""}},[a("el-input",{attrs:{placeholder:"请输入接口密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"接口appid",required:""}},[a("el-input",{attrs:{placeholder:"请输入接口appid"},model:{value:e.appid,callback:function(t){e.appid=t},expression:"appid"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"接口密钥",required:""}},[a("el-input",{attrs:{placeholder:"请输入接口密钥"},model:{value:e.secret,callback:function(t){e.secret=t},expression:"secret"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"接口类型",required:""}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择接口类型"},model:{value:e.apiType,callback:function(t){e.apiType=t},expression:"apiType"}},e._l(e.apiTypes,(function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"接口网址"}},[a("el-input",{attrs:{placeholder:"请输入接口网址"},model:{value:e.apiWebsite,callback:function(t){e.apiWebsite=t},expression:"apiWebsite"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"接口说明"}},[a("el-input",{attrs:{rows:3,type:"textarea",placeholder:"请输入接口说明"},model:{value:e.explain,callback:function(t){e.explain=t},expression:"explain"}})],1)],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handelAdd}},[e._v("增加")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handelUpdate}},[e._v("确认修改")])],1)]),e._v(" "),a("el-col",{attrs:{xs:20,sm:18,md:16,lg:15,xl:17}},[a("div",{staticClass:"admin-header"},[a("div",{staticClass:"admin-header-left"},[a("div",{staticClass:"admin-header-left-tit"},[e._v("账号信息")])]),e._v(" "),a("div",{staticClass:"admin-header-right"})]),e._v(" "),a("div",{staticClass:"admin-tablebox"},[a("el-table",{staticClass:"admin-table",attrs:{data:e.tableDatas,border:""}},[a("af-table-column",{attrs:{prop:"id",label:"序号"}}),e._v(" "),a("af-table-column",{attrs:{prop:"username",label:"接口账号"}}),e._v(" "),a("af-table-column",{attrs:{prop:"password",label:"接口密码"}}),e._v(" "),a("af-table-column",{attrs:{prop:"appid",label:"接口appid"}}),e._v(" "),a("af-table-column",{attrs:{prop:"key",label:"接口密钥"}}),e._v(" "),a("el-table-column",{attrs:{label:"接口类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.interfaceType?a("p",[e._v("短信")]):e._e(),e._v(" "),2==t.row.interfaceType?a("p",[e._v("天气")]):a("p")]}}])}),e._v(" "),a("af-table-column",{attrs:{prop:"url",label:"接口网址"}}),e._v(" "),a("af-table-column",{attrs:{prop:"explain",label:"接口说明"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){return e.handelEdit(t.$index,t.row)}}},[e._v("\n                编辑\n              ")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.handelDelete(t.$index,t.row)}}},[e._v("\n                删除\n              ")])]}}])})],1),e._v(" "),a("div",{staticClass:"el-pagination admin-pagination"},[a("div",{staticClass:"btn"},[a("button",{on:{click:e.prev}},[e._v("上一页")]),e._v(" "),a("span",[e._v(e._s(e.currentPage))]),e._v(" "),a("button",{on:{click:e.next}},[e._v("下一页")])]),e._v(" "),a("div",[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,20,40],"page-size":e.pagesize,layout:"total, sizes, jumper",total:e.rowCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1)])],1)],1)},n=[],s=a("821d"),l=a("37cd"),r={inject:["reload"],data:function(){return{currentPage:1,rowCount:0,pagesize:10,apiId:"",account:"",password:"",appid:"",secret:"",apiType:1,apiTypes:[{id:1,value:"短信"},{id:2,value:"天气"}],apiWebsite:"",explain:"",tableDatas:[],path:l["a"]}},created:function(){this.findApiInfo()},methods:{findApiInfo:function(){var e=this;Object(s["c"])(this.currentPage,this.pagesize).then((function(t){e.tableDatas=t.data.records,e.rowCount=t.data.rowCount})).catch(console.log)},handleSizeChange:function(e){this.pagesize=e,this.currentPage=1,this.findApiInfo()},handleCurrentChange:function(e){this.currentPage=e,this.tableDatas.length<this.rowCount&&this.findApiInfo()},prev:function(){1===this.currentPage?this.currentPage=1:(this.currentPage--,this.tableDatas.length<this.rowCount&&this.findApiInfo())},next:function(){var e=Math.ceil(this.rowCount/this.pagesize);this.currentPage<e&&(this.currentPage++,this.tableDatas.length<this.rowCount&&this.findApiInfo())},handelAdd:function(){var e=this,t=new FormData;t.append("username",this.account),t.append("password",this.password),t.append("appid",this.appid),t.append("key",this.secret),t.append("interfaceType",this.apiType),t.append("url",this.apiWebsite),t.append("explain",this.explain),Object(s["a"])(t).then((function(t){2e4===t.status&&(e.$message.success("新增成功!"),e.reload())})).catch(console.log)},handelEdit:function(e,t){this.apiId=t.id,this.account=t.username,this.password=t.password,this.appid=t.appid,this.secret=t.key,this.apiType=t.interfaceType,this.apiWebsite=t.url,this.explain=t.explain},handelUpdate:function(){var e=this,t=new FormData;t.append("id",this.apiId),t.append("username",this.account),t.append("password",this.password),null!=this.appid&&t.append("appid",this.appid),t.append("key",this.secret),t.append("interfaceType",this.apiType),t.append("url",this.apiWebsite),t.append("explain",this.explain),Object(s["d"])(t).then((function(t){2e4===t.status&&(e.$message.success("修改成功!"),e.reload())})).catch(console.log)},handelDelete:function(e,t){var a=this,i=confirm("确认要删除吗？");i&&Object(s["b"])(t.id).then((function(e){2e4===e.status&&(a.$message.success("删除成功!"),a.reload())})).catch(console.log)}}},o=r,p=a("2877"),c=Object(p["a"])(o,i,n,!1,null,"a0f9cec0",null);t["default"]=c.exports},"821d":function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return r}));var i=a("b775");function n(e,t){return Object(i["a"])({url:"zsqy/interfaceConfig/findObject",method:"get",params:{pageCurrent:e,pageSize:t}})}function s(e){return Object(i["a"])({url:"zsqy/interfaceConfig/save",method:"post",data:e})}function l(e){return Object(i["a"])({url:"zsqy/interfaceConfig/update",method:"put",data:e})}function r(e){return Object(i["a"])({url:"zsqy/interfaceConfig/delete",method:"delete",params:{ids:e}})}}}]);