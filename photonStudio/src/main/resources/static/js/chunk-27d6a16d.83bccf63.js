(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27d6a16d"],{"0784":function(t,e,n){"use strict";n("1c7a")},"1c7a":function(t,e,n){},"1d4b":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("96cf");var a=n("1da1"),i=n("967e"),r=n.n(i);function o(t){return c.apply(this,arguments)}function c(){return c=Object(a["a"])(r.a.mark((function t(e){var n,a,i,o,c=arguments;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=c.length>1&&void 0!==c[1]?c[1]:[],a=function(t){return new Promise((function(n){var a=t.animationTime,i=t.value,r=void 0===i?"":i,o=t.isLoop;e.style.setProperty("--time",a+"s"),e.classList.add(r,"animated",s(o));var c=function t(){e.removeEventListener("animationend",t),e.removeEventListener("animationcancel",t),e.classList.remove(r,"animated",s(o)),e.style.removeProperty("--time"),n()};e.addEventListener("animationend",c),e.addEventListener("animationcancel",c)}))},i=0,o=n.length;case 3:if(!(i<o)){t.next=9;break}return t.next=6,a(n[i]);case 6:i++,t.next=3;break;case 9:case"end":return t.stop()}}),t)}))),c.apply(this,arguments)}function s(t){return t?"infinite":"no-infinite"}},"26b1":function(t,e,n){"use strict";n("48a8")},4884:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r}));n("6b54");var a={redirect:function(t){t&&(window.location.href=t)},alert:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){t&&alert(t)}))},i={methods:a},r=[{key:"redirect",label:"跳转事件",event:a.redirect,param:""},{key:"alert",label:"alert 事件",event:a.alert,param:""}]},"48a8":function(t,e,n){},"5fd0":function(t,e,n){},7390:function(t,e,n){"use strict";n("5fd0")},"7d39":function(t,e,n){},bacc:function(t,e,n){"use strict";n("7d39")},d063:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{click:t.handleClick}},[n(t.config.component,{ref:"component",tag:"component",staticClass:"component",style:t.getStyle(t.config.style),attrs:{"prop-value":t.config.propValue,element:t.config}})],1)},i=[],r=(n("456d"),n("ac6a"),n("901a")),o=n("1d4b"),c=n("4884"),s={mixins:[c["b"]],props:{config:{type:Object,require:!0,default:function(){}}},mounted:function(){this.$refs.component&&this.$refs.component.$el&&Object(o["a"])(this.$refs.component.$el,this.config.animations)},methods:{getStyle:r["b"],handleClick:function(){var t=this,e=this.config.events;Object.keys(e).forEach((function(n){t[n](e[n])}))}}},u=s,l=(n("0784"),n("2877")),f=Object(l["a"])(u,a,i,!1,null,"40996eb5",null);e["a"]=f.exports},f5b8:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isUseTemplate?n("div",{ref:"appRef",class:t.handleNavbarStyle,style:t.style},[n("div",{staticClass:"time-box",style:{width:t.canvasStyleData.width+"px"}},[n("WeatherTime")],1),t._v(" "),n("div",{staticClass:"home-canvas",style:t.style},t._l(t.componentData,(function(t,e){return n("ComponentWrapper",{key:e,attrs:{config:t}})})),1)]):n("custom-index")},i=[],r=(n("8e6e"),n("456d"),n("5df3"),n("4f7f"),n("2909")),o=(n("ac6a"),n("96cf"),n("1da1")),c=n("ade3"),s=n("967e"),u=n.n(s),l={width:"1",height:"1"},f=1920,h=1080,d=parseFloat((f/h).toFixed(5)),p={data:function(){return{drawTiming:null}},mounted:function(){var t=this;setTimeout((function(){t.calcRate()}),200),window.addEventListener("resize",this.resize)},created:function(){},beforeDestroy:function(){window.removeEventListener("resize",this.resize)},methods:{calcRate:function(){var t=this.$refs["appRef"];if(t){var e=parseFloat((window.innerWidth/window.innerHeight).toFixed(5));t&&(e>d?(l.width=(window.innerHeight*d/f).toFixed(5),l.height=(window.innerHeight/h).toFixed(5),t.style.transform="scale(".concat(l.width,", ").concat(l.height,") translate(-50%, -50%)")):(l.height=(window.innerWidth/d/h).toFixed(5),l.width=(window.innerWidth/f).toFixed(5),t.style.transform="scale(".concat(l.width,", ").concat(l.height,") translate(-50%, -50%)")))}},resize:function(){var t=this;clearTimeout(this.drawTiming),this.drawTiming=setTimeout((function(){t.calcRate()}),200)}}},m=n("d063"),v=n("2f62"),b=n("51cf"),w=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},y=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cunstom-index"},[n("h4",{staticClass:"animated slideOutDown slow infinite delay-3s"},[t._v("\n    请联系管理员,配置系统！\n  ")])])}],g={data:function(){return{baseUrl:this.global.baseUrl}},computed:{},beforeCreate:function(){},created:function(){},methods:{}},O=g,j=(n("bacc"),n("2877")),_=Object(j["a"])(O,w,y,!1,null,"56490d5a",null),D=_.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"weathertime"},[n("div",{staticClass:"weather",staticStyle:{width:"324px"}},[n("span",[t._v(t._s(this.projectInfo.city))]),t._v(" "),t.noWeatherData?n("span",[t._v(t._s(t.weather))]):t._e(),t._v(" "),t.noWeatherData?n("span",[t._v(t._s(t.temperature)+"℃")]):t._e()]),t._v(" "),n("div",{staticClass:"time",staticStyle:{width:"340px"}},[n("span",[t._v(t._s(t.nowDate))])])])},x=[],T=n("bc3a"),E=n.n(T),C=n("ed08"),P=n("71b5");function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var $="https://restapi.amap.com/v3/weather/weatherInfo?key=c920b755a608ad8536941c2a5cb5127a&city=",L={data:function(){return{noWeatherData:!0,city_list:P["a"],nowDate:"",weatherData:"",wsuri:null,temperature:"",weather:"",time:null}},watch:{},computed:I({},Object(v["b"])(["path","projectInfo"])),created:function(){this.time=setInterval(this.getNowTime,1e3),this.findApiInfo()},mounted:function(){},beforeDestroy:function(){clearInterval(this.time),this.time=null},methods:{getNowTime:function(){this.nowDate=Object(C["c"])((new Date).getTime())},findApiInfo:function(){var t=Object(o["a"])(u.a.mark((function t(){var e,n,a=this;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,E.a.get($+this.getCityCode());case 2:e=t.sent;try{n=e.data.lives,n.forEach((function(t){a.temperature=t.temperature,a.weather=t.weather}))}catch(i){this.noWeatherData=!1}case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getCityCode:function(){var t="";for(var e in this.city_list)if(Object.hasOwnProperty.call(P["a"],e)){var n=P["a"][e];this.projectInfo.city==n&&(t=e)}return t}}},W=L,N=(n("26b1"),Object(j["a"])(W,S,x,!1,null,"04702400",null)),U=N.exports;function F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var z={mixins:[p],components:{ComponentWrapper:m["a"],CustomIndex:D,WeatherTime:U},data:function(){return{baseUrl:this.global.baseUrl,isUseTemplate:!1,style:null,markStyle:null,canvasStyleData:{},componentData:[],pageModel:""}},computed:R(R({},Object(v["b"])(["path"])),{},{handleNavbarStyle:function(){return"leftSide"===this.pageModel?"canvas-container-home":"canvas-container-middle-home"},canvasWidth:function(){return{width:this.canvasStyleData.width}}}),beforeCreate:function(){this.$store.commit("project/SET_NAV_CURR_ID",1)},created:function(){this.getTemplateList()},methods:{getTemplateList:function(){var t=Object(o["a"])(u.a.mark((function t(){var e,n,a,i,r,o,c,s,l,f;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(b["e"])(this.path,{pageSum:1,pageSize:1,release:1,status:1});case 2:e=t.sent,2e4===e.status&&(n=e.data||{},a=n.records,i=a||[],i.length>0?(this.isUseTemplate=!0,r=i[0],o=r.canvasStyleData,c=r.componentData,s=JSON.parse(o)||{},l=JSON.parse(c)||[],this.canvasStyleData=s,this.componentData=l,this.setStyle(),this.handleComponentParams(),f=s.pageModel,this.pageModel=f):(this.isUseTemplate=!1,this.$store.commit("project/SET_INDEX_STYLE",{backgroundType:"customIndex"})));case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setStyle:function(){var t=this.canvasStyleData;this.style="height:".concat(t.height,"px;\n          width:").concat(t.width,"px;"),this.$store.commit("project/SET_INDEX_STYLE",t)},handleComponentParams:function(){var t=this,e=[];this.componentData.forEach((function(t){t.iscensus&&(t.droff&&e.push(t.droff),t.dronline&&e.push(t.dronline),t.drtotal&&e.push(t.drtotal))})),e=Object(r["a"])(new Set(e)),e.length>0&&(this.timer=setInterval((function(){t.$store.dispatch("lowcode/findTagValueByTagName",e)}),2e3))}},beforeDestroy:function(){clearInterval(this.timer),this.timer=null}},J=z,M=(n("7390"),Object(j["a"])(J,a,i,!1,null,"d50e6e10",null));e["default"]=M.exports}}]);