(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48af6f56"],{"09f4":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),Math.easeInOutQuad=function(e,t,a,o){return e/=o/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function l(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function i(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function n(e,t,a){var n=i(),r=e-n,p=20,s=0;t="undefined"===typeof t?500:t;var c=function e(){s+=p;var i=Math.easeInOutQuad(s,n,r,t);l(i),s<t?o(e):a&&"function"===typeof a&&a()};c()}},"2f219":function(e,t,a){},"4a19":function(e,t,a){"use strict";a("2f219")},"4bcf":function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-upload",{attrs:{action:"",accept:"image/png, image/gif, image/jpg, image/jpeg","list-type":"picture-card",limit:1,"on-success":e.uploadSuccess,"on-error":e.uploadError,"before-upload":e.beforeAvatarUpload,"on-change":e.uploadChange,"on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove,"file-list":e.fileList,"auto-upload":!1}},[a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},l=[],i={name:"MyImgUpload",data:function(){return{fileList:[],editData:"",dialogImageUrl:"",dialogVisible:!1}},methods:{uploadChange:function(e){var t="image/jpeg"===e.raw.type||"image/png"===e.raw.type||"image/jpg"===e.raw.type||"image/gif"===e.raw.type,a=e.size/1024/1024<10;return t?a?void this.$emit("upload",e.raw):(this.$message.error("上传文件大小不能超过 10MB!"),!1):(this.$message.error("上传文件只能是图片格式!"),!1)},handleRemove:function(e,t){console.log(e,t)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},beforeAvatarUpload:function(e){},uploadSuccess:function(e,t,a){this.editData.topicPic=e,this.$message.success("上传成功")},uploadError:function(e,t){this.$message.error("上传失败")}}},n=i,r=a("2877"),p=Object(r["a"])(n,o,l,!1,null,null,null);t["a"]=p.exports},"6c3c":function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return i}));a("ac6a");function o(e,t){var a="";return isNaN(e)||null==e||"null"==e?""!=e&&null!=e&&"null"!=e?(t.forEach((function(t){e==t.value&&(a=t.id)})),a):a:e}function l(e,t){var a="";return null!=e&&"null"!=e&&""!==e?isNaN(parseInt(e))?e:(t.forEach((function(t){parseInt(e)==t.id&&(a=t.value)})),a):a}function i(e){return null===e||"null"===e?(e="",e):e}},"707c":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin-container"},[a("div",{staticClass:"admin-header"},[a("div",{staticClass:"admin-header-left"},[a("div",{staticClass:"admin-header-left-tit"},[e._v("项目信息")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogFormVisible=!0}}},[e._v("\n        增加\n      ")])],1),e._v(" "),a("div",{staticClass:"admin-header-right"})]),e._v(" "),a("div",{staticClass:"admin-tablebox"},[a("el-table",{staticClass:"admin-table",attrs:{data:e.tableDatas,border:""}},[a("af-table-column",{attrs:{prop:"appname",label:"项目名称"}}),e._v(" "),a("af-table-column",{attrs:{prop:"applogotype",label:"LOGO类型"}}),e._v(" "),a("af-table-column",{attrs:{prop:"applogotext",label:"LOGO文字显示"}}),e._v(" "),a("af-table-column",{attrs:{prop:"applogoimg",label:"LOGO图片显示"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[o.applogoimg?a("img",{attrs:{width:"50",height:"50",src:e.baseUrl+o.applogoimg}}):e._e()]}}])}),e._v(" "),a("af-table-column",{attrs:{prop:"apparea",label:"项目面积"}}),e._v(" "),a("af-table-column",{attrs:{prop:"appdate",label:"项目创建时间"}}),e._v(" "),a("af-table-column",{attrs:{prop:"appman",label:"项目人数"}}),e._v(" "),a("af-table-column",{attrs:{prop:"apppic",label:"项目图片显示"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[o.apppic?a("img",{attrs:{width:"50",height:"50",src:e.baseUrl+o.apppic}}):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){return e.handelEdit(t.$index,t.row)}}},[e._v("\n            编辑\n          ")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.handelDelete(t.$index,t.row)}}},[e._v("\n            删除\n          ")])]}}])})],1),e._v(" "),a("pages-pagination",{directives:[{name:"show",rawName:"v-show",value:e.filterObj.rowCount>0,expression:"filterObj.rowCount > 0"}],staticClass:"admin-pagination",attrs:{total:e.filterObj.rowCount,page:e.filterObj.pageCurrent,limit:e.filterObj.pageSize},on:{"update:page":function(t){return e.$set(e.filterObj,"pageCurrent",t)},"update:limit":function(t){return e.$set(e.filterObj,"pageSize",t)},pagination:e.getList}})],1),e._v(" "),a("el-dialog",{attrs:{title:"新增项目信息",visible:e.addDialogFormVisible},on:{"update:visible":function(t){e.addDialogFormVisible=t}}},[a("el-form",{ref:"form",staticClass:"form"},[a("el-form-item",{attrs:{label:"项目名称"}},[a("el-input",{attrs:{readonly:""},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"LOGO类型"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择LOGO类型"},model:{value:e.applogotype,callback:function(t){e.applogotype=t},expression:"applogotype"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"LOGO文字"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入LOGO文字"},model:{value:e.logoText,callback:function(t){e.logoText=t},expression:"logoText"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目面积"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入项目面积"},model:{value:e.projectArea,callback:function(t){e.projectArea=t},expression:"projectArea"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目创建时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择项目创建时间"},model:{value:e.projectCreateTime,callback:function(t){e.projectCreateTime=t},expression:"projectCreateTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目人数"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入项目人数"},model:{value:e.projectPeople,callback:function(t){e.projectPeople=t},expression:"projectPeople"}})],1),e._v(" "),a("el-form-item",{staticClass:"upload",attrs:{label:"LOGO图片"}},[a("MyImgUpload",{on:{upload:e.uploadLogoImg}})],1),e._v(" "),a("el-form-item",{staticClass:"upload",attrs:{label:"项目图片"}},[a("MyImgUpload",{on:{upload:e.uploadProjectImg}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handelAdd}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改项目信息",visible:e.updateDialogFormVisible},on:{"update:visible":function(t){e.updateDialogFormVisible=t}}},[a("el-form",{ref:"form",staticClass:"form"},[a("el-form-item",{attrs:{label:"项目名称"}},[a("el-input",{attrs:{readonly:""},model:{value:e.editeData.appname,callback:function(t){e.$set(e.editeData,"appname",t)},expression:"editeData.appname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"LOGO类型"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择LOGO类型"},model:{value:e.editeData.applogotype,callback:function(t){e.$set(e.editeData,"applogotype",t)},expression:"editeData.applogotype"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"LOGO文字"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入LOGO文字"},model:{value:e.editeData.applogotext,callback:function(t){e.$set(e.editeData,"applogotext",t)},expression:"editeData.applogotext"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目面积"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入项目面积"},model:{value:e.editeData.apparea,callback:function(t){e.$set(e.editeData,"apparea",t)},expression:"editeData.apparea"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目创建时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择项目创建时间"},model:{value:e.editeData.appdate,callback:function(t){e.$set(e.editeData,"appdate",t)},expression:"editeData.appdate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目人数"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入项目人数"},model:{value:e.editeData.appman,callback:function(t){e.$set(e.editeData,"appman",t)},expression:"editeData.appman"}})],1),e._v(" "),a("el-form-item",{staticClass:"upload",attrs:{label:"LOGO图片"}},[e.editeData.applogoimg?a("div",{staticClass:"upload-img"},[a("img",{attrs:{src:e.baseUrl+e.editeData.applogoimg}}),e._v(" "),a("i",{staticClass:"upload-close el-icon-circle-close",on:{click:function(t){return e.deleteImg(1)}}})]):e._e(),e._v(" "),a("MyImgUpload",{staticClass:"upload-logo-img",on:{upload:e.uploadLogoImg}})],1),e._v(" "),a("el-form-item",{staticClass:"upload",attrs:{label:"项目图片"}},[e.editeData.apppic?a("div",{staticClass:"upload-img"},[a("img",{staticClass:"project-img",attrs:{src:e.baseUrl+e.editeData.apppic}}),e._v(" "),a("i",{staticClass:"upload-close el-icon-circle-close",on:{click:function(t){return e.deleteImg(2)}}})]):e._e(),e._v(" "),a("MyImgUpload",{staticClass:"upload-project-img",on:{upload:e.uploadProjectImg}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.updateDialogFormVisible=!1}}},[e._v("\n        取 消\n      ")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handelUpdate}},[e._v("确 定")])],1)],1)],1)},l=[],i=(a("8e6e"),a("456d"),a("ac6a"),a("ade3")),n=a("2f62"),r=a("4bcf"),p=a("b775");function s(e,t,a){return Object(p["a"])({url:"zsqy/appinfo/".concat(e,"/find"),method:"get",params:{pageCurrent:t,pageSize:a}})}function c(e,t){return Object(p["a"])({url:"zsqy/appinfo/".concat(e,"/save"),method:"post",data:t})}function d(e,t){return Object(p["a"])({url:"zsqy/appinfo/".concat(e,"/update"),method:"put",data:t})}function u(e,t){return Object(p["a"])({url:"zsqy/appinfo/".concat(e,"/delete"),method:"delete",params:{appid:t}})}var m=a("6c3c"),g=a("ed08"),f=a("b190");function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){Object(i["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v={inject:["reload"],name:"ProjectInformation",components:{PagesPagination:f["a"],MyImgUpload:r["a"]},computed:h({},Object(n["b"])(["path","projectId","projectName"])),data:function(){return{baseUrl:this.global.baseUrl,logoType:"",logoText:"",logoImg:"",applogotype:"",projectArea:"",projectCreateTime:"",projectPeople:"",projectImg:"",addDialogFormVisible:!1,updateDialogFormVisible:!1,filterObj:{pageCurrent:1,pageCount:1,pageSize:10,rowCount:0},options:[{id:1,value:"显示文字"},{id:2,value:"显示图片"}],tableDatas:[],editeData:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;s(this.path,this.filterObj.pageCurrent,this.filterObj.pageSize).then((function(t){e.filterObj.rowCount=t.data.rowCount,e.tableDatas=t.data.records,e.tableDatas.forEach((function(t){t.applogotype=Object(m["a"])(t.applogotype,e.options),null!=t.appdate&&(t.appdate=Object(g["d"])(t.appdate))}))})).catch(console.log)},uploadLogoImg:function(e){this.logoImg=e},uploadProjectImg:function(e){this.projectImg=e},deleteImg:function(e){console.log(e,"deleteImg"),1===e?(this.editeData.applogoimg="",this.logoImg=""):(this.projectImg="",this.editeData.apppic="")},handelAdd:function(){var e=this,t=new FormData;t.append("appname",this.projectName),t.append("applogotype",this.applogotype),t.append("applogotext",this.logoText),t.append("apparea",this.projectArea),t.append("appman",this.projectPeople),""!=this.projectCreateTime&&null!=this.projectCreateTime&&t.append("appdate",this.projectCreateTime),""!=this.logoImg&&t.append("file1",this.logoImg),""!=this.projectImg&&t.append("file2",this.projectImg),c(this.path,t).then((function(t){2e4===t.status&&(e.$message.success("新增成功!"),e.reload())})).catch(console.log)},handelEdit:function(e,t){this.updateDialogFormVisible=!0,this.editeData=t},handelUpdate:function(){var e=this,t=new FormData;t.append("appid",this.editeData.appid),t.append("appname",this.editeData.appname),t.append("applogotype",Object(m["c"])(this.editeData.applogotype,this.options)),t.append("applogotext",this.editeData.applogotext),t.append("apparea",this.editeData.apparea),null!=this.editeData.appman&&t.append("appman",this.editeData.appman),""!=this.editeData.appdate&&null!=this.editeData.appdate&&t.append("appdate",new Date(this.editeData.appdate)),""!=this.logoImg&&t.append("file1",this.logoImg),t.append("applogoimg",this.editeData.applogoimg||""),""!=this.projectImg&&t.append("file2",this.projectImg),t.append("apppic",this.editeData.apppic||""),d(this.path,t).then((function(t){2e4===t.status&&(e.$message.success("修改成功!"),e.reload())})).catch(console.log)},handelDelete:function(e,t){var a=this,o=confirm("确定要删除该项目的信息吗？");!0===o&&u(this.path,t.appid).then((function(e){2e4===e.status&&(a.$message.success("删除成功!"),a.reload())})).catch(console.log)}}},j=v,O=(a("4a19"),a("2877")),y=Object(O["a"])(j,o,l,!1,null,"931400d4",null);t["default"]=y.exports}}]);