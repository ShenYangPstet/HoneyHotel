(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e25cb7f2"],{"09f4":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),Math.easeInOutQuad=function(e,t,n,a){return e/=a/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)};var a=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function i(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function o(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function r(e,t,n){var r=o(),s=e-r,c=20,u=0;t="undefined"===typeof t?500:t;var l=function e(){u+=c;var o=Math.easeInOutQuad(u,r,s,t);i(o),u<t?a(e):n&&"function"===typeof n&&n()};l()}},"55fb":function(e,t,n){"use strict";n("90a9")},5977:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pages-container"},[n("div",{staticClass:"pages-header"},[e._v("用户菜单权限")]),e._v(" "),n("div",{staticClass:"pages-filter"},[n("div",{staticClass:"filter-btn"},[n("el-button",{staticClass:"btn-add",on:{click:function(t){e.addDialog=!0}}},[e._v("增加")]),e._v(" "),n("el-button",{attrs:{type:"danger"},on:{click:e.deletePermissions}},[e._v("\n        批量删除\n      ")])],1)]),e._v(" "),n("div",{staticClass:"pages-tablebox"},[n("el-table",{staticClass:"pages-table",attrs:{data:e.tableDatas},on:{"selection-change":e.selectPermission}},[n("el-table-column",{attrs:{type:"selection",width:"70",align:"center"}}),e._v(" "),n("af-table-column",{attrs:{prop:"id",label:"ID",width:"55",align:"center"}}),e._v(" "),n("af-table-column",{attrs:{prop:"usergroupname",label:"用户组",align:"center"}}),e._v(" "),n("af-table-column",{attrs:{width:"1000px",prop:"qx",label:"权限",align:"left"}}),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"220",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(n){return e.editePermission(t.$index,t.row)}}},[e._v("\n            编辑\n          ")]),e._v(" "),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(n){return e.deletePermission(t.$index,t.row)}}},[e._v("\n            删除\n          ")])]}}])})],1),e._v(" "),n("pages-pagination",{directives:[{name:"show",rawName:"v-show",value:e.filterObj.rowCount>0,expression:"filterObj.rowCount > 0"}],staticClass:"pages-pagination",attrs:{total:e.filterObj.rowCount,page:e.filterObj.pageCurrent,limit:e.filterObj.pageSize},on:{"update:page":function(t){return e.$set(e.filterObj,"pageCurrent",t)},"update:limit":function(t){return e.$set(e.filterObj,"pageSize",t)},pagination:e.getList}})],1),e._v(" "),n("el-dialog",{attrs:{title:"添加用户组",visible:e.addDialog,modal:!1},on:{"update:visible":function(t){e.addDialog=t}}},[n("el-form",{attrs:{"label-width":"100px","label-position":"left"}},[n("el-form-item",{attrs:{label:"用户组"}},[n("el-input",{attrs:{clearable:""},model:{value:e.userGroup,callback:function(t){e.userGroup=t},expression:"userGroup"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"菜单权限"}},[n("el-tree",{ref:"permissionTree",staticClass:"tree",attrs:{"check-strictly":"true",data:e.permissionTreeData,"show-checkbox":"","node-key":"id",props:e.permissionProps}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.addDialog=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.addTrue}},[e._v("确 定")])],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"修改用户组",visible:e.updateDialog,modal:!1},on:{"update:visible":function(t){e.updateDialog=t}}},[n("el-form",{attrs:{"label-width":"100px","label-position":"left"}},[n("el-form-item",{attrs:{label:"用户组"}},[n("el-input",{attrs:{clearable:""},model:{value:e.permissionEditData.usergroupname,callback:function(t){e.$set(e.permissionEditData,"usergroupname",t)},expression:"permissionEditData.usergroupname"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"菜单权限"}},[n("el-tree",{ref:"permissionTree",staticClass:"tree",attrs:{"show-checkbox":"","node-key":"id","check-strictly":"true",data:e.permissionTreeData,"default-expanded-keys":e.treeKeys,"default-checked-keys":e.treeKeys,props:e.permissionProps}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.updateDialog=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.updatePermission}},[e._v("\n        确 定\n      ")])],1)],1)],1)},i=[],o=(n("8e6e"),n("456d"),n("ac6a"),n("28a5"),n("ade3")),r=n("2f62"),s=n("7c72"),c=n("9c8f"),u=n("b190");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={components:{PagesPagination:u["a"]},name:"Permission",computed:d({},Object(r["b"])(["path"])),data:function(){return{filterObj:{pageCurrent:1,pageCount:1,pageSize:8,rowCount:0},permissions:[],userGroup:"",operateControl:"",addDialog:!1,updateDialog:!1,permissionProps:{children:"children",label:"menuName"},tableDatas:[],permissionTreeData:[],permissionEditData:{},treeKeys:[]}},created:function(){var e=this;Object(c["b"])(this.path).then((function(t){e.permissionTreeData=t.data})).catch(console.log),this.getList()},methods:{getList:function(){var e=this;Object(s["c"])(this.path,this.filterObj.pageCurrent,this.filterObj.pageSize).then((function(t){e.filterObj.rowCount=t.data.rowCount,e.tableDatas=t.data.records})).catch(console.log)},addTrue:function(){var e=this,t=this.$refs.permissionTree.getCheckedKeys(),n=new FormData;n.append("usergroupname",this.userGroup),n.append("qx",t.join(",")),Object(s["a"])(this.path,n).then((function(t){2e4===t.status&&(e.$message.success("新增成功!"),e.reload())})).catch(console.log)},editePermission:function(e,t){this.updateDialog=!0,this.permissionEditData=t,this.treeKeys=t.qx.split(",")},updatePermission:function(){var e=this,t=this.$refs.permissionTree.getCheckedKeys(),n=new FormData;n.append("id",this.permissionEditData.id),n.append("usergroupname",this.permissionEditData.usergroupname),n.append("qx",t.join(",")),Object(s["d"])(this.path,n).then((function(t){2e4===t.status&&(e.$message.success("修改成功!"),e.reload())})).catch(console.log)},deletePermission:function(e,t){var n=this;Object(s["b"])(this.path,t.id).then((function(e){2e4===e.status&&(n.$message.success("删除成功!"),n.reload())})).catch(console.log),this.reload()},selectPermission:function(e){this.permissions=e},deletePermissions:function(){var e=this,t=[];this.permissions.forEach((function(e){t.push(e.id)})),Object(s["b"])(this.path,t.join(",")).then((function(t){2e4===t.status&&(e.$message.success("批量删除成功!"),e.reload())})).catch(console.log)}}},f=p,m=(n("55fb"),n("2877")),b=Object(m["a"])(f,a,i,!1,null,"48c26b19",null);t["default"]=b.exports},"7c72":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return s}));var a=n("b775");function i(e,t,n){return Object(a["a"])({url:"zsqy/usergroup/".concat(e,"/findObject"),method:"get",params:{pageCurrent:t,pageSize:n}})}function o(e,t){return Object(a["a"])({url:"zsqy/usergroup/".concat(e,"/save"),method:"post",data:t})}function r(e,t){return Object(a["a"])({url:"zsqy/usergroup/".concat(e,"/update"),method:"put",data:t})}function s(e,t){return Object(a["a"])({url:"zsqy/usergroup/".concat(e,"/delete"),method:"delete",params:{ids:t}})}},"90a9":function(e,t,n){},"9c8f":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s}));var a=n("b775");function i(e){return Object(a["a"])({url:"zsqy/menu/findAllMenu",method:"get",params:{apptypeid:e}})}function o(e){return Object(a["a"])({url:"zsqy/sysmenuinfo/".concat(e,"/findAllMenu"),method:"get"})}function r(e){return Object(a["a"])({url:"zsqy/pic/".concat(e,"/findObjectInPicmodeid"),method:"get"})}function s(e,t){return Object(a["a"])({url:"zsqy/sysmenuinfo/".concat(e,"/save"),method:"post",data:t})}}}]);