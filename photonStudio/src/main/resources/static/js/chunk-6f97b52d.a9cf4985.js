(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f97b52d"],{"09f4":function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),Math.easeInOutQuad=function(e,t,a,s){return e/=s/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var s=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function i(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function r(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function l(e,t,a){var l=r(),n=e-l,o=20,c=0;t="undefined"===typeof t?500:t;var p=function e(){c+=o;var r=Math.easeInOutQuad(c,l,n,t);i(r),c<t?s(e):a&&"function"===typeof a&&a()};p()}},"0d71":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ttt"},[a("div",{staticClass:"lowcode"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-alert",{attrs:{title:"平台推荐模板",type:"warning",effect:"dark",closable:!1}}),e._v(" "),a("div",{staticClass:"lowcode-platform"},[a("el-row",{attrs:{gutter:20}},e._l(e.masterTemplateList,(function(t,s){return a("el-col",{key:s,attrs:{span:8}},[a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"lowcode-platform-header",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"lowcode-platform-header-title"},[e._v("\n                    "+e._s(t.title)+"\n                  ")])]),e._v(" "),a("div",{staticClass:"lowcode-platform-temp"},[a("el-image",{staticClass:"temp-img",attrs:{src:t.imgurl}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])]),e._v(" "),a("div",{staticClass:"temp-tit"},[e._v(e._s(t.remark))]),e._v(" "),a("div",{staticClass:"temp-edit"},[a("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(a){return e.choiseMasterTemplateToSlave(t)}}},[e._v("\n                      添加到项目模版\n                    ")])],1)],1)])],1)})),1)],1),e._v(" "),a("pages-pagination",{directives:[{name:"show",rawName:"v-show",value:e.filterObj.rowCount>0,expression:"filterObj.rowCount > 0"}],staticClass:"admin-pagination",attrs:{total:e.filterObj.rowCount,page:e.filterObj.pageCurrent,limit:e.filterObj.pageSize},on:{"update:page":function(t){return e.$set(e.filterObj,"pageCurrent",t)},"update:limit":function(t){return e.$set(e.filterObj,"pageSize",t)},pagination:e.getMasterTemplateList}})],1),e._v(" "),a("el-col",{attrs:{span:16}},[a("el-alert",{attrs:{title:e.path+" 项目模板",type:"success",effect:"dark",closable:!1}}),e._v(" "),a("div",{staticClass:"btnbox"},[a("el-button",{attrs:{type:"success"},on:{click:e.showAddDialog}},[e._v("\n            添加项目模板\n          ")])],1),e._v(" "),a("div",{staticClass:"lowcode-project"},[a("el-row",{attrs:{gutter:20}},e._l(e.slaveTemplateList,(function(t,s){return a("el-col",{key:s,attrs:{span:6}},[a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"lowcode-project-header",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"lowcode-project-header-title"},[e._v("\n                    "+e._s(t.title)+"\n                  ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:1==t.release?"success":"info"}},[e._v("\n                    "+e._s(0==t.release?"未发布":"已发布")+"\n                  ")])],1),e._v(" "),a("div",{staticClass:"lowcode-project-temp"},[a("el-image",{staticClass:"temp-img",attrs:{src:t.imgurl}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])]),e._v(" "),a("div",{staticClass:"temp-tit"},[e._v("\n                    "+e._s(t.remark)+"\n                  ")]),e._v(" "),a("div",{staticClass:"temp-edit"},[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.showEditDialog(t)}}},[e._v("\n                      修改\n                    ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.addAssembly(t)}}},[e._v("\n                      组件\n                    ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.choiseSlaveTemplateToMaster(t)}}},[e._v("\n                      推送\n                    ")]),e._v(" "),a("el-popconfirm",{attrs:{title:"确定删除吗？"},on:{confirm:function(a){return e.changeStatus(t.id,2)}}},[a("el-button",{attrs:{slot:"reference",size:"mini",type:"text",plain:""},slot:"reference"},[e._v("\n                        删除\n                      ")])],1)],1)],1)])],1)})),1)],1),e._v(" "),a("pages-pagination",{directives:[{name:"show",rawName:"v-show",value:e.slaveObj.rowCount>0,expression:"slaveObj.rowCount > 0"}],staticClass:"admin-pagination",attrs:{total:e.slaveObj.rowCount,page:e.slaveObj.pageCurrent,limit:e.slaveObj.pageSize},on:{"update:page":function(t){return e.$set(e.slaveObj,"pageCurrent",t)},"update:limit":function(t){return e.$set(e.slaveObj,"pageSize",t)},pagination:e.getSlaveTemplateList}})],1)],1)],1),e._v(" "),a("el-dialog",{staticClass:"template-dialog",attrs:{title:"Add"==e.dialogObj.mode?"添加项目模版":"修改项目模版",visible:e.dialogObj.show,width:"30%"},on:{"update:visible":function(t){return e.$set(e.dialogObj,"show",t)}}},[a("el-form",{ref:"ruleForm",attrs:{rules:e.rules,model:e.temp,"label-position":"left","label-width":"99px"}},[a("el-form-item",{attrs:{label:"名称",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.temp.title,callback:function(t){e.$set(e.temp,"title",t)},expression:"temp.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发布",prop:"status"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.temp.release,callback:function(t){e.$set(e.temp,"release",t)},expression:"temp.release"}}),e._v(" "),a("em",[e._v("发布到页面")])],1),e._v(" "),a("el-form-item",{attrs:{label:"主题",prop:"theme"}},[a("el-select",{attrs:{placeholder:"请选择主题"},model:{value:e.temp.theme,callback:function(t){e.$set(e.temp,"theme",t)},expression:"temp.theme"}},e._l(e.templateThemeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"模版类型",prop:"templateType"}},[a("el-select",{attrs:{placeholder:"请选择模版类型"},model:{value:e.temp.templateType,callback:function(t){e.$set(e.temp,"templateType",t)},expression:"temp.templateType"}},e._l(e.templateTypeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"页面",prop:"pageName"}},[a("el-select",{attrs:{placeholder:"请选择页面"},model:{value:e.temp.pageName,callback:function(t){e.$set(e.temp,"pageName",t)},expression:"temp.pageName"}},e._l(e.templatePagesList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"封面图",prop:"imgurl"}},[a("el-input",{attrs:{placeholder:"请添加封面图"},model:{value:e.temp.imgurl,callback:function(t){e.$set(e.temp,"imgurl",t)},expression:"temp.imgurl"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入描述"},model:{value:e.temp.remark,callback:function(t){e.$set(e.temp,"remark",t)},expression:"temp.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogObj.show=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.isBtnLoading},on:{click:e.editSlaveTemplate}},[e._v("\n        "+e._s("Add"==e.dialogObj.mode?"添加":"修改")+"\n      ")])],1)],1)],1)},i=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("96cf"),a("1da1")),l=a("ade3"),n=a("967e"),o=a.n(n),c=a("a51b"),p=a("51cf"),u=a("b190"),m=a("37cd"),d=a("2f62");function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){Object(l["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v={components:{PagesPagination:u["a"]},computed:g({},Object(d["b"])(["path"])),data:function(){return{isBtnLoading:!1,filterObj:{pageCurrent:1,pageCount:1,pageSize:6,rowCount:0},slaveObj:{pageCurrent:1,pageCount:1,pageSize:8,rowCount:0},masterTemplateList:[],slaveTemplateList:[],dialogObj:{mode:"Add",show:!1},temp:{status:!0,release:!1,theme:c["i"].dark,templateType:c["k"].main,pageName:c["g"].home,title:"项目模版",imgurl:"http://81.69.44.138:8099/imgs/8testdemo/icon/f331e1b21f5641fd9719bc0d4a2aead4.png",remark:"test",canvasStyleData:JSON.stringify(c["d"]),componentData:"[]"},rules:{title:[{required:!0,message:"请填写标题",trigger:"blur"}],imgurl:[{required:!0,message:"请输入图片地址",trigger:"blur"}]},templateTypeList:c["l"],templateThemeList:c["j"],templatePagesList:c["h"]}},created:function(){this.getMasterTemplateList(),this.getSlaveTemplateList()},mounted:function(){},methods:{getMasterTemplateList:function(){var e=Object(r["a"])(o.a.mark((function e(){var t,a,s,i,r,l,n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(p["e"])(m["a"],{pageSum:this.filterObj.pageCurrent,pageSize:this.filterObj.pageSize,status:1});case 2:t=e.sent,2e4===t.status&&(a=t.data||{},s=a.pageCount,i=a.pageCurrent,r=a.pageSize,l=a.rowCount,n=a.records,this.filterObj.pageCurrent=i,this.filterObj.pageCount=s,this.filterObj.pageSize=r,this.filterObj.rowCount=l,this.masterTemplateList=n||[]);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),choiseMasterTemplateToSlave:function(e){var t=this;Object(p["a"])(this.path,g(g({},e),{},{status:1,release:0})).then((function(){t.getSlaveTemplateList(),t.$notify({title:"成功",message:"添加成功",type:"success",duration:2e3})}))},choiseSlaveTemplateToMaster:function(e){var t=this;Object(p["a"])(m["a"],g(g({},e),{},{status:0,release:0})).then((function(){t.getMasterTemplateList(),t.$notify({title:"成功",message:"添加成功",type:"success",duration:2e3})}))},getSlaveTemplateList:function(){var e=Object(r["a"])(o.a.mark((function e(){var t,a,s,i,r,l,n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(p["e"])(this.path,{pageSum:this.slaveObj.pageCurrent,pageSize:this.slaveObj.pageSize,status:1});case 2:t=e.sent,2e4===t.status&&(a=t.data||{},s=a.pageCount,i=a.pageCurrent,r=a.pageSize,l=a.rowCount,n=a.records,this.slaveObj.pageCurrent=i,this.slaveObj.pageCount=s,this.slaveObj.pageSize=r,this.slaveObj.rowCount=l,this.slaveTemplateList=n||[]);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),resetTemp:function(){this.temp={status:!0,release:!1,theme:c["i"].dark,templateType:c["k"].main,pageName:c["g"].home,title:"项目模版",imgurl:"http://81.69.44.138:8099/imgs/8testdemo/icon/f331e1b21f5641fd9719bc0d4a2aead4.png",remark:"test",canvasStyleData:JSON.stringify(c["d"]),componentData:"[]"}},showAddDialog:function(){this.resetTemp(),this.isBtnLoading=!1,this.dialogObj.mode="Add",this.dialogObj.show=!0},showEditDialog:function(e){this.resetTemp(),this.temp=g(g({},e),{},{status:1===e.status,release:1===e.release}),this.isBtnLoading=!1,this.dialogObj.mode="edit",this.dialogObj.show=!0},editSlaveTemplate:function(){var e=this;this.$refs["ruleForm"].validate((function(t){if(!t)return console.log("error submit!!"),!1;e.isBtnLoading=!0,e.temp=g(g({},e.temp),{},{status:e.temp.status?1:0,release:e.temp.release?1:0}),"Add"==e.dialogObj.mode?e.addTemplate():e.updateTemplate()}))},addTemplate:function(){var e=this;Object(p["a"])(this.path,this.temp).then((function(){e.dialogObj.show=!1,e.isBtnLoading=!1,e.getSlaveTemplateList(),e.$notify({title:"成功",message:"添加成功",type:"success",duration:2e3})})).catch((function(){e.isBtnLoading=!1}))},updateTemplate:function(){var e=this;Object(p["f"])(this.path,this.temp).then((function(){e.dialogObj.show=!1,e.isBtnLoading=!1,e.getSlaveTemplateList(),e.$notify({title:"成功",message:"添加成功",type:"success",duration:2e3})})).catch((function(){e.isBtnLoading=!1}))},changeStatus:function(e,t){var a=this,s={id:e};2===t?s=g(g({},s),{},{status:2}):0===t?s=g(g({},s),{},{status:1}):1===t&&(s=g(g({},s),{},{status:0})),Object(p["b"])(this.path,s).then((function(e,t){a.$notify({title:"Success",message:"修改成功",type:"success",duration:2e3}),a.getSlaveTemplateList()}))},addAssembly:function(e){this.$router.push({name:"slaveTemplateEdit",params:{templateObj:e,templateType:"slave"}})}}},b=v,h=(a("1cb0"),a("2877")),w=Object(h["a"])(b,s,i,!1,null,"1b63f57e",null);t["default"]=w.exports},"1cb0":function(e,t,a){"use strict";a("acbd")},"37cd":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var s="zsqy_v2"},acbd:function(e,t,a){}}]);