(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27b358a8"],{"3ab6":function(e,t,n){},"4e19":function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"l",(function(){return c})),n.d(t,"n",(function(){return r})),n.d(t,"c",(function(){return l})),n.d(t,"q",(function(){return o})),n.d(t,"f",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"a",(function(){return g})),n.d(t,"o",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return b})),n.d(t,"m",(function(){return m})),n.d(t,"b",(function(){return R})),n.d(t,"p",(function(){return k})),n.d(t,"e",(function(){return v}));var a=n("b775");function i(e,t){return Object(a["a"])({url:"zsqy/ms/rw/".concat(e,"/findMsRw"),method:"get",params:{drtypeid:t}})}function s(e,t,n,i,s){return Object(a["a"])({url:"zsqy/reg/".concat(e,"/findRegByRegName"),method:"get",params:{pageCurrent:t,pageSize:n,regName:i,rw:s}})}function c(e,t){return Object(a["a"])({url:"zsqy/ms/rw/".concat(e,"/importRw"),method:"post",data:t})}function r(e,t){return Object(a["a"])({url:"zsqy/ms/rw/".concat(e,"/exportRw"),method:"get",responseType:"blob",params:{drtypeid:t}})}function l(e,t){return Object(a["a"])({url:"zsqy/ms/rw/".concat(e,"/insertMsRw"),method:"post",data:t})}function o(e,t){return Object(a["a"])({url:"zsqy/ms/rw/".concat(e,"/updateMsRw"),method:"put",data:t})}function u(e,t){return Object(a["a"])({url:"zsqy/ms/rw/".concat(e,"/deleteMsRw"),method:"delete",params:{id:t}})}function d(e,t,n,i){return Object(a["a"])({url:"zsqy/ms/dz/".concat(e,"/findMsDz"),method:"get",params:{pageCurrent:t,pageSize:n,rwid:i}})}function g(e,t){return Object(a["a"])({url:"zsqy/ms/dz/".concat(e,"/insertMsDz"),method:"post",data:t})}function p(e,t){return Object(a["a"])({url:"zsqy/ms/dz/".concat(e,"/updateMsDz"),method:"put",data:t})}function h(e,t){return Object(a["a"])({url:"zsqy/ms/dz/".concat(e,"/deleteMsDz"),method:"delete",params:{id:t}})}function f(e,t,n,i){return Object(a["a"])({url:"zsqy/ms/jg/".concat(e,"/findMsJg"),method:"get",params:{pageCurrent:t,pageSize:n,dzid:i}})}function b(e,t){return Object(a["a"])({url:"zsqy/ms/jg/".concat(e,"/importJg"),method:"post",data:t})}function m(e,t){return Object(a["a"])({url:"zsqy/ms/jg/".concat(e,"/exportJg"),method:"get",responseType:"blob",params:{dzid:t}})}function R(e,t){return Object(a["a"])({url:"zsqy/ms/jg/".concat(e,"/insertMsJg"),method:"post",data:t})}function k(e,t){return Object(a["a"])({url:"zsqy/ms/jg/".concat(e,"/updateMsJg"),method:"put",data:t})}function v(e,t){return Object(a["a"])({url:"zsqy/ms/jg/".concat(e,"/deleteMsJg"),method:"delete",params:{ids:t}})}},"57c7":function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"i",(function(){return c})),n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"j",(function(){return g})),n.d(t,"d",(function(){return p}));var a=n("b775");function i(e){return Object(a["a"])({url:"zsqy/link/jg/".concat(e,"/findLinkJg"),method:"get"})}function s(e,t){return Object(a["a"])({url:"zsqy/link/jg/".concat(e,"/insertLinkJg"),method:"post",data:t})}function c(e,t){return Object(a["a"])({url:"zsqy/link/jg/".concat(e,"/updateLinkJg"),method:"put",data:t})}function r(e,t){return Object(a["a"])({url:"zsqy/link/jg/".concat(e,"/deleteLinkJg"),method:"delete",params:{id:t}})}function l(e,t,n,i){return Object(a["a"])({url:"zsqy/link/jg/".concat(e,"/findLinkJginfo"),method:"get",params:{pageCurrent:t,pageSize:n,jgId:i}})}function o(e,t){return Object(a["a"])({url:"zsqy/link/jg/".concat(e,"/importJginfo"),method:"post",data:t})}function u(e,t){return Object(a["a"])({url:"zsqy/link/jg/".concat(e,"/exportJginfo"),method:"get",responseType:"blob",params:{jgId:t}})}function d(e,t){return Object(a["a"])({url:"zsqy/link/jg/".concat(e,"/insertLinkJginfo"),method:"post",data:t})}function g(e,t){return Object(a["a"])({url:"zsqy/link/jg/".concat(e,"/updateLinkJginfo"),method:"put",data:t})}function p(e,t){return Object(a["a"])({url:"zsqy/link/jg/".concat(e,"/deleteLinkJginfo"),method:"delete",params:{ids:t}})}},"821b":function(e,t,n){"use strict";n("3ab6")},"9c8f":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return r}));var a=n("b775");function i(e){return Object(a["a"])({url:"zsqy/menu/findAllMenu",method:"get",params:{apptypeid:e}})}function s(e){return Object(a["a"])({url:"zsqy/sysmenuinfo/".concat(e,"/findAllMenu"),method:"get"})}function c(e){return Object(a["a"])({url:"zsqy/pic/".concat(e,"/findObjectInPicmodeid"),method:"get"})}function r(e,t){return Object(a["a"])({url:"zsqy/sysmenuinfo/".concat(e,"/save"),method:"post",data:t})}},b334:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pages-container"},[n("div",{staticClass:"conditions"},[n("div",{staticClass:"conditions-left"},[n("div",{staticClass:"pages-header"},[e._v("联动结果")]),e._v(" "),n("div",{staticClass:"pages-filter"},[n("div",{staticClass:"filter-li"},[n("span",[e._v("联动结果名:")]),e._v(" "),n("el-input",{attrs:{type:"text",clearable:""},model:{value:e.linkageResultName,callback:function(t){e.linkageResultName=t},expression:"linkageResultName"}})],1),e._v(" "),n("div",{staticClass:"filter-btn"},[n("el-button",{staticClass:"btn-add",on:{click:e.addLinkageResult}},[e._v("\n            增加\n          ")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.updateLinkageResult}},[e._v("\n            修改\n          ")])],1)]),e._v(" "),n("div",{staticClass:"pages-tablebox"},[n("el-table",{staticClass:"pages-table",attrs:{data:e.linkageResultData},on:{"row-click":e.operateLinkageResult}},[n("el-table-column",{attrs:{prop:"jgId",label:"ID"}}),e._v(" "),n("el-table-column",{attrs:{prop:"jgName",label:"联动结果名"}}),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{icon:"el-icon-edit",size:"mini"},on:{click:function(n){return e.chooseLinkageResult(t.row)}}}),e._v(" "),n("el-button",{attrs:{icon:"el-icon-delete",size:"mini",type:"danger"},on:{click:function(n){return e.deleteLinkageResult(t.row)}}})]}}])})],1)],1)]),e._v(" "),n("div",{staticClass:"conditions-right"},[n("div",{staticClass:"pages-header"},[e._v("联动结果名:"+e._s(e.showLinkageResultName))]),e._v(" "),n("div",{staticClass:"linkbox"},[n("div",{staticClass:"linkbox-left"},[n("div",{staticClass:"pages-filter"},[n("div",{staticClass:"filter-li"},[n("el-input",{attrs:{type:"text",placeholder:"请输入变量名"},on:{input:e.searchReg},model:{value:e.searchRegName,callback:function(t){e.searchRegName=t},expression:"searchRegName"}})],1)]),e._v(" "),n("el-scrollbar",{staticClass:"reg-tree"},[n("el-tree",{ref:"tree",attrs:{data:e.treeData,"default-expand-all":"","show-checkbox":"","node-key":"regId",props:e.defaultProps}})],1),e._v(" "),n("el-pagination",{attrs:{background:"","current-page":e.currentPageReg,"page-size":e.pageSizeReg,"pager-count":5,layout:"prev, pager, next",total:e.totalCountReg},on:{"current-change":e.handleCurrentChangeReg}})],1),e._v(" "),n("div",{staticClass:"linkbox-right"},[n("div",{staticClass:"pages-filter"},[n("div",{staticClass:"filter-li"},[n("el-input",{attrs:{placeholder:"变量值",type:"text"},model:{value:e.regValue,callback:function(t){e.regValue=t},expression:"regValue"}})],1),e._v(" "),n("div",{staticClass:"filter-li"},[n("el-input",{attrs:{placeholder:"视频id",type:"text"},model:{value:e.videoId,callback:function(t){e.videoId=t},expression:"videoId"}})],1),e._v(" "),n("div",{staticClass:"filter-li"},[n("el-cascader",{attrs:{placeholder:"页面选择",options:e.picData,"show-all-levels":!1,props:{expandTrigger:"hover",label:"picname",value:"picid",checkStrictly:!0},clearable:""},on:{change:e.handleChange},model:{value:e.picId,callback:function(t){e.picId=t},expression:"picId"}})],1)]),e._v(" "),n("div",{staticClass:"pages-filter filter2"},[n("div",{staticClass:"filter-btn"},[n("el-button",{staticClass:"btn-add",on:{click:e.addLinkageResultReg}},[e._v("\n                新增\n              ")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.updateLinkageResultReg}},[e._v("\n                修改\n              ")])],1),e._v(" "),n("div",{staticClass:"filter-btn filter-m"},[n("ExcelUpload",{staticClass:"upload",on:{excelUpload:e.linkageResultRegIn}})],1),e._v(" "),n("div",{staticClass:"filter-btn"},[n("el-button",{staticClass:"btn-add",on:{click:e.linkageResultRegOut}},[e._v("\n                导出\n              ")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.deleteLinkageResultRegs}},[e._v("\n                全部删除\n              ")])],1)]),e._v(" "),n("el-table",{staticClass:"reddata",attrs:{data:e.linkageResultRegData},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"60"}}),e._v(" "),n("el-table-column",{attrs:{prop:"jgName",label:"联动结果"}}),e._v(" "),n("el-table-column",{attrs:{prop:"regName",label:"变量名"}}),e._v(" "),n("el-table-column",{attrs:{prop:"value",label:"变量值"}}),e._v(" "),n("el-table-column",{attrs:{prop:"spId",label:"视频id"}}),e._v(" "),n("el-table-column",{attrs:{prop:"picId",label:"页面id"}}),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{icon:"el-icon-edit",size:"mini"},on:{click:function(n){return e.editLinkageResultReg(t.row)}}}),e._v(" "),n("el-button",{attrs:{icon:"el-icon-delete",size:"mini",type:"danger"},on:{click:function(n){return e.deleteLinkageResultReg(t.row)}}})]}}])})],1),e._v(" "),e.linkageResultRegData.length>0?n("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"prev, pager, next",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)])])])])},i=[],s=(n("8e6e"),n("456d"),n("ac6a"),n("ade3")),c=n("2f62"),r=n("57c7"),l=n("9c8f"),o=n("4e19"),u=n("ed08"),d=n("cd77"),g=n("e14d");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={inject:["reload"],computed:h({},Object(c["b"])(["path"])),components:{ExcelUpload:g["a"]},data:function(){return{treeData:[{regId:0,regName:"全选",children:[]}],defaultProps:{label:"regName"},linkageResultEditData:"",linkageResultId:"",linkageResultName:"",linkageResultData:[],showLinkageResultName:"",linkageResultRegData:[],currentPage:1,pageSize:8,totalCount:0,currentPageReg:1,pageSizeReg:20,totalCountReg:0,searchRegName:"",linkageResultRegs:[],linkageResultRegEditData:"",regValue:"",videoId:"",picId:[],picData:[]}},created:function(){var e=this;this.findLinkageResult(),this.findAllWriteReg(),Object(l["c"])(this.path).then((function(t){e.picData=t.data})).catch(console.log)},methods:{handleChange:function(e){console.log(e)},findLinkageResult:function(){var e=this;Object(r["e"])(this.path).then((function(t){e.linkageResultData=t.data})).catch(console.log)},addLinkageResult:function(){var e=this,t=new FormData;t.append("jgName",this.linkageResultName),Object(r["a"])(this.path,t).then((function(t){2e4===t.status&&(e.$message.success("新增成功"),e.findLinkageResult())})).catch(console.log)},chooseLinkageResult:function(e){this.linkageResultEditData=e,this.linkageResultName=e.jgName},updateLinkageResult:function(){var e=this,t=new FormData;t.append("jgId",this.linkageResultEditData.jgId),t.append("jgName",this.linkageResultName),Object(r["i"])(this.path,t).then((function(t){2e4===t.status&&(e.$message.success("修改成功"),e.findLinkageResult())})).catch(console.log)},deleteLinkageResult:function(e){var t=this,n=confirm("确定要删除吗？");n&&Object(r["c"])(this.path,e.jgId).then((function(e){2e4===e.status&&(t.$message.success("删除成功"),t.findLinkageResult())})).catch(console.log)},findAllWriteReg:function(){var e=this;Object(o["h"])(this.path,this.currentPageReg,this.pageSizeReg,this.searchRegName,2).then((function(t){e.treeData[0].children=t.data.records,e.totalCountReg=t.data.rowCount})).catch(console.log)},searchReg:function(e){this.searchRegName=e,this.findAllWriteReg()},handleCurrentChangeReg:function(e){this.currentPageReg=e,this.findAllWriteReg()},operateLinkageResult:function(e){this.showLinkageResultName=e.jgName,this.linkageResultEditData=e,this.findLinkageResultReg()},findLinkageResultReg:function(){var e=this;Object(r["f"])(this.path,this.currentPage,this.pageSize,this.linkageResultEditData.jgId).then((function(t){console.log(t,"000"),e.linkageResultRegData=t.data.records,e.totalCount=t.data.rowCount})).catch(console.log)},handleSizeChange:function(e){this.pageSize=e,this.findLinkageResultReg()},handleCurrentChange:function(e){this.currentPage=e,this.findLinkageResultReg()},addLinkageResultReg:function(){var e=this,t=[],n=this.$refs.tree.getCheckedNodes();n.forEach((function(e){0!=e.regId&&t.push(e.regId)}));var a=new FormData;a.append("jgId",this.linkageResultEditData.jgId),a.append("regIds",t),a.append("value",this.regValue),a.append("spId",this.videoId),this.picId.length>0&&a.append("picId",this.picId[this.picId.length-1]),Object(r["b"])(this.path,a).then((function(t){2e4===t.status&&(e.$message.success("新增成功"),e.findLinkageResultReg())})).catch(console.log)},editLinkageResultReg:function(e){console.log(e,"row"),this.linkageResultRegEditData=e,this.regValue=e.value,this.videoId=e.spId,this.picId=e.picId},updateLinkageResultReg:function(){var e=this,t=new FormData;t.append("id",this.linkageResultRegEditData.id),t.append("jgId",this.linkageResultEditData.jgId),t.append("regId",this.linkageResultRegEditData.regId),t.append("value",this.regValue),t.append("spId",this.videoId),this.picId.length>0&&t.append("picId",this.picId[this.picId.length-1]),Object(r["j"])(this.path,t).then((function(t){2e4===t.status&&(e.$message.success("修改成功"),e.findLinkageResultReg())})).catch(console.log)},handleSelectionChange:function(e){var t=this;this.linkageResultRegs=[],e.forEach((function(e){t.linkageResultRegs.push(e.id)}))},deleteLinkageResultReg:function(e){var t=this,n=confirm("确定要删除吗？");n&&Object(r["d"])(this.path,e.id).then((function(e){2e4===e.status&&(t.$message.success("删除成功"),t.findLinkageResultReg())})).catch(console.log)},deleteLinkageResultRegs:function(){var e=this,t=confirm("确定要删除吗？");t&&Object(r["d"])(this.path,this.linkageResultRegs.join(",")).then((function(t){2e4===t.status&&(e.$message.success("删除成功"),e.findLinkageResultReg())})).catch(console.log)},linkageResultRegIn:function(e){var t=this,n=new FormData;n.append("jgId",this.linkageResultEditData.jgId),n.append("file",e);var a=this.$loading({lock:!0,text:"数据正在导入数据库，请稍等",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(r["g"])(this.path,n).then((function(e){2e4===e.status&&(a.close(),t.$message.success("成功导入数据库!"),t.reload())})).catch(console.log)},linkageResultRegOut:function(){Object(r["h"])(this.path,this.linkageResultEditData.jgId).then((function(e){var t=Object(u["c"])(new Date),n="联动结果"+t+".xls";Object(d["a"])(e,n)})).catch(console.log)}}},b=f,m=(n("821b"),n("2877")),R=Object(m["a"])(b,a,i,!1,null,"87f35dae",null);t["default"]=R.exports},cd77:function(e,t,n){"use strict";function a(e,t){var n=new Blob([e]),a=document.createElement("a");a.download=t,a.style.display="none",a.href=URL.createObjectURL(n),document.body.appendChild(a),a.click(),URL.revokeObjectURL(a.href),document.body.removeChild(a)}n.d(t,"a",(function(){return a}))}}]);