(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-398859d3"],{"09f4":function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),Math.easeInOutQuad=function(t,e,a,s){return t/=s/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)};var s=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function i(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function l(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function r(t,e,a){var r=l(),n=t-r,o=20,c=0;e="undefined"===typeof e?500:e;var u=function t(){c+=o;var l=Math.easeInOutQuad(c,r,n,e);i(l),c<e?s(t):a&&"function"===typeof a&&a()};u()}},"1acd":function(t,e,a){"use strict";a("3bdc")},"37cd":function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var s="zsqy_v2"},"3bdc":function(t,e,a){},e73b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ttt"},[a("div",{staticClass:"lowcode"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"filter-wrapper"},[a("el-select",{attrs:{placeholder:"请选择状态",clearable:""},model:{value:t.filterObj.status,callback:function(e){t.$set(t.filterObj,"status",e)},expression:"filterObj.status"}},t._l(t.statusList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),a("el-input",{staticClass:"filter-item",attrs:{placeholder:"标题",clearable:""},model:{value:t.filterObj.title,callback:function(e){t.$set(t.filterObj,"title",e)},expression:"filterObj.title"}}),t._v(" "),a("el-button",{staticClass:"filter-btn",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v("\n            查询\n          ")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.showAddDialog}},[t._v("\n            添加平台模板\n          ")])],1),t._v(" "),a("div",{staticClass:"lowcode-platform"},[a("el-row",{attrs:{gutter:20}},t._l(t.masterTemplateList,(function(e,s){return a("el-col",{key:s,attrs:{span:4}},[a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"lowcode-platform-header",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"lowcode-platform-header-title"},[t._v("\n                    "+t._s(e.title)+"\n                  ")]),t._v(" "),a("el-button",{staticClass:"lowcode-platform-header-btn",attrs:{size:"mini",type:1==e.status?"success":"info"}},[t._v("\n                    "+t._s(0==e.status?"不推荐":"推荐")+"\n                  ")])],1),t._v(" "),a("div",{staticClass:"lowcode-platform-temp"},[a("el-image",{staticClass:"temp-img",attrs:{src:e.imgurl}},[a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])]),t._v(" "),a("div",{staticClass:"temp-tit"},[t._v("\n                    "+t._s(e.remark)+"\n                  ")]),t._v(" "),a("div",{staticClass:"temp-edit"},[a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.showEditDialog(e)}}},[t._v("\n                      修改\n                    ")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.addAssembly(e)}}},[t._v("\n                      组件\n                    ")]),t._v(" "),a("el-popconfirm",{attrs:{title:"确定删除吗？"},on:{confirm:function(a){return t.changeStatus(e.id,2)}}},[a("el-button",{attrs:{slot:"reference",size:"small",type:"text",plain:""},slot:"reference"},[t._v("\n                        删除\n                      ")])],1)],1)],1)])],1)})),1)],1),t._v(" "),a("pages-pagination",{directives:[{name:"show",rawName:"v-show",value:t.filterObj.rowCount>0,expression:"filterObj.rowCount > 0"}],staticClass:"admin-pagination",attrs:{total:t.filterObj.rowCount,page:t.filterObj.pageCurrent,limit:t.filterObj.pageSize},on:{"update:page":function(e){return t.$set(t.filterObj,"pageCurrent",e)},"update:limit":function(e){return t.$set(t.filterObj,"pageSize",e)},pagination:t.getMasterTemplateList}})],1),t._v(" "),a("el-col",{attrs:{span:6}})],1)],1),t._v(" "),a("el-dialog",{staticClass:"template-dialog",attrs:{title:"Add"==t.dialogObj.mode?"添加":"修改",visible:t.dialogObj.show,width:"30%"},on:{"update:visible":function(e){return t.$set(t.dialogObj,"show",e)}}},[a("el-form",{ref:"ruleForm",attrs:{rules:t.rules,model:t.temp,"label-position":"left","label-width":"99px"}},[a("el-form-item",{attrs:{label:"名称",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:t.temp.title,callback:function(e){t.$set(t.temp,"title",e)},expression:"temp.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"推荐",prop:"status"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.temp.status,callback:function(e){t.$set(t.temp,"status",e)},expression:"temp.status"}}),t._v(" "),a("em",[t._v("推荐给所有项目")])],1),t._v(" "),a("el-form-item",{attrs:{label:"主题",prop:"theme"}},[a("el-select",{attrs:{placeholder:"请选择主题"},model:{value:t.temp.theme,callback:function(e){t.$set(t.temp,"theme",e)},expression:"temp.theme"}},t._l(t.templateThemeList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value,disabled:t.disabled}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"模版类型",prop:"templateType"}},[a("el-select",{attrs:{placeholder:"请选择模版类型"},model:{value:t.temp.templateType,callback:function(e){t.$set(t.temp,"templateType",e)},expression:"temp.templateType"}},t._l(t.templateTypeList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value,disabled:t.disabled}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"页面",prop:"pageName"}},[a("el-select",{attrs:{placeholder:"请选择页面"},model:{value:t.temp.pageName,callback:function(e){t.$set(t.temp,"pageName",e)},expression:"temp.pageName"}},t._l(t.templatePagesList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value,disabled:t.disabled}})})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"封面图",prop:"imgurl"}},[a("el-input",{attrs:{placeholder:"请添加封面图"},model:{value:t.temp.imgurl,callback:function(e){t.$set(t.temp,"imgurl",e)},expression:"temp.imgurl"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入描述"},model:{value:t.temp.remark,callback:function(e){t.$set(t.temp,"remark",e)},expression:"temp.remark"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogObj.show=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",loading:t.isBtnLoading},on:{click:t.editMasterTemplate}},[t._v("\n        "+t._s("Add"==t.dialogObj.mode?"添加":"修改")+"\n      ")])],1)],1)],1)},i=[],l=(a("8e6e"),a("ac6a"),a("456d"),a("96cf"),a("1da1")),r=a("ade3"),n=a("967e"),o=a.n(n),c=a("a51b"),u=a("51cf"),p=a("b190"),m=a("37cd"),d=a("2f62");function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var g={components:{PagesPagination:p["a"]},computed:b({},Object(d["b"])(["path"])),data:function(){return{isBtnLoading:!1,statusList:[{label:"不推荐",value:0},{label:"推荐",value:1}],filterObj:{pageCurrent:1,pageCount:1,pageSize:12,rowCount:0,status:null,title:""},masterTemplateList:[],dialogObj:{mode:"Add",show:!1},temp:{status:!1,release:!1,theme:c["i"].dark,templateType:c["k"].main,pageName:c["g"].home,title:"平台模版",imgurl:"http://81.69.44.138:8099/imgs/8testdemo/icon/f331e1b21f5641fd9719bc0d4a2aead4.png",remark:"test",canvasStyleData:JSON.stringify(c["d"]),componentData:"[]"},rules:{title:[{required:!0,message:"请填写标题",trigger:"blur"}],imgurl:[{required:!0,message:"请输入图片地址",trigger:"blur"}]},templateTypeList:c["l"],templateThemeList:c["j"],templatePagesList:c["h"]}},created:function(){this.getMasterTemplateList()},mounted:function(){},methods:{getMasterTemplateList:function(){var t=Object(l["a"])(o.a.mark((function t(){var e,a,s,i,l,r,n;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["e"])(m["a"],{pageSum:this.filterObj.pageCurrent,pageSize:this.filterObj.pageSize,status:this.filterObj.status,title:this.filterObj.title});case 2:e=t.sent,2e4===e.status&&(a=e.data||{},s=a.pageCount,i=a.pageCurrent,l=a.pageSize,r=a.rowCount,n=a.records,this.filterObj.pageCurrent=i,this.filterObj.pageCount=s,this.filterObj.pageSize=l,this.filterObj.rowCount=r,this.masterTemplateList=n||[]);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleFilter:function(){this.filterObj.pageCurrent=1,this.getMasterTemplateList()},resetTemp:function(){this.temp={status:!1,release:!1,theme:c["i"].dark,templateType:c["k"].main,pageName:c["g"].home,title:"平台模版",imgurl:"http://81.69.44.138:8099/imgs/8testdemo/icon/f331e1b21f5641fd9719bc0d4a2aead4.png",remark:"test",canvasStyleData:JSON.stringify(c["d"]),componentData:"[]"}},showAddDialog:function(){this.resetTemp(),this.isBtnLoading=!1,this.dialogObj.mode="Add",this.dialogObj.show=!0},showEditDialog:function(t){this.temp=b(b({},t),{},{status:1===t.status,release:1===t.release}),this.isBtnLoading=!1,this.dialogObj.mode="edit",this.dialogObj.show=!0},editMasterTemplate:function(){var t=this;this.$refs["ruleForm"].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.isBtnLoading=!0,t.temp=b(b({},t.temp),{},{status:t.temp.status?1:0,release:t.temp.release?1:0}),"Add"==t.dialogObj.mode?t.addTemplate():t.updateTemplate()}))},addTemplate:function(){var t=this;Object(u["a"])(m["a"],this.temp).then((function(){t.dialogObj.show=!1,t.isBtnLoading=!1,t.getMasterTemplateList(),t.$notify({title:"成功",message:"添加成功",type:"success",duration:2e3})})).catch((function(){t.isBtnLoading=!1}))},updateTemplate:function(){var t=this;Object(u["f"])(m["a"],this.temp).then((function(){t.dialogObj.show=!1,t.isBtnLoading=!1,t.getMasterTemplateList(),t.$notify({title:"成功",message:"添加成功",type:"success",duration:2e3})})).catch((function(){t.isBtnLoading=!1}))},changeStatus:function(t,e){var a=this,s={id:t};2===e?s=b(b({},s),{},{status:2}):0===e?s=b(b({},s),{},{status:1}):1===e&&(s=b(b({},s),{},{status:0})),Object(u["b"])(m["a"],s).then((function(t){a.$notify({title:"Success",message:"修改成功",type:"success",duration:2e3}),a.getMasterTemplateList()}))},addAssembly:function(t){this.$router.push({name:"masterTemplateEdit",params:{templateObj:t,templateType:"master"}})}}},h=g,v=(a("1acd"),a("2877")),O=Object(v["a"])(h,s,i,!1,null,"18882c9c",null);e["default"]=O.exports}}]);