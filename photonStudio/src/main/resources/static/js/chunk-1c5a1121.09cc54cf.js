(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c5a1121"],{"1f5f":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var c=n("b775");function r(e,t){return Object(c["a"])({url:"/canvas/insertOrUpdate",method:"post",data:t,headers:{database:e}})}function a(e,t){return Object(c["a"])({url:"/canvas/getByPicId",method:"post",data:t,headers:{database:e}})}},5:function(e,t){},"5c37":function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));n("6b54");var c=function(e){return e.perPixelTargetFind=!0,e.hasBorders=!1,e.hasControls=!1,e.hoverCursor="pointer",e.lockMovementX=!0,e.lockMovementY=!0,e.lockRotation=!0,e.lockScalingX=!0,e.lockScalingY=!0,e},r=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,{redirect:function(e){var t=/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/;t.test(e)?window.open(e,"_blank"):this.$router.push(e)},alert:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){alert("提示"+e)})),log:function(e){console.log("打印日志"+e)}}),a=[{label:"跳转事件",value:"redirect"},{label:"提示",value:"alert"},{label:"日志",value:"log"}]},6:function(e,t){},7:function(e,t){},cafc:function(e,t,n){},df86:function(e,t,n){"use strict";n("cafc")},feda:function(e,t,n){"use strict";n.r(t);var c=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"canvasbox"},[n("canvas",{attrs:{id:"canvas"}})])}],a=(n("8e6e"),n("456d"),n("ac6a"),n("96cf"),n("1da1")),o=n("ade3"),i=n("967e"),s=n.n(i),u=n("2f62"),d=n("e767"),l=n("1f5f"),f=n("5c37");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={components:{},data:function(){return{pageId:1,canvas:null}},computed:v({},Object(u["b"])({path:"path",projectId:"projectId"})),watch:{},created:function(){},mounted:function(){this.getCanvasStyleByPicId(this.pageId)},methods:{getCanvasStyleByPicId:function(){var e=Object(a["a"])(s.a.mark((function e(t){var n,c,r,a,o,i;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={picId:t},e.next=3,Object(l["a"])(this.path,this.$formatJson(n));case 3:c=e.sent,r=c.data||{},r.id,r.appId,r.picId,a=r.canvasStyle,o=r.canvasData,i=r.canvasSerialize,a&&o&&i&&this.restore(a,o,i);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),init:function(e,t,n){var c=new d["fabric"].StaticCanvas("canvas");c.loadFromJSON(n)},restore:function(e,t,n){var c=this,r=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,o=(JSON.parse(e),JSON.parse(t)||[]),i=JSON.parse(n)||[];this.canvas=new d["fabric"].Canvas("canvas",{width:r,height:a,selection:!1,includeDefaultValues:!1}),this.canvas.loadFromJSON(i,this.canvas.renderAll.bind(this.canvas),(function(e,t){console.log(e),t=Object(f["c"])(t),o.forEach((function(n){if(n.id===e.customId){var r=Object.keys(n.events);r.length>0&&r.forEach((function(r){if("mouseover"==r){var a=n.events[r];t.on("mouseover",(function(e){var t=e.target;t&&(t.set(a),c.canvas.renderAll())})),t.on("mouseout",(function(t){var n=t.target;n&&(n.set(v({},e)),c.canvas.renderAll())}))}t.on("mousedown",(function(e){f["a"][n.events.mousedown.eventName](n.events.mousedown.eventPara)}))}))}}))}))}}},m=p,w=(n("df86"),n("2877")),b=Object(w["a"])(m,c,r,!1,null,"510d5932",null);t["default"]=b.exports}}]);