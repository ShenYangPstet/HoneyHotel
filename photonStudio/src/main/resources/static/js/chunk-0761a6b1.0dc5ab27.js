(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0761a6b1"],{aefc:function(t,e,a){"use strict";a("bfc9")},b767:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container project-manage-container"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("div",{staticClass:"project-info"},[a("div",{staticClass:"project-list"},[a("p",{staticClass:"project-list-title"},[t._v("项目列表")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.selectObeject}},[t._v("恢复该项目")])],1),t._v(" "),a("div",{staticClass:"project-number"},[t._v("\n            当前项目数量\n            "),a("span",[t._v(t._s(t.objectNum))])])]),t._v(" "),a("div",{staticClass:"buiding-list"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableDatas.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),border:""},on:{"selection-change":t.changeFun}},[a("el-table-column",{attrs:{fixed:"",type:"selection",width:"55"},on:{"selection-change":t.changeFun}}),t._v(" "),t._l(t.tableDataKey,(function(e,n){return a("el-table-column",{key:n,attrs:{prop:e,label:t.tableLables[n],width:t.tableWidth[n]}})})),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return t.handelDelete(e.$index,e.row)}}},[t._v("永久删除")])]}}])})],2),t._v(" "),a("div",{staticClass:"el-pagination"},[a("div",{staticClass:"btn"},[a("button",{on:{click:t.prev}},[t._v("上一页")]),t._v(" "),a("span",[t._v(t._s(t.currentPage))]),t._v(" "),a("button",{on:{click:t.next}},[t._v("下一页")])]),t._v(" "),a("div",[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[5,10,20,40],"page-size":t.pagesize,layout:"total, sizes, jumper",total:t.rowCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1)])])],1)],1)},r=[],i=(a("ac6a"),a("e977")),p={inject:["reload"],name:"ProjectRecover",data:function(){return{selectObj:{},objectNum:0,currentPage:1,rowCount:0,pagesize:10,input1:"",input2:"",input3:"",input4:"",input5:"",dialogFormVisible:!1,addData:{},tableDataKey:[],tableDatas:[{id:"",appName:"",ipaddr:"",appport:"",apptypeid:"",appexplain:"",appstate:"",state:""}],tableLables:["ID","项目名称","项目节点IP地址","项目节点端口号","项目节点用户名","项目描述","项目是否初始化","项目是否删除"],tableWidth:["100","150","200","200","200","200","200","150"]}},created:function(){var t=this,e=1;Object(i["f"])(this.currentPage,this.pagesize,e).then((function(e){var a=e.data;t.rowCount=a.rowCount;var n=a.records,r=[];n.forEach((function(t){var e={id:t.appid,appName:t.appName,ipaddr:t.ipaddr,appport:t.appport,apptypeid:t.apptypeid,appexplain:t.appexplain,appstate:t.appstate,state:t.state};r.push(e)})),t.tableDatas=r,t.tableDatas.forEach((function(e){t.tableData=e}));var i=t.tableData;for(var p in i)t.tableDataKey.push(p)})).catch((function(t){console.log(t)})),Object(i["e"])().then((function(e){var a=e.data;t.objectNum=a})).catch((function(t){console.log(t)}))},methods:{pageSize:function(t){var e=this;this.pagesize=t,this.currentPage=1,Object(i["f"])(this.currentPage,this.pagesize).then((function(t){var a=t.data;e.rowCount=a.rowCount;var n=a.records,r=[];n.forEach((function(t){var e={id:t.appid,appName:t.appName,ipaddr:t.ipaddr,appport:t.appport,apptypeid:t.apptypeid,appexplain:t.appexplain,appstate:t.appstate,state:t.state};r.push(e)})),e.tableDatas=r})).catch(console.log)},handleSizeChange:function(t){this.pagesize=t,this.currentpage=1},handleCurrentChange:function(t){this.currentpage=t},prev:function(){1===this.currentpage?this.currentpage=1:this.currentpage--},next:function(){var t=Math.ceil(this.pageCount/this.pagesize);this.currentpage<t&&this.currentpage++},currentpageChange:function(){var t=this;this.tableDatas.length<this.pageCount&&Object(i["f"])(this.currentpage,this.pagesize).then((function(e){var a=e.data;t.rowCount=a.rowCount;var n=a.records;n.forEach((function(e){var a={id:e.appid,appName:e.appName,ipaddr:e.ipaddr,appport:e.appport,apptypeid:e.apptypeid,appexplain:e.appexplain,appstate:e.appstate,state:e.state};t.tableDatas.push(a)}))})).catch(console.log)},handelDelete:function(t,e){var a=this,n=confirm("确定要永久删除项目吗？一旦删除该项目的数据将消除");if(n){var r=e.id+e.appName;Object(i["d"])(e.id,r).then((function(t){var e=t.msg;"OK"==e&&(a.$message.success("项目删除成功!"),a.reload())})).catch(console.log)}this.reload()},changeFun:function(t){this.selectObj=t},selectObeject:function(){var t=this,e=0;Object(i["g"])(this.selectObj[0].id,e).then((function(e){var a=e.msg;"OK"==a&&(t.$message.success("项目恢复成功!"),t.reload())})).catch(console.log),this.reload()}}},c=p,s=(a("aefc"),a("2877")),o=Object(s["a"])(c,n,r,!1,null,"1382bb17",null);e["default"]=o.exports},bfc9:function(t,e,a){},e977:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"f",(function(){return i})),a.d(e,"a",(function(){return p})),a.d(e,"h",(function(){return c})),a.d(e,"g",(function(){return s})),a.d(e,"d",(function(){return o})),a.d(e,"e",(function(){return u})),a.d(e,"c",(function(){return l}));var n=a("b775");function r(t){return Object(n["a"])({url:"zsqy/manager/Check",method:"get",params:{appName:t}})}function i(t,e,a,r,i){return Object(n["a"])({url:"zsqy/manager/findObject",method:"get",params:{pageCurrent:t,pageSize:e,state:a,region:r,city:i}})}function p(t){return Object(n["a"])({url:"zsqy/manager/save",method:"post",data:t})}function c(t){return Object(n["a"])({url:"zsqy/manager/update",method:"put",data:t})}function s(t,e){return Object(n["a"])({url:"zsqy/manager/remove",method:"delete",params:{appids:t,state:e}})}function o(t,e){return Object(n["a"])({url:"zsqy/manager/deleteObject",method:"delete",params:{appid:t,dBname:e}})}function u(){return Object(n["a"])({url:"zsqy/manager/findCount",method:"get"})}function l(t,e){return Object(n["a"])({url:"zsqy/manager/init",method:"post",params:{appid:t,dBname:e}})}}}]);