(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fea8c8e0"],{"00d2":function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return r})),n.d(e,"a",(function(){return s})),n.d(e,"f",(function(){return c})),n.d(e,"b",(function(){return l}));var i=n("b775");function a(t,e){return Object(i["a"])({url:"zsqy/images/".concat(t,"/findAll"),method:"get",params:{imgname:e}})}function o(t){return Object(i["a"])({url:"zsqy/sub/".concat(t,"/findAll"),method:"get"})}function r(t,e,n,a){return Object(i["a"])({url:"zsqy/subinfo/".concat(t,"/findObject"),method:"get",params:{pageCurrent:e,pageSize:n,subid:a}})}function s(t,e){return Object(i["a"])({url:"zsqy/subinfo/".concat(t,"/save"),method:"post",data:e})}function c(t,e){return Object(i["a"])({url:"zsqy/subinfo/".concat(t,"/update"),method:"put",data:e})}function l(t,e){return Object(i["a"])({url:"zsqy/subinfo/".concat(t,"/delete"),method:"delete",params:{ids:e}})}},"01af":function(t,e,n){},"0342":function(t,e){t.exports="data:image/png;base64,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"},"0345":function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return r})),n.d(e,"e",(function(){return s})),n.d(e,"a",(function(){return c}));var i=n("b775");function a(t,e){return Object(i["a"])({url:"zsqy/drinfo/".concat(t,"/findDr"),method:"get",params:{drid:e}})}function o(t,e){return Object(i["a"])({url:"zsqy/regdata/".concat(t,"/findObjByDrid"),method:"post",data:e})}function r(t,e){return Object(i["a"])({url:"zsqy/qsAlarmlog/".concat(t,"/findObjectByDrid"),method:"post",data:e})}function s(t,e,n){return Object(i["a"])({url:"zsqy/qsLdJgr/".concat(t,"/doimplements"),method:"get",params:{appid:e,msg:n}})}function c(t,e){return Object(i["a"])({url:"zsqy/qsLdJgr/".concat(t,"/doimplements"),method:"post",data:e})}},"0a35":function(t,e,n){"use strict";n("bb3b")},"0c6f":function(t,e,n){"use strict";n.d(e,"f",(function(){return a})),n.d(e,"e",(function(){return o})),n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return l}));var i=n("b775");function a(t){return Object(i["a"])({url:"zsqy/pic/".concat(t,"/findAllPicNameid"),method:"get"})}function o(t){return Object(i["a"])({url:"zsqy/Drtypeinfo/".concat(t,"/findAllDrtypeAndDr"),method:"get",params:{iscustomType:0}})}function r(t,e,n){return Object(i["a"])({url:"zsqy/Drtypeinfo/".concat(t,"/findDrinfoByType"),method:"get",params:{drtypeid:e,drname:n}})}function s(t,e){return Object(i["a"])({url:"zsqy/reg/".concat(t,"/findAllByDrid"),method:"get",params:{drid:e}})}function c(t){return Object(i["a"])({url:"zsqy/energyinfo/".concat(t,"/findAllEnergyinfo"),method:"get"})}function l(t){return Object(i["a"])({url:"zsqy/QsLdRw/".concat(t,"/findAll"),method:"get"})}},1044:function(t,e,n){},"10e2":function(t,e,n){"use strict";n("c8bab")},1569:function(t,e,n){},"20dd":function(t,e,n){},2326:function(t,e,n){"use strict";n("3403")},2411:function(t,e,n){"use strict";n("ba1b")},2642:function(t,e,n){"use strict";n("74ac")},"26f2":function(t,e,n){},2997:function(t,e,n){},3403:function(t,e,n){},"35f3":function(t,e,n){"use strict";n("fa0b")},"386d":function(t,e,n){"use strict";var i=n("cb7c"),a=n("83a1"),o=n("5f1b");n("214f")("search",1,(function(t,e,n,r){return[function(n){var i=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=r(n,t,this);if(e.done)return e.value;var s=i(t),c=String(this),l=s.lastIndex;a(l,0)||(s.lastIndex=0);var u=o(s,c);return a(s.lastIndex,l)||(s.lastIndex=l),null===u?-1:u.index}]}))},"3eee":function(t,e,n){t.exports=n.p+"static/img/1.2681742c.jpg"},4112:function(t,e,n){},4173:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAApcAAAAZCAIAAADrK5JHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAFiklEQVR4nO3dvbLTRhQH8KMMQ2guz5AbKrSeASY1aahvx9lUSago7yto9QhQXagIKZLolNTM8ABkaHxEAYSHoErjTbH6tiRLzv3A9v83HrBXq/WOfXXOale2I+89zRdFkff+ov/domMAAACHA8kSAABgV31z1R0AAACALV0L/6nqxqqvX78+PT294P4AAADAVMWM+vv372/fvj1S78uXL2/evPn8+TMSOQAAwFeimFHfuDp+dHRERKenp0+fPr3wTgEAAMAE9bq47/Ph4Z0PD+9UdV69enV8fHwYiVxsZOWqOwEAsD/Umci4zeu3MMOMq9tOTk5OTk5+vH+/USa285aoM0WBOhPV6lrqzEh6bO2FLAqwL8YCQtR/0Dc3jQQDsZ1KdQFCCey/bhb/yHfDrVkYzsi996vV6ujmzemtc1ac02cmXUw9kOJk6b33fpmonTVqGx8fAMAVGwoIVbn3GYcidSZa5K4qZ+kPBmIjS8Xuy9hZaTfnMybirGwVrphx6tUZQrg+R90Z9VvZu1vZOyL6yHerxfJGyZZPwzz/KDLOcS6CyReAfbMpIKizqcl8I/lyFoJ/t6JqnCRFNeO0k67FWkEOh/1WXt1G5P3K+9Une++TvVcU+lXnThRt9yzqnMRxvG0nw6hNbD0R15wyC+M5sdEizUnsSJ2gLi8H90M1AeAibAoIKkJVbh5ljMnTdOCgVeckntbOvmiscYptLjEY57bapJ22pVjlsFIHTuO0u+Jd7ttYFLFC1Rn4WLjum3OZGLTHe7i3qnNxT0T//PQDEX3/199DtVer1Wq1mt56+RpaynzvSHqMOicxsymbEvbeqzMkNrJaTLt7n5GNrBBnfpnExNlIndCjulydocGaAHDOhgJCd2U7z/NqW50Heg9MzjIW27dVnU0pyebGnd0Wx3Hx4oloHIcvAhGRmJm32tR+9fLUUea9D6+5cFj6pDSV9typiLBzpphSaa+VEFFPuHZxEYOXLJ3V11lBe6SHe6vM4r7+sFnI5UTdkuM/34aT9umth/WpjIdHyz3ydBFFURQthJf1kV5Pi4lI3Dg2OUlikU7zQ3U65RNbA4DzMBQQ6oXs9clv47R/Q2vnZaLtVH6QOZzIMJehTjlzRkRJVWNms92mdvNlrGRmKmc5jDHha8OYyzQuIswcNq1dAb1ORKqwHy3SvP0tZPOC9mgP91RzXZy+++Nt89Yp8Z7CraEe+RXaj4IwWp58hhu3Rl3TdpkwWz99Rv9/zP0DwCabA0KdD6YyTsP5V2hWnU1zdoeWwymkcVUVUWYTxyQiIsRstt00AycJiag6J8WFD8WwjeymWe0q6s8M/dX+hxy0m9eo+8m3imGOG8ejWLs+CUPFYMmd09IEM+eprRdg0nT9r22oDnPjNECc00mtAcB52hgQOEkoXUxYzVRnWsOBEM0lTfNDvajNMJNYJ8aYcN9V6XirTXM+4W2YSdK0uqhBnRMiMk6XSdx3hhe0wjIVCaV6XgTtjcLY51lpuVz+u8mTJ08aw6bWVFdjRFUuezQeEmfFnb4dymrdorWm1pdYms9Rtdlfp/H8PLBgUxW2nxMAtjctIHRDyHCo6KtVztivhbmDOpSrl7a4331J522q72dc1x+67zNuvVX1exGabvwVtMJ1410c6MPEoL25h/un+8ukz58/J6JHj34louvXvw0Pg1BIRGdnz/Bt6gAA0BEuVJs/JQ7bu9Z5/PjxY1U9O3sWHj548MAYQ0Sq+uLFb7/88vNldxAAAHaCOifsPFL4pepmcSIyxoTM3SkkopcvfyeiGzduXELPAADaur9uwNnIxetwqaT8yC/ekEvWnVEHAACAXTHj11AAAADgq4IsDgAAsKuQxQEAAHYVsjgAAMCuQhYHAADYVf8Byd7pw/yAkiMAAAAASUVORK5CYII="},"41de":function(t,e,n){t.exports=n.p+"static/img/5.7338009e.png"},"43d2":function(t,e,n){"use strict";n("9286")},4425:function(t,e,n){"use strict";n.d(e,"b",(function(){return g})),n.d(e,"a",(function(){return y}));n("96cf"),n("386d"),n("28a5");var i=n("1da1"),a=n("967e"),o=n.n(a),r=n("4360"),s=n("0345"),c=n("ff97"),l=r["a"].getters.path,u=r["a"].getters.projectId;function d(t,e,n){return p.apply(this,arguments)}function p(){return p=Object(i["a"])(o.a.mark((function t(e,n,i){var a,r;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["e"])(e,n,i);case 2:a=t.sent,r=a.status,2e4==r&&Object(c["a"])("已下发至设备,请等待设备反馈!!","success");case 5:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}function m(t){return h.apply(this,arguments)}function h(){return h=Object(i["a"])(o.a.mark((function t(e){var n,i;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["a"])(l,e);case 2:n=t.sent,i=n.status,2e4==i&&Object(c["a"])("已下发至设备!!","success");case 5:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}function f(t){var e={appid:u,msg:t};m(e)}function v(t){var e=t.split("_"),n=e[0],i=e[1],a=r["a"].state.drag.switchRegstate;f(a?n:i)}var b={redirect:function(t){t&&(1===t.redirectType?this.$router.push(t.redirectUrl):window.open(t.redirectUrl,"_blank"))},script:function(t){if(-1!=t.search("sendReg")){var e=t.slice(8,t.length-1);d(l,u,e)}else if(-1!=t.search("playVideo")){var n=t.slice(10,t.length-1);window.open("NetVideoPlant:Command["+n+"]","_self")}else if(-1!=t.search("wakeupApp")){var i=t.slice(10,t.length-1);window.open(i,"_blank")}else if(-1!=t.search("switchReg")){var a=t.slice(10,t.length-1);v(a)}}},g={methods:b},y=[{key:"redirect",label:"跳转事件",event:b.redirect,param:{redirectType:1,redirectUrl:""}},{key:"script",label:"脚本",param:""}]},"450a":function(t,e,n){t.exports=n.p+"static/img/4.2b2c99c8.png"},5082:function(t,e,n){"use strict";n("26f2")},"58c9":function(t,e,n){"use strict";n("b769")},"590f":function(t,e,n){"use strict";n.d(e,"a",(function(){return L})),n.d(e,"b",(function(){return V}));n("8e6e"),n("456d"),n("ac6a"),n("673e");var i,a,o=n("ade3"),r=n("4360"),s=n("cbe5a"),c=n("ab2a"),l=n("4128"),u=n.n(l);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m=17,h=91,f=86,v=67,b=88,g=89,y=90,C=71,O=66,w=76,A=85,S=83,k=80,x=68,j=46,D=69,_=37,I=38,T=39,P=40,L=[66,67,68,69,71,76,80,83,85,86,88,89,90],E=(i={},Object(o["a"])(i,f,G),Object(o["a"])(i,g,H),Object(o["a"])(i,y,J),Object(o["a"])(i,S,W),Object(o["a"])(i,k,K),Object(o["a"])(i,D,Z),i),N=p(p({},E),{},Object(o["a"])({},A,tt)),z=p(p({},E),{},(a={},Object(o["a"])(a,v,q),Object(o["a"])(a,b,B),Object(o["a"])(a,C,X),Object(o["a"])(a,O,Y),Object(o["a"])(a,x,F),Object(o["a"])(a,j,F),Object(o["a"])(a,w,Q),a)),M=!1;function V(){window.onkeydown=function(t){if(r["a"].state.drag.isInEdiotr){var e=r["a"].state.drag.curComponent,n=t.keyCode;n==_?R("left"):n==I?R("up"):n==T?R("right"):n==P?R("down"):n===m||n===h?(M=!0,U("isCtrl",!0)):n==j&&e?(r["a"].commit("drag/deleteComponent"),r["a"].commit("drag/recordSnapshot")):M&&(!z[n]||e&&e.isLock?N[n]&&e&&e.isLock&&(t.preventDefault(),N[n]()):(t.preventDefault(),z[n]()))}},window.onkeyup=function(t){t.keyCode!==m&&t.keyCode!==h||(M=!1,U("isCtrl",!1))},window.onmousedown=function(){r["a"].commit("drag/setInEditorStatus",!1)}}function R(t){var e=r["a"].state.drag,n=e.curComponent,i=e.canvasStyleData;if(n&&n.style){var a=n.style,o=a.top,s=a.left,c=a.width,l=a.height,d=i.width,p=i.height;switch(t){case"left":n.style.left=s>=1?--s:0;break;case"right":var m=d-c-s>=1?++s:u.a.sub(d,c).toNumber();n.style.left=m;break;case"up":var h=o>=1?--o:0;n.style.top=h;break;case"down":var f=p-l-o>=1?++o:u.a.sub(p,l).toNumber();n.style.top=f;break}}}function U(t,e){r["a"].commit("drag/setKeyboardEvent",{key:t,value:e})}function q(){r["a"].commit("drag/copy")}function G(){r["a"].commit("drag/paste"),r["a"].commit("drag/recordSnapshot")}function B(){r["a"].commit("drag/cut")}function H(){r["a"].commit("drag/redo")}function J(){r["a"].commit("drag/undo")}function X(){var t=this,e=r["a"].state.drag,n=e.areaData,i=e.ctrlComponentList;if(!n.length&&i.length>0){var a=1/0,o=1/0,s=-1/0,l=-1/0,d=i;d.forEach((function(e){var n={};"Group"==e.component?e.propValue.forEach((function(e){var i=$("#component".concat(e.id)).getBoundingClientRect();n.left=u.a.sub(parseInt(i.left),parseInt(t.editorX)).toNumber(),n.top=u.a.sub(parseInt(i.top),parseInt(t.editorY)).toNumber(),n.right=u.a.sub(parseInt(i.right),parseInt(t.editorX)).toNumber(),n.bottom=u.a.sub(parseInt(i.bottom),parseInt(t.editorY)).toNumber(),n.left<o&&(o=n.left),n.top<a&&(a=n.top),n.right>s&&(s=n.right),n.bottom>l&&(l=n.bottom)})):n=Object(c["c"])(e.style),n.left<o&&(o=n.left),n.top<a&&(a=n.top),n.right>s&&(s=n.right),n.bottom>l&&(l=n.bottom)})),r["a"].commit("drag/setAreaData",{style:{left:o,top:a,width:u.a.sub(s,o).toNumber(),height:u.a.sub(l,a).toNumber()},components:d})}r["a"].commit("drag/compose"),r["a"].commit("drag/recordSnapshot")}function Y(){var t=r["a"].state.drag.curComponent;t&&!t.isLock&&"Group"==t.component&&(r["a"].commit("drag/decompose"),r["a"].commit("drag/recordSnapshot"))}function W(){s["a"].$emit("drag/save")}function K(){s["a"].$emit("drag/preview")}function F(){r["a"].state.drag.curComponent&&(r["a"].commit("drag/deleteComponent"),r["a"].commit("drag/recordSnapshot"))}function Z(){s["a"].$emit("drag/clearCanvas")}function Q(){r["a"].commit("drag/lock")}function tt(){r["a"].commit("drag/unlock")}},"5b0e":function(t,e,n){"use strict";n("ebee")},"5d1d":function(t,e,n){},"5fac":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-dialog",{attrs:{title:"选择图片","append-to-body":"",visible:t.imgObj.visible,"show-close":!1,width:"60%"},on:{"update:visible":function(e){return t.$set(t.imgObj,"visible",e)}}},[n("div",{staticClass:"imgbox-search"},[n("el-input",{staticClass:"imgbox-search-input",attrs:{clearable:"",placeholder:"请输入图片名称"},model:{value:t.imgObj.imgname,callback:function(e){t.$set(t.imgObj,"imgname",e)},expression:"imgObj.imgname"}}),t._v(" "),n("el-button",{staticClass:"imgbox-search-btn",attrs:{type:"primary"},on:{click:t.getAllimageApi}},[t._v("\n        图片搜索\n      ")])],1),t._v(" "),n("div",{staticClass:"imgbox"},[n("el-radio-group",{model:{value:t.imgObj.choseImgId,callback:function(e){t.$set(t.imgObj,"choseImgId",e)},expression:"imgObj.choseImgId"}},t._l(t.imgObj.imgList,(function(e,i){return n("div",{key:i,staticClass:"imgbox-type"},[0!=e.length?n("p",{staticClass:"imgbox-title"},[t._v("\n            "+t._s(e[0].type)+"\n          ")]):t._e(),t._v(" "),t._l(e,(function(e,i){return n("el-radio",{key:i,staticClass:"imgbox-radio",attrs:{label:e.id}},[n("img",{staticClass:"imgbox-radio-img",attrs:{src:t.baseUrl+e.url}}),t._v(" "),n("div",{staticClass:"imgbox-radio-tit"},[t._v(t._s(e.value))])])}))],2)})),0)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[2==t.imgObj.choseType?n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:t.clearBgImg}},[t._v("\n        清空背景图\n      ")]):t._e(),t._v(" "),n("el-button",{attrs:{size:"mini"},on:{click:t.hide}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"warning"},on:{click:t.clearImg}},[t._v("\n        删 除\n      ")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"success"},on:{click:t.selectImg}},[t._v("\n        确 定\n      ")])],1)])],1)},a=[],o=(n("8e6e"),n("456d"),n("ac6a"),n("ade3")),r=n("2f62"),s=n("00d2");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u={components:{},props:{visible:{type:Boolean,default:!1}},data:function(){return{baseUrl:this.global.baseUrl,imgObj:{visible:!1,imgList:[],choseImgId:0,imgname:""}}},computed:l(l({},Object(r["c"])({})),Object(r["b"])({path:"path"})),watch:{visible:function(t,e){t?(this.imgObj.visible=!0,this.imgObj.choseImgId=0,this.getAllimageApi()):(this.imgObj.visible=!1,this.imgObj.choseImgId=0)}},created:function(){},methods:{getAllimageApi:function(){var t=[];Object(s["d"])(this.path,this.imgObj.imgname).then((function(e){var n=[],i=[],a=[],o=[],r=[],s=e.data||[];s.forEach((function(t){if("systemicon"===t.imgtype){var e={id:t.imgid,value:t.imgname,url:t.imgurl,type:"结构图"};n.push(e)}else if("picimage"===t.imgtype){var s={id:t.imgid,value:t.imgname,url:t.imgurl,type:"平面图"};i.push(s)}else if("elementpic"===t.imgtype){var c={id:t.imgid,value:t.imgname,url:t.imgurl,type:"元素图片"};a.push(c)}else if("picphoto"===t.imgtype){var l={id:t.imgid,value:t.imgname,url:t.imgurl,type:"模板快照"};o.push(l)}else{var u={id:t.imgid,value:t.imgname,url:t.imgurl,type:"其他"};r.push(u)}})),t.push(n),t.push(i),t.push(a),t.push(o),t.push(r)})).catch(console.log),this.imgObj.imgList=t},selectImg:function(){var t=this;this.$message.success("图片选择成功!");var e=this.imgObj.imgList,n={};e.forEach((function(e){e.forEach((function(e){t.imgObj.choseImgId==e.id&&(n=e)}))})),this.$emit("selectImg",{type:2,imgObj:n})},clearImg:function(){this.$emit("selectImg",{type:1})},hide:function(){this.$emit("selectImg",{type:0})}}},d=u,p=(n("e5d8"),n("2877")),m=Object(p["a"])(d,i,a,!1,null,"8af6af22",null);e["a"]=m.exports},6156:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("Toolbar",{ref:"toolbarRef"}),t._v(" "),n("main",[n("section",{class:t.leftShow?"left":"left t-left"},[n("ComponentList"),t._v(" "),n("RealTimeComponentList")],1),t._v(" "),n("div",{class:t.leftShow?"switch":"switch t-switch",on:{click:t.switchleft}},[n("i",{class:t.leftShow?"el-icon-arrow-left":"el-icon-arrow-right"})]),t._v(" "),n("section",{class:t.centerClass},[n("div",{staticClass:"content",on:{drop:t.handleDrop,dragover:t.handleDragOver,mousedown:t.handleMouseDown,mouseup:t.deselectCurComponent}},[n("Editor")],1)]),t._v(" "),n("section",{staticClass:"right t-right'"},[t.areaData.components.length>0||t.ctrlComponentList.length>0?n("batch-tool"):t.curComponent?n("div",{staticClass:"tabs"},[n("div",{staticClass:"tabs-header"},t._l(t.tabsDataList,(function(e){return n("div",{key:e.value,class:["tabs-header-li",t.rightActiveName===e.value?"tabs-header-li-curr":""],on:{click:function(n){return t.changeRightTabs(e.value)}}},[t._v("\n            "+t._s(e.label)+"\n          ")])})),0),t._v(" "),n("div",{staticClass:"tabs-content"},["attr"===t.rightActiveName?n("div",{staticClass:"tabs-content-li"},[n("AttrList")],1):t._e(),t._v(" "),"animation"===t.rightActiveName&&"page"==t.edittype?n("div",{staticClass:"tabs-content-li"},[t.curComponent?n("AnimationList"):t._e()],1):t._e(),t._v(" "),"events"===t.rightActiveName&&t.handlechange(t.edittype)?n("div",{staticClass:"tabs-content-li"},[t.curComponent?n("EventList"):t._e()],1):t._e(),t._v(" "),"dynamic"===t.rightActiveName&&t.handlechange(t.edittype)?n("div",{staticClass:"tabs-content-li"},[t.curComponent?n("Dynamic"):t._e()],1):t._e()])]):n("CanvasAttr")],1)])],1)},a=[],o=(n("8e6e"),n("456d"),n("673e"),n("ac6a"),n("ade3")),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ruler"},[n("div",{staticClass:"editor",class:{edit:t.isEdit},style:t.editorCanvas,attrs:{id:"editor"},on:{contextmenu:t.handleContextMenu,mousedown:t.handleMouseDown}},[n("Grid"),t._v(" "),t._l(t.componentData,(function(e,i){return n("Shape",{key:e.id,class:{lock:e.isLock},style:t.getShapeStyle(e.style),attrs:{"default-style":e.style,active:e.id===(t.curComponent||{}).id,element:e,index:i}},["v-text"===e.component?n(e.component,{tag:"component",staticClass:"component",style:t.getComponentStyle(e.style),attrs:{id:"component"+e.id,"prop-value":e.propValue,element:e},on:{input:t.handleInput}}):"Iframe"===e.component?n(e.component,{tag:"component",staticClass:"component",style:t.getComponentStyle(e.style),attrs:{id:"component"+e.id,"prop-value":e.propValue,element:e}}):e.component.startsWith("SVG")?n(e.component,{tag:"component",staticClass:"component",style:t.getSVGStyle(e.style),attrs:{id:"component"+e.id,"prop-value":e.propValue,element:e}}):n(e.component,{tag:"component",staticClass:"component",style:t.getComponentStyle(e.style),attrs:{id:"component"+e.id,"prop-value":e.propValue,element:e}})],1)})),t._v(" "),n("ContextMenu"),t._v(" "),t.marklineIsShow?n("MarkLine"):t._e(),t._v(" "),n("Area",{directives:[{name:"show",rawName:"v-show",value:t.isShowArea,expression:"isShowArea"}],attrs:{start:t.start,width:t.width,height:t.height}})],2)])},s=[],c=(n("28a5"),n("6762"),n("2fdb"),n("2f62")),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shape",class:t.active||t.ctrlComponentIds.includes(t.element.id)?"active":"",on:{click:t.selectCurComponent,mousedown:t.handleMouseDownOnShape}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.isActive()&&"SVGPolygon"!==t.element.component,expression:"isActive() && element.component !== 'SVGPolygon'"}],staticClass:"iconfont icon-xiangyouxuanzhuan",on:{mousedown:t.handleRotate}}),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.element.isLock,expression:"element.isLock"}],staticClass:"iconfont icon-suo"}),t._v(" "),"SVGPolygon"===t.element.component?n("div",t._l(t.isActive()?t.defaultStyle.points:[],(function(e,i){return n("div",{key:i,staticClass:"svg-point",style:t.getSvgStyle(e),on:{mousedown:function(e){return t.handleMouseDownOnSVGPoint(i,e)}}})})),0):n("div",t._l(t.isActive()?t.pointList:[],(function(e){return n("div",{key:e,staticClass:"shape-point",style:t.getPointStyle(e),on:{mousedown:function(n){return t.handleMouseDownOnPoint(e,n)}}})})),0),t._v(" "),t._t("default")],2)},u=[],d=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("7f7f"),n("6b54"),n("c5f6"),n("cbe5a")),p=n("c530"),m=n("069a"),h={lt:f,t:y,rt:v,r:C,rb:b,b:O,lb:g,l:w};function f(t,e,n,i,a){var o=a.symmetricPoint,r=Object(m["d"])(e,o),s=Object(m["a"])(e,r,-t.rotate),c=Object(m["a"])(o,r,-t.rotate),l=c.x-s.x,u=c.y-s.y;if(i){l/u>n?(s.x+=Math.abs(l-u*n),l=u*n):(s.y+=Math.abs(u-l/n),u=l/n);var d=Object(m["a"])(s,r,t.rotate);r=Object(m["d"])(d,o),s=Object(m["a"])(d,r,-t.rotate),c=Object(m["a"])(o,r,-t.rotate),l=c.x-s.x,u=c.y-s.y}l>0&&u>0&&(t.width=Math.round(l),t.height=Math.round(u),t.left=Math.round(s.x),t.top=Math.round(s.y))}function v(t,e,n,i,a){var o=a.symmetricPoint,r=Object(m["d"])(e,o),s=Object(m["a"])(e,r,-t.rotate),c=Object(m["a"])(o,r,-t.rotate),l=s.x-c.x,u=c.y-s.y;if(i){l/u>n?(s.x-=Math.abs(l-u*n),l=u*n):(s.y+=Math.abs(u-l/n),u=l/n);var d=Object(m["a"])(s,r,t.rotate);r=Object(m["d"])(d,o),s=Object(m["a"])(d,r,-t.rotate),c=Object(m["a"])(o,r,-t.rotate),l=s.x-c.x,u=c.y-s.y}l>0&&u>0&&(t.width=Math.round(l),t.height=Math.round(u),t.left=Math.round(c.x),t.top=Math.round(s.y))}function b(t,e,n,i,a){var o=a.symmetricPoint,r=Object(m["d"])(e,o),s=Object(m["a"])(o,r,-t.rotate),c=Object(m["a"])(e,r,-t.rotate),l=c.x-s.x,u=c.y-s.y;if(i){l/u>n?(c.x-=Math.abs(l-u*n),l=u*n):(c.y-=Math.abs(u-l/n),u=l/n);var d=Object(m["a"])(c,r,t.rotate);r=Object(m["d"])(d,o),s=Object(m["a"])(o,r,-t.rotate),c=Object(m["a"])(d,r,-t.rotate),l=c.x-s.x,u=c.y-s.y}l>0&&u>0&&(t.width=Math.round(l),t.height=Math.round(u),t.left=Math.round(s.x),t.top=Math.round(s.y))}function g(t,e,n,i,a){var o=a.symmetricPoint,r=Object(m["d"])(e,o),s=Object(m["a"])(o,r,-t.rotate),c=Object(m["a"])(e,r,-t.rotate),l=s.x-c.x,u=c.y-s.y;if(i){l/u>n?(c.x+=Math.abs(l-u*n),l=u*n):(c.y-=Math.abs(u-l/n),u=l/n);var d=Object(m["a"])(c,r,t.rotate);r=Object(m["d"])(d,o),s=Object(m["a"])(o,r,-t.rotate),c=Object(m["a"])(d,r,-t.rotate),l=s.x-c.x,u=c.y-s.y}l>0&&u>0&&(t.width=Math.round(l),t.height=Math.round(u),t.left=Math.round(c.x),t.top=Math.round(s.y))}function y(t,e,n,i,a){var o=a.symmetricPoint,r=a.curPoint,s=Object(m["a"])(e,r,-t.rotate),c=Object(m["a"])({x:r.x,y:s.y},r,t.rotate),l=Math.sqrt(Math.pow(c.x-o.x,2)+Math.pow(c.y-o.y,2)),u={x:c.x-(c.x-o.x)/2,y:c.y+(o.y-c.y)/2},d=t.width;i&&(d=l*n),t.width=d,t.height=Math.round(l),t.top=Math.round(u.y-l/2),t.left=Math.round(u.x-t.width/2)}function C(t,e,n,i,a){var o=a.symmetricPoint,r=a.curPoint,s=Object(m["a"])(e,r,-t.rotate),c=Object(m["a"])({x:s.x,y:r.y},r,t.rotate),l=Math.sqrt(Math.pow(c.x-o.x,2)+Math.pow(c.y-o.y,2)),u={x:c.x-(c.x-o.x)/2,y:c.y+(o.y-c.y)/2},d=t.height;i&&(d=l/n),t.height=d,t.width=Math.round(l),t.top=Math.round(u.y-t.height/2),t.left=Math.round(u.x-l/2)}function O(t,e,n,i,a){var o=a.symmetricPoint,r=a.curPoint,s=Object(m["a"])(e,r,-t.rotate),c=Object(m["a"])({x:r.x,y:s.y},r,t.rotate),l=Math.sqrt(Math.pow(c.x-o.x,2)+Math.pow(c.y-o.y,2)),u={x:c.x-(c.x-o.x)/2,y:c.y+(o.y-c.y)/2},d=t.width;i&&(d=l*n),t.width=d,t.height=Math.round(l),t.top=Math.round(u.y-l/2),t.left=Math.round(u.x-t.width/2)}function w(t,e,n,i,a){var o=a.symmetricPoint,r=a.curPoint,s=Object(m["a"])(e,r,-t.rotate),c=Object(m["a"])({x:s.x,y:r.y},r,t.rotate),l=Math.sqrt(Math.pow(c.x-o.x,2)+Math.pow(c.y-o.y,2)),u={x:c.x-(c.x-o.x)/2,y:c.y+(o.y-c.y)/2},d=t.height;i&&(d=l/n),t.height=d,t.width=Math.round(l),t.top=Math.round(u.y-t.height/2),t.left=Math.round(u.x-l/2)}function A(t,e,n,i,a,o){h[t](e,n,i,a,o)}var S=n("4128"),k=n.n(S);function x(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=j(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return r=t.done,t},e:function(t){s=!0,o=t},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}function j(t,e){if(t){if("string"===typeof t)return D(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(t,e):void 0}}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var T={props:{active:{type:Boolean,default:!1},element:{require:!0,type:Object,default:function(){}},defaultStyle:{require:!0,type:Object,default:function(){}},index:{require:!0,type:[Number,String],default:0}},data:function(){return{pointList:["lt","t","rt","r","rb","b","lb","l"],initialAngle:{lt:0,t:45,rt:90,r:135,rb:180,b:225,lb:270,l:315},angleToCursor:[{start:338,end:23,cursor:"nw"},{start:23,end:68,cursor:"n"},{start:68,end:113,cursor:"ne"},{start:113,end:158,cursor:"e"},{start:158,end:203,cursor:"se"},{start:203,end:248,cursor:"s"},{start:248,end:293,cursor:"sw"},{start:293,end:338,cursor:"w"}],cursors:{}}},computed:Object(c["c"])({curComponent:function(t){return t.drag.curComponent},editor:function(t){return t.drag.editor},isCtrl:function(t){return t.drag.isCtrl},ctrlComponentList:function(t){return t.drag.ctrlComponentList},ctrlComponentIds:function(t){return t.drag.ctrlComponentIds}}),mounted:function(){var t=this;this.curComponent&&(this.cursors=this.getCursor()),d["a"].$on("runAnimation",(function(){t.element===t.curComponent&&Object(p["a"])(t.$el,t.curComponent.animations)})),d["a"].$on("stopAnimation",(function(){t.$el.classList.remove("animated","infinite")}))},methods:{handleMouseDownOnShape:function(t){var e=this;if(this.isCtrl)return this.$store.commit("drag/addCtrlComponentList",this.element),t.stopPropagation(),void t.preventDefault();if(this.$store.commit("drag/setInEditorStatus",!0),this.$store.commit("drag/setClickComponentStatus",!0),"v-text"!==this.element.component&&"rect-shape"!==this.element.component&&t.preventDefault(),t.stopPropagation(),this.$store.commit("drag/setCurComponent",{component:this.element,index:this.index}),!this.element.isLock){this.cursors=this.getCursor();var n=I({},this.defaultStyle),i=t.clientY,a=t.clientX,o=Number(n.top),r=Number(n.left),s=!1,c=function(t){s=!0;var c=t.clientX,l=t.clientY;n.top=l-i+o,n.left=c-a+r,e.$store.commit("drag/setShapeStyle",n),e.$nextTick((function(){d["a"].$emit("move",l-i>0,c-a>0)}))},l=function t(){s&&e.$store.commit("drag/recordSnapshot"),d["a"].$emit("unmove"),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",c),document.addEventListener("mouseup",l)}},selectCurComponent:function(t){t.stopPropagation(),t.preventDefault(),this.$store.commit("drag/hideContextMenu")},isActive:function(){return this.active&&!this.element.isLock},handleRotate:function(t){var e=this;this.$store.commit("drag/setClickComponentStatus",!0),t.preventDefault(),t.stopPropagation();var n=I({},this.defaultStyle),i=t.clientY,a=t.clientX,o=n.rotate,r=this.$el.getBoundingClientRect(),s=r.left+r.width/2,c=r.top+r.height/2,l=Math.atan2(i-c,a-s)/(Math.PI/180),u=!1,d=function(t){u=!0;var i=t.clientX,a=t.clientY,r=Math.atan2(a-c,i-s)/(Math.PI/180);n.rotate=o+r-l,e.$store.commit("drag/setShapeStyle",n)},p=function t(){u&&e.$store.commit("drag/recordSnapshot"),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",t),e.cursors=e.getCursor()};document.addEventListener("mousemove",d),document.addEventListener("mouseup",p)},getPointStyle:function(t){var e=this.defaultStyle,n=e.width,i=e.height,a=/t/.test(t),o=/b/.test(t),r=/l/.test(t),s=/r/.test(t),c=0,l=0;2===t.length?(c=r?0:n,l=a?0:i):((a||o)&&(c=n/2,l=a?0:i),(r||s)&&(c=r?0:n,l=Math.floor(i/2)));var u={marginLeft:"-4px",marginTop:"-4px",left:"".concat(c,"px"),top:"".concat(l,"px"),cursor:this.cursors[t]};return u},getSvgStyle:function(t){var e={marginLeft:"-4px",marginTop:"-4px",left:"".concat(t[0],"px"),top:"".concat(t[1],"px"),cursor:"pointer"};return e},getCursor:function(){var t=this.angleToCursor,e=this.initialAngle,n=this.pointList,i=this.curComponent,a=Object(m["e"])(i.style.rotate),o={},r=-1;return n.forEach((function(n){var i=Object(m["e"])(e[n]+a),s=t.length,c=!0;while(c){r=(r+1)%s;var l=t[r];if(i<23||i>=338)return void(o[n]="nw-resize");if(l.start<=i&&i<l.end)return void(o[n]=l.cursor+"-resize")}})),o},handleMouseDownOnPoint:function(t,e){var n=this;this.$store.commit("drag/setInEditorStatus",!0),this.$store.commit("drag/setClickComponentStatus",!0),e.stopPropagation(),e.preventDefault();var i=I({},this.defaultStyle),a=i.width/i.height,o={x:i.left+i.width/2,y:i.top+i.height/2},r=this.editor.getBoundingClientRect(),s=e.target.getBoundingClientRect(),c={x:Math.round(s.left-r.left+e.target.offsetWidth/2),y:Math.round(s.top-r.top+e.target.offsetHeight/2)},l={x:o.x-(c.x-o.x),y:o.y-(c.y-o.y)},u=!1,d=!0,p=this.isNeedLockProportion(),m=function(e){if(d)d=!1;else{u=!0;var s={x:e.clientX-r.left,y:e.clientY-r.top};A(t,i,s,a,p,{center:o,curPoint:c,symmetricPoint:l}),n.$store.commit("drag/setShapeStyle",i)}},h=function t(){document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",t),u&&n.$store.commit("drag/recordSnapshot")};document.addEventListener("mousemove",m),document.addEventListener("mouseup",h)},getPointsMinMax:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=0,n=0,i=0,a=0;t.forEach((function(t,o){var r=t[0],s=t[1];0===o?(e=n=r,i=a=s):(r<e&&(e=r),r>n&&(n=r),s<i&&(i=s),s>a&&(a=s))}));var o=n-e,r=a-i;return{minX:e,minY:i,newW:o,newH:r}},handleMouseDownOnSVGPoint:function(t,e){var n=this;this.$store.commit("drag/setInEditorStatus",!0),this.$store.commit("drag/setClickComponentStatus",!0),e.stopPropagation(),e.preventDefault();var i=this.editor.getBoundingClientRect(),a=this.defaultStyle,o=a.points,r=a.left,s=a.top,c=JSON.parse(JSON.stringify(o));c.map((function(t){return t[0]=t[0]+r,t[1]=t[1]+s,t}));var l=!1,u=!0,d=function(e){if(u)u=!1;else{l=!0;var a=k.a.sub(e.clientX,i.x).toNumber(),o=k.a.sub(e.clientY,i.y).toNumber();c[t]=[a,o];var r=JSON.parse(JSON.stringify(c)),s=n.getPointsMinMax(r),d=s.minX,p=s.minY,m=s.newW,h=s.newH;r.map((function(t){return t[0]=t[0]-d,t[1]=t[1]-p,t}));var f={left:d,top:p,width:m,height:h,points:r};n.$store.commit("drag/setShapeStyle",f)}},p=function t(){document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",t),l&&n.$store.commit("drag/recordSnapshot")};document.addEventListener("mousemove",d),document.addEventListener("mouseup",p)},isNeedLockProportion:function(){if("Group"!==this.element.component)return!1;var t,e=[0,90,180,360],n=x(this.element.propValue);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(!e.includes(Object(m["e"])(parseInt(i.style.rotate))))return!0}}catch(a){n.e(a)}finally{n.f()}return!1}}},P=T,L=(n("9173"),n("2877")),E=Object(L["a"])(P,l,u,!1,null,"6dd303da",null),N=E.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.menuShow,expression:"menuShow"}],staticClass:"contextmenu",style:{top:t.menuTop+"px",left:t.menuLeft+"px"}},[n("ul",{on:{mouseup:t.handleMouseUp}},[t.curComponent?[t.curComponent.isLock?n("li",{on:{click:t.unlock}},[t._v("解锁")]):[n("li",{on:{click:t.copy}},[t._v("复制")]),t._v(" "),n("li",{on:{click:t.paste}},[t._v("粘贴")]),t._v(" "),n("li",{on:{click:t.cut}},[t._v("剪切")]),t._v(" "),n("li",{on:{click:t.deleteComponent}},[t._v("删除")]),t._v(" "),n("li",{on:{click:t.lock}},[t._v("锁定")]),t._v(" "),n("li",{on:{click:t.topComponent}},[t._v("置顶")]),t._v(" "),n("li",{on:{click:t.bottomComponent}},[t._v("置底")]),t._v(" "),n("li",{on:{click:t.upComponent}},[t._v("上移")]),t._v(" "),n("li",{on:{click:t.downComponent}},[t._v("下移")])]]:n("li",{on:{click:t.paste}},[t._v("粘贴")])],2)])},M=[],V={data:function(){return{copyData:null}},computed:Object(c["c"])({menuTop:function(t){return t.drag.menuTop},menuLeft:function(t){return t.drag.menuLeft},menuShow:function(t){return t.drag.menuShow},curComponent:function(t){return t.drag.curComponent}}),methods:{lock:function(){this.$store.commit("drag/lock")},unlock:function(){this.$store.commit("drag/unlock")},handleMouseUp:function(){this.$store.commit("drag/setClickComponentStatus",!0)},cut:function(){this.$store.commit("drag/cut")},copy:function(){this.$store.commit("drag/copy")},paste:function(){this.$store.commit("drag/paste",!0),this.$store.commit("drag/recordSnapshot")},deleteComponent:function(){this.$store.commit("drag/deleteComponent"),this.$store.commit("drag/recordSnapshot")},upComponent:function(){this.$store.commit("drag/upComponent"),this.$store.commit("drag/recordSnapshot")},downComponent:function(){this.$store.commit("drag/downComponent"),this.$store.commit("drag/recordSnapshot")},topComponent:function(){this.$store.commit("drag/topComponent"),this.$store.commit("drag/recordSnapshot")},bottomComponent:function(){this.$store.commit("drag/bottomComponent"),this.$store.commit("drag/recordSnapshot")}}},R=V,U=(n("2326"),Object(L["a"])(R,z,M,!1,null,"475e12a4",null)),q=U.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mark-line"},t._l(t.lines,(function(e){return n("div",{directives:[{name:"show",rawName:"v-show",value:t.lineStatus[e]||!1,expression:"lineStatus[line] || false"}],key:e,ref:e,refInFor:!0,staticClass:"line",class:e.includes("x")?"xline":"yline"})})),0)},B=[],H=n("ab2a"),J={data:function(){return{lines:["xt","xc","xb","yl","yc","yr"],diff:3,lineStatus:{xt:!1,xc:!1,xb:!1,yl:!1,yc:!1,yr:!1}}},computed:Object(c["c"])({curComponent:function(t){return t.drag.curComponent},componentData:function(t){return t.drag.componentData}}),mounted:function(){var t=this;d["a"].$on("move",(function(e,n){t.showLine(e,n)})),d["a"].$on("unmove",(function(){t.hideLine()}))},methods:{hideLine:function(){var t=this;Object.keys(this.lineStatus).forEach((function(e){t.lineStatus[e]=!1}))},showLine:function(t,e){var n=this,i=this.$refs,a=this.componentData,o=Object(H["c"])(this.curComponent.style),r=o.width/2,s=o.height/2;this.hideLine(),a.forEach((function(a){if(a!=n.curComponent){var c=Object(H["c"])(a.style),l=c.top,u=c.left,d=c.bottom,p=c.right,m=c.width/2,h=c.height/2,f={top:[{isNearly:n.isNearly(o.top,l),lineNode:i.xt[0],line:"xt",dragShift:l,lineShift:l},{isNearly:n.isNearly(o.bottom,l),lineNode:i.xt[0],line:"xt",dragShift:l-o.height,lineShift:l},{isNearly:n.isNearly(o.top+s,l+h),lineNode:i.xc[0],line:"xc",dragShift:l+h-s,lineShift:l+h},{isNearly:n.isNearly(o.top,d),lineNode:i.xb[0],line:"xb",dragShift:d,lineShift:d},{isNearly:n.isNearly(o.bottom,d),lineNode:i.xb[0],line:"xb",dragShift:d-o.height,lineShift:d}],left:[{isNearly:n.isNearly(o.left,u),lineNode:i.yl[0],line:"yl",dragShift:u,lineShift:u},{isNearly:n.isNearly(o.right,u),lineNode:i.yl[0],line:"yl",dragShift:u-o.width,lineShift:u},{isNearly:n.isNearly(o.left+r,u+m),lineNode:i.yc[0],line:"yc",dragShift:u+m-r,lineShift:u+m},{isNearly:n.isNearly(o.left,p),lineNode:i.yr[0],line:"yr",dragShift:p,lineShift:p},{isNearly:n.isNearly(o.right,p),lineNode:i.yr[0],line:"yr",dragShift:p-o.width,lineShift:p}]},v=[],b=n.curComponent.style.rotate;Object.keys(f).forEach((function(t){f[t].forEach((function(e){e.isNearly&&"undefined"!=typeof e.lineNode&&(n.$store.commit("drag/setShapeSingleStyle",{key:t,value:0!=b?n.translatecurComponentShift(t,e,o):e.dragShift}),e.lineNode.style[t]="".concat(e.lineShift,"px"),v.push(e.line))}))})),v.length&&n.chooseTheTureLine(v,t,e)}}))},translatecurComponentShift:function(t,e,n){var i=this.curComponent.style,a=i.width,o=i.height;return"top"==t?Math.round(e.dragShift-(o-n.height)/2):Math.round(e.dragShift-(a-n.width)/2)},chooseTheTureLine:function(t,e,n){n?t.includes("yr")?this.lineStatus.yr=!0:t.includes("yc")?this.lineStatus.yc=!0:t.includes("yl")&&(this.lineStatus.yl=!0):t.includes("yl")?this.lineStatus.yl=!0:t.includes("yc")?this.lineStatus.yc=!0:t.includes("yr")&&(this.lineStatus.yr=!0),e?t.includes("xb")?this.lineStatus.xb=!0:t.includes("xc")?this.lineStatus.xc=!0:t.includes("xt")&&(this.lineStatus.xt=!0):t.includes("xt")?this.lineStatus.xt=!0:t.includes("xc")?this.lineStatus.xc=!0:t.includes("xb")&&(this.lineStatus.xb=!0)},isNearly:function(t,e){return Math.abs(t-e)<=this.diff}}},X=J,Y=(n("6f14"),Object(L["a"])(X,G,B,!1,null,"0787937a",null)),W=Y.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"area",style:{left:t.start.x+"px",top:t.start.y+"px",width:t.width+"px",height:t.height+"px"}})},F=[],Z={props:{start:{type:Object,default:function(){}},width:{type:Number,default:0},height:{type:Number,default:0}}},Q=Z,tt=(n("6ca5"),Object(L["a"])(Q,K,F,!1,null,"856cbee0",null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"grid",attrs:{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"}},[n("defs",[n("pattern",{attrs:{id:"smallGrid",width:"10",height:"10",patternUnits:"userSpaceOnUse"}},[n("path",{attrs:{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"rgba(207, 207, 207, 0.3)","stroke-width":"1"}})]),t._v(" "),n("pattern",{attrs:{id:"grid",width:"100",height:"100",patternUnits:"userSpaceOnUse"}},[n("rect",{attrs:{width:"100",height:"100",fill:"url(#smallGrid)"}}),t._v(" "),n("path",{attrs:{d:"M 100 0 L 0 0 0 100",fill:"none",stroke:"rgba(186, 186, 186, 0.5)","stroke-width":"1"}})])]),t._v(" "),n("rect",{attrs:{width:"100%",height:"100%",fill:"url(#grid)"}})])},it=[],at=(n("5082"),{}),ot=Object(L["a"])(at,nt,it,!1,null,"1cfe5400",null),rt=ot.exports,st=n("6386"),ct=(n("ed08"),{components:{Shape:N,ContextMenu:q,MarkLine:W,Area:et,Grid:rt},props:{isEdit:{type:Boolean,default:!0}},data:function(){return{baseUrl:this.global.baseUrl,editorX:0,editorY:0,start:{x:0,y:0},width:0,height:0,isShowArea:!1,ruler:{height:50,marks:{0:"0",10:"10",20:"20",30:"30",40:"40",50:"50",60:"60",70:"70",80:"80",90:"90",100:"100"}}}},computed:Object(c["c"])({componentData:function(t){return t.drag.componentData},curComponent:function(t){return t.drag.curComponent},canvasStyleData:function(t){return t.drag.canvasStyleData},editor:function(t){return t.drag.editor},marklineIsShow:function(t){return t.drag.marklineIsShow},editorCanvas:function(){var t=this.canvasStyleData,e=t.width,n=t.height,i=t.backgroundColor,a=t.backgroundImage,o=t.zoom;return{width:"".concat(Object(m["b"])(e),"px"),height:"".concat(Object(m["b"])(n),"px"),backgroundColor:i,backgroundImage:"url(".concat(this.baseUrl+a,")"),backgroundSize:"100% 100%",transform:"scale(".concat(o/100,")"),transformOrigin:"0 0"}}}),mounted:function(){var t=this;this.$store.commit("drag/getEditor"),d["a"].$on("hideArea",(function(){t.hideArea()}))},methods:{changeStyleWithScale:m["b"],handleMouseDown:function(t){var e=this;this.$store.commit("drag/clearCtrlComponentList"),(!this.curComponent||"v-text"!=this.curComponent.component&&"rect-shape"!=this.curComponent.component&&"Device"!=this.curComponent.component)&&t.preventDefault(),this.hideArea();var n=this.editor.getBoundingClientRect();this.editorX=parseInt(n.x),this.editorY=parseInt(n.y);var i=parseInt(t.clientX),a=parseInt(t.clientY);this.start.x=k.a.sub(i,this.editorX).toNumber(),this.start.y=k.a.sub(a,this.editorY).toNumber(),this.isShowArea=!0;var o=function(t){e.width=k.a.abs(k.a.sub(t.clientX,i)).toNumber(),e.height=k.a.abs(k.a.sub(t.clientY,a)).toNumber(),t.clientX<i&&(e.start.x=k.a.sub(t.clientX,e.editorX).toNumber()),t.clientY<a&&(e.start.y=k.a.sub(t.clientY,e.editorY).toNumber())},r=function t(n){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",t),n.clientX!=i||n.clientY!=a?e.createGroup():e.hideArea()};document.addEventListener("mousemove",o),document.addEventListener("mouseup",r)},hideArea:function(){this.isShowArea=!1,this.width=0,this.height=0,this.$store.commit("drag/setAreaData",{style:{left:0,top:0,width:0,height:0},components:[]})},createGroup:function(){var t=this,e=this.getSelectArea();if(e.length<=1){if(this.hideArea(),1===e.length){var n=0;this.$store.commit("drag/setCurComponent",{component:e[n],index:n})}}else{var i=1/0,a=1/0,o=-1/0,r=-1/0;e.forEach((function(e){var n={};"Group"==e.component?e.propValue.forEach((function(e){var s=Object(st["a"])("#component".concat(e.id)).getBoundingClientRect();n.left=k.a.sub(parseInt(s.left),parseInt(t.editorX)).toNumber(),n.top=k.a.sub(parseInt(s.top),parseInt(t.editorY)).toNumber(),n.right=k.a.sub(parseInt(s.right),parseInt(t.editorX)).toNumber(),n.bottom=k.a.sub(parseInt(s.bottom),parseInt(t.editorY)).toNumber(),n.left<a&&(a=n.left),n.top<i&&(i=n.top),n.right>o&&(o=n.right),n.bottom>r&&(r=n.bottom)})):n=Object(H["c"])(e.style),n.left<a&&(a=n.left),n.top<i&&(i=n.top),n.right>o&&(o=n.right),n.bottom>r&&(r=n.bottom)})),this.start.x=a,this.start.y=i,this.width=o-a,this.height=r-i,this.$store.commit("drag/setAreaData",{style:{left:a,top:i,width:k.a.sub(o,a).toNumber(),height:k.a.sub(r,i).toNumber()},components:e})}},getSelectArea:function(){var t=this,e=[],n=this.start,i=n.x,a=n.y;return this.componentData.forEach((function(n){if(!n.isLock){var o=Object(H["c"])(n.style),r=o.left,s=o.top,c=o.width,l=o.height;i<=r&&a<=s&&r+c<=i+t.width&&s+l<=a+t.height&&e.push(n)}})),e},handleContextMenu:function(t){t.stopPropagation(),t.preventDefault();var e=t.target,n=t.offsetY,i=t.offsetX;while(e instanceof SVGElement)e=e.parentNode;while(!e.className.includes("editor"))i+=e.offsetLeft,n+=e.offsetTop,e=e.parentNode;this.$store.commit("drag/showContextMenu",{top:n,left:i})},getShapeStyle:function(t){var e={};return["width","height","top","left","rotate"].forEach((function(n){"rotate"!=n?e[n]=t[n]+"px":e.transform="rotate("+t[n]+"deg)"})),e},getComponentStyle:function(t){return Object(H["e"])(t,["top","left","width","height","rotate"])},getSVGStyle:function(t){return Object(H["d"])(t,this.svgFilterAttrs)},handleInput:function(t,e){this.$store.commit("drag/setShapeStyle",{height:this.getTextareaHeight(t,e)})},getTextareaHeight:function(t,e){var n=t.style,i=n.lineHeight,a=n.fontSize,o=n.height;""===i&&(i=1.5);var r=(e.split("<br>").length-1)*i*a;return o>r?o:r}}}),lt=ct,ut=(n("58c9"),Object(L["a"])(lt,r,s,!1,null,"57f634d0",null)),dt=ut.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comp"},[n("div",{staticClass:"comp-li"},[n("div",{staticClass:"comp-li-tit",on:{click:function(e){return t.handleTab(0)}}},[n("i",{class:["el-icon-arrow-right",0===t.currTabIndex?"transformz":""]}),t._v("\n      展示型\n    ")]),t._v(" "),n("el-collapse-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:0==t.currTabIndex,expression:"currTabIndex == 0"}],staticClass:"comp-li-content"},t._l(t.showList,(function(e,i){return n("div",{key:i,staticClass:"drag-box",attrs:{draggable:"","data-component":e.component},on:{dragstart:function(n){return t.handleDragStart(n,e)}}},[n("i",{class:["iconfont",e.icon]})])})),0)])],1),t._v(" "),n("div",{staticClass:"comp-li"},[n("div",{staticClass:"comp-li-tit",on:{click:function(e){return t.handleTab(1)}}},[n("i",{class:["el-icon-arrow-right",1===t.currTabIndex?"transformz":""]}),t._v("\n      功能型\n    ")]),t._v(" "),n("el-collapse-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:1==t.currTabIndex,expression:"currTabIndex == 1"}],staticClass:"comp-li-content"},t._l(t.functionalList,(function(e,i){return n("div",{key:i,staticClass:"drag-box",attrs:{draggable:"","data-component":e.component},on:{dragstart:function(n){return t.handleDragStart(n,e)}}},[n("i",{class:["iconfont",e.icon]})])})),0)])],1)])},mt=[],ht=n("4e67"),ft=n("ebed"),vt={data:function(){return{tempObj:ft["f"],componentType:ft["b"],currTabIndex:0,showList:[],functionalList:[]}},created:function(){this.showList=ht["default"].filter((function(t){return!t.isHide&&t.type===ft["f"].showType})),this.functionalList=ht["default"].filter((function(t){return!t.isHide&&t.type===ft["f"].functionalType}))},methods:{handleTab:function(t){this.currTabIndex=this.currTabIndex===t?-1:t},handleDragStart:function(t){t.dataTransfer.setData("component",t.target.dataset.component)}}},bt=vt,gt=(n("43d2"),Object(L["a"])(bt,pt,mt,!1,null,"73c19888",null)),yt=gt.exports,Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"attrlist"},[t.curComponent?n("div",{staticClass:"form"},[n("div",{staticClass:"form-title"},[t._v("\n      变换\n    ")]),t._v(" "),n("div",{staticClass:"transfer"},[n("div",{staticClass:"transfer-li"},[n("div",{staticClass:"transfer-input"},[n("el-input",{attrs:{type:"number",min:"0",max:t.maxLeft},nativeOn:{keyup:function(e){t.curComponent.style["left"]=t.toDecimalPlaces(t.curComponent.style["left"])}},model:{value:t.curComponent.style["left"],callback:function(e){t.$set(t.curComponent.style,"left",t._n(e))},expression:"curComponent.style['left']"}}),t._v(" "),n("i",[t._v("X")])],1),t._v(" "),n("div",{staticClass:"transfer-input"},[n("el-input",{attrs:{type:"number",min:"0",max:t.maxTop},nativeOn:{keyup:function(e){t.curComponent.style["top"]=t.toDecimalPlaces(t.curComponent.style["top"])}},model:{value:t.curComponent.style["top"],callback:function(e){t.$set(t.curComponent.style,"top",t._n(e))},expression:"curComponent.style['top']"}}),t._v(" "),n("i",[t._v("Y")])],1)]),t._v(" "),n("div",{staticClass:"transfer-li"},[n("div",{staticClass:"transfer-input"},[n("el-input",{attrs:{type:"number"},nativeOn:{keyup:function(e){t.curComponent.style["width"]=t.toDecimalPlaces2(t.curComponent.style["width"])}},model:{value:t.curComponent.style["width"],callback:function(e){t.$set(t.curComponent.style,"width",t._n(e))},expression:"curComponent.style['width']"}}),t._v(" "),n("i",[t._v("W")])],1),t._v(" "),n("div",{staticClass:"transfer-input"},[n("el-input",{attrs:{type:"number"},nativeOn:{keyup:function(e){t.curComponent.style["height"]=t.toDecimalPlaces2(t.curComponent.style["height"])}},model:{value:t.curComponent.style["height"],callback:function(e){t.$set(t.curComponent.style,"height",t._n(e))},expression:"curComponent.style['height']"}}),t._v(" "),n("i",[t._v("H")])],1)]),t._v(" "),n("div",{staticClass:"transfer-li"},[n("div",{staticClass:"transfer-input"},[n("el-input",{attrs:{type:"number"},nativeOn:{keyup:function(e){t.curComponent.style["rotate"]=t.toDecimalPlaces2(t.curComponent.style["rotate"])}},model:{value:t.curComponent.style["rotate"],callback:function(e){t.$set(t.curComponent.style,"rotate",t._n(e))},expression:"curComponent.style['rotate']"}}),t._v(" "),n("i",[t._v("R")])],1),t._v(" "),n("div",{staticClass:"transfer-input"},[n("el-input",{attrs:{type:"number",max:"1",min:"0",step:"0.01"},nativeOn:{keyup:function(e){t.curComponent.style["opacity"]=t.toDecimalPlaces2(t.curComponent.style["opacity"])}},model:{value:t.curComponent.style["opacity"],callback:function(e){t.$set(t.curComponent.style,"opacity",t._n(e))},expression:"curComponent.style['opacity']"}}),t._v(" "),n("i",[t._v("O")])],1)])]),t._v(" "),n("div",{staticClass:"form-title titbd"},[t._v("\n      字符\n    ")]),t._v(" "),n("div",{staticClass:"font"},t._l(t.fontStyleKeys,(function(e,i){var a=e.key,o=e.label;return n("div",{key:i,staticClass:"font-li"},["fontFamily"===a?n("div",{staticClass:"fontfamily-select"},[n("el-select",{attrs:{clearable:"",placeholder:"请选择字体"},model:{value:t.curComponent.style["fontFamily"],callback:function(e){t.$set(t.curComponent.style,"fontFamily",e)},expression:"curComponent.style['fontFamily']"}},t._l(t.fontFamilyOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):n("div",{staticClass:"sx"},[a.includes("color")||a.includes("Color")?n("el-color-picker",{model:{value:t.curComponent.style[a],callback:function(e){t.$set(t.curComponent.style,a,e)},expression:"curComponent.style[key]"}}):"backgroundImage"==a?n("el-button",{on:{click:function(e){return t.selectBgimage(1)}}},[t._v("\n            点击上传\n          ")]):n("div",{staticClass:"sx-s"},[n("el-input",{attrs:{type:"number"},model:{value:t.curComponent.style[a],callback:function(e){t.$set(t.curComponent.style,a,t._n(e))},expression:"curComponent.style[key]"}})],1),t._v(" "),n("div",{staticClass:"sx-x"},[t._v(t._s(o))])],1)])})),0),t._v(" "),n("div",{staticClass:"form-title titbd"},[t._v("\n      边框\n    ")]),t._v(" "),n("div",{staticClass:"font"},t._l(t.borderStyleKeys,(function(e,i){var a=e.key,o=e.label;return n("div",{key:i,staticClass:"font-li"},["borderStyle"===a?n("div",{staticClass:"fontfamily-select"},[n("el-select",{attrs:{clearable:"",placeholder:"请选择边框样式"},model:{value:t.curComponent.style["borderStyle"],callback:function(e){t.$set(t.curComponent.style,"borderStyle",e)},expression:"curComponent.style['borderStyle']"}},t._l(t.borderStyleOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):n("div",{staticClass:"sx"},[a.includes("color")||a.includes("Color")?n("el-color-picker",{model:{value:t.curComponent.style[a],callback:function(e){t.$set(t.curComponent.style,a,e)},expression:"curComponent.style[key]"}}):n("div",{staticClass:"sx-s"},[n("el-input",{attrs:{type:"number"},model:{value:t.curComponent.style[a],callback:function(e){t.$set(t.curComponent.style,a,t._n(e))},expression:"curComponent.style[key]"}})],1),t._v(" "),n("div",{staticClass:"sx-x"},[t._v(t._s(o))])],1)])})),0),t._v(" "),n("div",{staticClass:"form-title titbd"},[t._v("\n      其它\n    ")]),t._v(" "),n("div",{staticClass:"font"},t._l(t.otherStyleKeys,(function(e,i){var a=e.key,o=e.label;return n("div",{key:i,staticClass:"font-li"},[n("div",{staticClass:"sx"},["imgbackgroundImage"==a?n("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.chooseImg(2)}}},[t._v("\n            点击上传\n          ")]):n("div",{staticClass:"sx-s"},[n("el-input","imgheight"===a?{attrs:{type:"number",min:"0",max:t.maxTop},model:{value:t.curComponent.style[a],callback:function(e){t.$set(t.curComponent.style,a,t._n(e))},expression:"curComponent.style[key]"}}:{attrs:{type:"number"},model:{value:t.curComponent.style[a],callback:function(e){t.$set(t.curComponent.style,a,t._n(e))},expression:"curComponent.style[key]"}})],1),t._v(" "),n("div",{staticClass:"sx-x"},[t._v(t._s(o))])],1)])})),0),t._v(" "),t.curComponent&&!t.excludes.includes(t.curComponent.component)?n("div",{staticClass:"from-textarea"},[n("el-input",{attrs:{type:"textarea"},model:{value:t.curComponent.propValue,callback:function(e){t.$set(t.curComponent,"propValue",e)},expression:"curComponent.propValue"}})],1):t._e(),t._v(" "),n("div",{staticClass:"form-title titbd"},[t._v("\n      对齐\n    ")]),t._v(" "),n("div",{staticClass:"alignment"},[n("div",{staticClass:"alignment-li",on:{click:function(e){return t.onRextAlign("left")}}},[n("i",{staticClass:"iconfont icon-zuoduiqi"})]),t._v(" "),n("div",{staticClass:"alignment-li",on:{click:function(e){return t.onRextAlign("center")}}},[n("i",{staticClass:"iconfont icon-zuoyoujuzhong"})]),t._v(" "),n("div",{staticClass:"alignment-li",on:{click:function(e){return t.onRextAlign("right")}}},[n("i",{staticClass:"iconfont icon-youduiqi"})]),t._v(" "),n("div",{staticClass:"alignment-li",on:{click:function(e){return t.onVerticalAlign("top")}}},[n("i",{staticClass:"iconfont icon-dingduiqi"})]),t._v(" "),n("div",{staticClass:"alignment-li",on:{click:function(e){return t.onVerticalAlign("middle")}}},[n("i",{staticClass:"iconfont icon-shangxiajuzhong"})]),t._v(" "),n("div",{staticClass:"alignment-li",on:{click:function(e){return t.onVerticalAlign("bottom")}}},[n("i",{staticClass:"iconfont icon-diduiqi"})])])]):t._e(),t._v(" "),n("select-img",{attrs:{visible:t.imgClond.visible},on:{selectImg:t.selectClondImg}})],1)},Ot=[],wt=(n("00d2"),n("5fac")),At=[{label:"中文->0701",value:"YouSheBiaoTiHei"},{label:"中文->0701",value:"SourceHanSansK"},{label:"中文->0701",value:"Impact"},{label:"中文->0701",value:"UnidreamLED"},{label:"中文->0701",value:"DINCondensed"},{label:"中文->0701",value:"Orbitron"},{label:"中文->0701",value:"SourceHanSansCN"}],St=["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#c7158577"],kt=[{label:"左对齐",value:"left"},{label:"居中",value:"center"},{label:"右对齐",value:"right"}],xt=[{label:"上对齐",value:"top"},{label:"居中对齐",value:"middle"},{label:"下对齐",value:"bottom"}],jt=[{label:"左>右",value:"90deg"},{label:"右>左",value:"-90deg"},{label:"上>下",value:"180deg"},{label:"下>上",value:"360deg"}],Dt=[{label:"实线",value:"solid"},{label:"虚线",value:"dashed"}];function _t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Tt={data:function(){return{imgClond:{visible:!1,url:"",id:""},baseUrl:this.global.baseUrl,imgObj:{visible:!1,imgList:[],choseType:null,choseImgId:0,imgname:""},predefineColors:St,excludes:["Picture","Group","Device","Devicetype"],selectKey:["textAlign","borderStyle","verticalAlign","fontFamily","gradientDirection"],textAlignOptions:kt,directionList:jt,fontFamilyOptions:At,borderStyleOptions:Dt,verticalAlignOptions:xt,styleData:H["g"],fontStyleData:H["b"],borderStyleData:H["a"],otherStyleData:H["f"]}},components:{SelectImg:wt["a"]},computed:It(It(It({},Object(c["c"])({canvasStyleData:function(t){return t.drag.canvasStyleData},curComponent:function(t){return t.drag.curComponent}})),Object(c["b"])(["path"])),{},{fontStyleKeys:function(){if(this.$store.state.drag.curComponent){var t=Object.keys(this.$store.state.drag.curComponent.style);return this.fontStyleData.filter((function(e){return t.includes(e.key)}))}return[]},borderStyleKeys:function(){if(this.$store.state.drag.curComponent){var t=Object.keys(this.$store.state.drag.curComponent.style);return this.borderStyleData.filter((function(e){return t.includes(e.key)}))}return[]},otherStyleKeys:function(){if(this.$store.state.drag.curComponent){var t=Object.keys(this.$store.state.drag.curComponent.style);return this.otherStyleData.filter((function(e){return t.includes(e.key)}))}return[]},maxTop:function(){return this.returnMaxStyle("top")},maxLeft:function(){return this.returnMaxStyle("left")}}),created:function(){},methods:{selectBgimage:function(t){this.imgClond.visible=!0,this.imgClond.id=t},selectClondImg:function(t){this.imgClond.visible=!1;var e=t.type,n=void 0===e?0:e,i=t.imgObj,a=void 0===i?{}:i;0!=n&&(1==n&&(this.imgClond.url="",1==this.imgClond.id&&(this.curComponent.style.backgroundImage=""),2==this.imgClond.id&&(this.curComponent.style.imgbackgroundImage="")),2==n&&(1==this.imgClond.id&&(this.curComponent.style.backgroundImage=a.url),2==this.imgClond.id&&(this.curComponent.style.imgbackgroundImage=a.url)))},chooseImg:function(t){this.imgClond.visible=!0,this.imgClond.id=t},returnMaxStyle:function(t){var e=this.canvasStyleData,n=this.curComponent,i=e.width,a=e.height,o=n.style.width,r=n.style.height;return"left"==t?i-o:"top"==t?a-r:void 0},onRextAlign:function(t){this.curComponent.style.textAlign=t},onVerticalAlign:function(t){this.curComponent.style.verticalAlign=t},toDecimalPlaces:function(t){return t?new k.a(t).toDecimalPlaces(0,k.a.ROUND_DOWN).toNumber():t},toDecimalPlaces2:function(t){return t?new k.a(t).toDecimalPlaces(2,k.a.ROUND_DOWN).toNumber():t}}},Pt=Tt,Lt=(n("35f3"),Object(L["a"])(Pt,Ct,Ot,!1,null,"57bf3f9e",null)),Et=Lt.exports,Nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"attrlist"},[n("div",{staticClass:"form"},[n("div",{staticClass:"form-title titbd"},[t._v("\n      画布属性\n    ")]),t._v(" "),n("div",{staticClass:"font"},t._l(t.pStyleData,(function(e,i){var a=e.key,o=e.label;return n("div",{key:i,staticClass:"font-li"},["markline"===a?n("div",{staticClass:"marklinebox"},[n("el-checkbox",{model:{value:t.marklineIsShow,callback:function(e){t.marklineIsShow=e},expression:"marklineIsShow"}},[t._v("吸附标线")])],1):"zoom"===a?n("div",{staticClass:"sliderbox"},[n("el-slider",{attrs:{min:50,max:200,marks:t.zoomMarks},model:{value:t.canvasStyleData.zoom,callback:function(e){t.$set(t.canvasStyleData,"zoom",e)},expression:"canvasStyleData.zoom"}})],1):n("div",{staticClass:"sx"},[a.includes("color")||a.includes("Color")?n("el-color-picker",{model:{value:t.canvasStyleData[a],callback:function(e){t.$set(t.canvasStyleData,a,e)},expression:"canvasStyleData[key]"}}):"backgroundImage"==a?n("el-button",{on:{click:t.showImgColud}},[t._v("\n            点击上传\n          ")]):"allData"===a?n("el-button",{attrs:{plain:"",size:"mini"},on:{click:t.showAllJsonData}},[t._v("\n            JSON\n          ")]):n("div",{staticClass:"sx-s"},[n("el-input",{attrs:{type:"number"},model:{value:t.canvasStyleData[a],callback:function(e){t.$set(t.canvasStyleData,a,t._n(e))},expression:"canvasStyleData[key]"}})],1),t._v(" "),n("div",{staticClass:"sx-x"},[t._v(t._s(o))])],1)])})),0)]),t._v(" "),n("el-dialog",{attrs:{title:"页面JSON数据","append-to-body":"",visible:t.allData.visible,width:"80%"},on:{"update:visible":function(e){return t.$set(t.allData,"visible",e)}}},[n("div",{staticClass:"json-data"},[n("div",{staticClass:"json-data-left"},[t.canvasStyleData?n("json-editor",{model:{value:t.canvasStyleData,callback:function(e){t.canvasStyleData=e},expression:"canvasStyleData"}}):t._e()],1),t._v(" "),n("div",{staticClass:"json-data-right"},[t.componentData?n("json-editor",{model:{value:t.componentData,callback:function(e){t.componentData=e},expression:"componentData"}}):t._e()],1)])]),t._v(" "),n("select-img",{attrs:{visible:t.imgClond.visible},on:{selectImg:t.selectClondImg}})],1)},zt=[],Mt=n("4360"),Vt=n("7909");function Rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rt(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var qt=["top","left","width","height","fontSize"];function $t(t){var e=Object(st["b"])(Mt["a"].state.drag.componentData);e.forEach((function(e){Object.keys(e.style).forEach((function(n){if(qt.includes(n)){if("fontSize"===n&&""===e.style[n])return;e.style[n]=Ht(Jt(e.style[n],Mt["a"].state.drag.canvasStyleData.scale),t)}}))})),Mt["a"].commit("drag/setComponentData",e),Mt["a"].commit("drag/setCurComponent",{component:e[Mt["a"].state.drag.curComponentIndex],index:Mt["a"].state.drag.curComponentIndex}),Mt["a"].commit("drag/setCanvasStyle",Ut(Ut({},Mt["a"].state.drag.canvasStyleData),{},{scale:t}))}var Gt=["width","height","fontSize"];function Bt(t){Object.keys(t.style).forEach((function(e){if(Gt.includes(e)){if("fontSize"===e&&""===t.style[e])return;t.style[e]=Ht(t.style[e],Mt["a"].state.drag.canvasStyleData.scale)}}))}function Ht(t,e){return Object(Vt["b"])(t,Object(Vt["a"])(parseFloat(e),100))}function Jt(t,e){return Object(Vt["a"])(t,Object(Vt["a"])(parseFloat(e),100))}var Xt=n("fa7e");function Yt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yt(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Kt={components:{JsonEditor:Xt["a"],SelectImg:wt["a"]},data:function(){return{baseUrl:this.global.baseUrl,pStyleData:[{key:"markline",label:"标线"},{key:"zoom",label:"显示比例"},{key:"width",label:"宽度"},{key:"height",label:"高度"},{key:"backgroundColor",label:"背景色"},{key:"backgroundImage",label:"背景图"},{key:"allData",label:"页面数据"}],imgClond:{visible:!1,url:"",id:""},allData:{visible:!1,value:""},zoomMarks:{50:{style:{color:"#1989FA",marginLeft:"10px"},label:"预览"},100:"100",150:"150",200:"200"},scaleMarks:{50:{style:{color:"#1989FA",marginLeft:"10px"},label:"真实"},80:"80",100:"100",120:"120",150:"150"},scale:100}},watch:{$route:{immediate:!0,handler:function(t){"/project/drag"==t.fullPath?(this.canvasStyleData.width=1600,this.canvasStyleData.height=890):"/project/drag?edittype=device"==t.fullPath&&(this.canvasStyleData.width=1142,this.canvasStyleData.height=662)}},"canvasStyleData.scale":function(t){this.scale=t}},computed:Wt(Wt(Wt({},Object(c["c"])({componentData:function(t){return t.drag.componentData},canvasStyleData:function(t){return t.drag.canvasStyleData}})),Object(c["b"])({path:"path"})),{},{marklineIsShow:{get:function(){return this.$store.state.drag.marklineIsShow},set:function(t){console.log(t),this.$store.state.drag.marklineIsShow=t}}}),created:function(){},methods:{handleScaleChange:function(){var t=this;console.log("切换画布真实比例"),clearTimeout(this.timer),this.timer=setTimeout((function(){t.scale=~~t.scale||1,t.canvasStyleData.zoom=100,$t(t.scale)}),1e3)},changeBgColor:function(t){this.$store.commit("drag/setCanvasStyle",Wt(Wt({},this.canvasStyleData),{},{backgroundColor:t}))},showImgColud:function(){this.imgClond.visible=!0,this.imgClond.id=1},selectClondImg:function(t){this.imgClond.visible=!1;var e=t.type,n=void 0===e?0:e,i=t.imgObj,a=void 0===i?{}:i;1==n&&this.$store.commit("drag/setCanvasStyle",Wt(Wt({},this.canvasStyleData),{},{backgroundImage:""})),2==n&&this.$store.commit("drag/setCanvasStyle",Wt(Wt({},this.canvasStyleData),{},{backgroundImage:a.url}))},showAllJsonData:function(){this.allData.visible=!0}}},Ft=Kt,Zt=(n("2642"),Object(L["a"])(Ft,Nt,zt,!1,null,"1f8dcb6f",null)),Qt=Zt.exports,te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"animation-list"},[n("div",{staticClass:"div-animation"},[n("el-button",{on:{click:function(e){t.isShowAnimation=!0}}},[t._v("添加动画")]),t._v(" "),n("el-button",{on:{click:t.previewAnimate}},[t._v("预览动画")]),t._v(" "),n("div",t._l(t.curComponent.animations,(function(e,i){return n("el-tag",{key:i,attrs:{closable:""},on:{close:function(e){return t.removeAnimation(i)}}},[t._v("\n        "+t._s(e.label)+"\n        "),n("i",{staticClass:"cursor el-icon-setting",on:{click:function(e){return t.handleAnimationSetting(i)}}})])})),1)],1),t._v(" "),n("Modal",{model:{value:t.isShowAnimation,callback:function(e){t.isShowAnimation=e},expression:"isShowAnimation"}},[n("el-tabs",{model:{value:t.animationActiveName,callback:function(e){t.animationActiveName=e},expression:"animationActiveName"}},t._l(t.animationClassData,(function(e){return n("el-tab-pane",{key:e.label,attrs:{label:e.label,name:e.label}},[n("el-scrollbar",{staticClass:"animate-container"},t._l(e.children,(function(e){return n("div",{key:e.value,ref:e.value,refInFor:!0,staticClass:"animate",on:{mouseenter:function(n){return t.runAnimation(e)},click:function(n){return t.addAnimation(e)}}},[n("div",[t._v("\n              "+t._s(e.label)+"\n            ")])])})),0)],1)})),1)],1),t._v(" "),t.isShowAnimationSetting?n("AnimationSettingModal",{attrs:{"cur-index":t.curIndex},on:{close:function(e){t.isShowAnimationSetting=!1}}}):t._e()],1)},ee=[],ne=(n("96cf"),n("1da1")),ie=n("967e"),ae=n.n(ie),oe=[{label:"进入",children:[{label:"渐显",value:"fadeIn"},{label:"向右进入",value:"fadeInLeft"},{label:"向左进入",value:"fadeInRight"},{label:"向上进入",value:"fadeInUp"},{label:"向下进入",value:"fadeInDown"},{label:"向右长距进入",value:"fadeInLeftBig"},{label:"向左长距进入",value:"fadeInRightBig"},{label:"向上长距进入",value:"fadeInUpBig"},{label:"向下长距进入",value:"fadeInDownBig"},{label:"旋转进入",value:"rotateIn"},{label:"左顺时针旋转",value:"rotateInDownLeft"},{label:"右逆时针旋转",value:"rotateInDownRight"},{label:"左逆时针旋转",value:"rotateInUpLeft"},{label:"右逆时针旋转",value:"rotateInUpRight"},{label:"弹入",value:"bounceIn"},{label:"向右弹入",value:"bounceInLeft"},{label:"向左弹入",value:"bounceInRight"},{label:"向上弹入",value:"bounceInUp"},{label:"向下弹入",value:"bounceInDown"},{label:"光速从右进入",value:"lightSpeedIn"},{label:"光速从右退出",value:"lightSpeedOut"},{label:"中心X轴旋转",value:"flipInX"},{label:"中心Y轴旋转",value:"flipInY"},{label:"左长半径旋转",value:"rollIn"},{label:"由小变大进入",value:"zoomIn"},{label:"左变大进入",value:"zoomInLeft"},{label:"右变大进入",value:"zoomInRight"},{label:"向上变大进入",value:"zoomInUp"},{label:"向下变大进入",value:"zoomInDown"},{label:"向右滑动展开",value:"slideInLeft"},{label:"向左滑动展开",value:"slideInRight"},{label:"向上滑动展开",value:"slideInUp"},{label:"向下滑动展开",value:"slideInDown"}]},{label:"强调",children:[{label:"弹跳",value:"bounce"},{label:"闪烁",value:"flash"},{label:"放大缩小",value:"pulse"},{label:"放大缩小弹簧",value:"rubberBand"},{label:"左右晃动",value:"headShake"},{label:"左右扇形摇摆",value:"swing"},{label:"放大晃动缩小",value:"tada"},{label:"扇形摇摆",value:"wobble"},{label:"左右上下晃动",value:"jello"},{label:"Y轴旋转",value:"flip"}]},{label:"退出",children:[{label:"渐隐",value:"fadeOut"},{label:"向左退出",value:"fadeOutLeft"},{label:"向右退出",value:"fadeOutRight"},{label:"向上退出",value:"fadeOutUp"},{label:"向下退出",value:"fadeOutDown"},{label:"向左长距退出",value:"fadeOutLeftBig"},{label:"向右长距退出",value:"fadeOutRightBig"},{label:"向上长距退出",value:"fadeOutUpBig"},{label:"向下长距退出",value:"fadeOutDownBig"},{label:"旋转退出",value:"rotateOut"},{label:"左顺时针旋转",value:"rotateOutDownLeft"},{label:"右逆时针旋转",value:"rotateOutDownRight"},{label:"左逆时针旋转",value:"rotateOutUpLeft"},{label:"右逆时针旋转",value:"rotateOutUpRight"},{label:"弹出",value:"bounceOut"},{label:"向左弹出",value:"bounceOutLeft"},{label:"向右弹出",value:"bounceOutRight"},{label:"向上弹出",value:"bounceOutUp"},{label:"向下弹出",value:"bounceOutDown"},{label:"中心X轴旋转",value:"flipOutX"},{label:"中心Y轴旋转",value:"flipOutY"},{label:"左长半径旋转",value:"rollOut"},{label:"由小变大退出",value:"zoomOut"},{label:"左变大退出",value:"zoomOutLeft"},{label:"右变大退出",value:"zoomOutRight"},{label:"向上变大退出",value:"zoomOutUp"},{label:"向下变大退出",value:"zoomOutDown"},{label:"向左滑动收起",value:"slideOutLeft"},{label:"向右滑动收起",value:"slideOutRight"},{label:"向上滑动收起",value:"slideOutUp"},{label:"向下滑动收起",value:"slideOutDown"}]}];oe.forEach((function(t){t.children.forEach((function(t){t.pending=!1,t.animationTime=1}))}));var re=oe,se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:t.config.label+" 动画配置",visible:t.centerDialogVisible,width:"30%",center:""},on:{close:t.handleCloseModal}},[n("div",{staticClass:"time"},[t._v("\n    动画时长：\n    "),n("el-input-number",{attrs:{"controls-position":"right",min:.1,precision:2,step:.01},model:{value:t.config.animationTime,callback:function(e){t.$set(t.config,"animationTime",e)},expression:"config.animationTime"}})],1),t._v(" "),n("div",{staticClass:"loop"},[t._v("\n    是否循环：\n    "),n("el-switch",{attrs:{"active-text":"是","inactive-text":"否",disabled:t.isDisabled},model:{value:t.config.isLoop,callback:function(e){t.$set(t.config,"isLoop",e)},expression:"config.isLoop"}})],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.handleCloseModal}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.handleSaveSetting}},[t._v("确 定")])],1)])},ce=[];function le(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ue(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?le(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var de={name:"AnimationSettingModal",props:{curIndex:{type:Number,default:0}},data:function(){return{centerDialogVisible:!0,config:{}}},computed:ue(ue({},Object(c["c"])({curComponent:function(t){return t.drag.curComponent}})),{},{isDisabled:function(){return this.curComponent.animations.length>1}}),created:function(){var t=this.curComponent.animations[this.curIndex]||{},e=t.label,n=t.animationTime,i=t.isLoop,a=void 0!==i&&i,o=t.value;this.config={animationTime:n,label:e,isLoop:a,value:o}},methods:{handleCloseModal:function(){this.$emit("close")},handleSaveSetting:function(){var t=this.config.isLoop;this.$store.commit("drag/alterAnimation",{index:this.curIndex,data:{animationTime:this.config.animationTime,isLoop:t}}),d["a"].$emit("stopAnimation"),this.handleCloseModal()}}},pe=de,me=(n("ad46"),Object(L["a"])(pe,se,ce,!1,null,"6c846bdf",null)),he=me.exports,fe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"modal-bg",on:{click:t.hide}},[n("div",{staticClass:"fadeInLeft animated modal",on:{click:t.stopPropagation}},[t._t("default")],2)]):t._e()},ve=[],be={model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1}},methods:{hide:function(){this.$emit("change")},stopPropagation:function(t){t.stopPropagation()}}},ge=be,ye=(n("2411"),Object(L["a"])(ge,fe,ve,!1,null,"6b8b024d",null)),Ce=ye.exports,Oe={components:{Modal:Ce,AnimationSettingModal:he},data:function(){return{isShowAnimation:!1,hoverPreviewAnimate:"",animationActiveName:"进入",animationClassData:re,showAnimatePanel:!1,timer:null,isShowAnimationSetting:!1,curIndex:0}},computed:Object(c["c"])({curComponent:function(t){return t.drag.curComponent}}),methods:{addAnimation:function(t){this.$store.commit("drag/addAnimation",t),this.isShowAnimation=!1},previewAnimate:function(){d["a"].$emit("runAnimation")},removeAnimation:function(t){this.$store.commit("drag/removeAnimation",t),this.curComponent.animations.length||d["a"].$emit("stopAnimation")},handleAnimationSetting:function(t){this.isShowAnimationSetting=!0,this.curIndex=t},runAnimation:function(){var t=Object(ne["a"])(ae.a.mark((function t(e){return ae.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.pending){t.next=2;break}return t.abrupt("return");case 2:return e.pending=!0,t.next=5,Object(p["a"])(this.$refs[e.value][0],[e]);case 5:setTimeout((function(){e.pending=!1}),100);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},we=Oe,Ae=(n("fcc3"),Object(L["a"])(we,te,ee,!1,null,null,null)),Se=Ae.exports,ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"event-list"},[n("div",{staticClass:"div-events"},[n("el-button",{on:{click:function(e){t.isShowEvent=!0}}},[t._v("添加事件")]),t._v(" "),n("div",t._l(Object.keys(t.curComponent.events),(function(e){return n("el-tag",{key:e,attrs:{closable:""},on:{close:function(n){return t.removeEvent(e)}}},[t._v("\n        "+t._s(e)+"\n      ")])})),1)],1),t._v(" "),n("Modal",{model:{value:t.isShowEvent,callback:function(e){t.isShowEvent=e},expression:"isShowEvent"}},[n("el-tabs",{on:{"tab-click":function(e){return t.tabClick()}},model:{value:t.eventActiveName,callback:function(e){t.eventActiveName=e},expression:"eventActiveName"}},t._l(t.eventList,(function(e){return n("el-tab-pane",{key:e.key,staticClass:"el-tab-pane",attrs:{label:e.label,name:e.key}},[n("div",{staticClass:"pad"},["redirect"===e.key?n("div",[n("el-input",{attrs:{type:"text",placeholder:1===e.param.redirectType?"站内地址:路由地址":"站外地址:http(s):开头"},nativeOn:{keydown:function(t){t.stopPropagation()}},model:{value:e.param.redirectUrl,callback:function(n){t.$set(e.param,"redirectUrl",n)},expression:"item.param.redirectUrl"}},[n("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.param.redirectType,callback:function(n){t.$set(e.param,"redirectType",n)},expression:"item.param.redirectType"}},t._l(t.redirectOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),n("el-alert",{staticClass:"margin",attrs:{title:1===e.param.redirectType?"站内案例":"站外案例",type:"warning",description:1===e.param.redirectType?"/alarmlog/historyalarm, /alarmlog/timealarm":"http://www.whzskj.cn/, https://www.baidu.com/","show-icon":""}}),t._v(" "),n("el-button",{staticClass:"margin",on:{click:function(n){return t.addEvent(e.key,e.param)}}},[t._v("\n              确定\n            ")])],1):t._e(),t._v(" "),"script"===e.key?n("div",["script"==e.key?n("el-input",{attrs:{type:"textarea",placeholder:"请输入脚本名称"},nativeOn:{keydown:function(t){t.stopPropagation()}},model:{value:e.param,callback:function(n){t.$set(e,"param",n)},expression:"item.param"}}):t._e(),t._v(" "),n("el-button",{staticClass:"mar",on:{click:function(n){return t.addEvent(e.key,e.param)}}},[t._v("\n              确定\n            ")]),t._v(" "),n("div",{staticClass:"script_instructions"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.jsHelpTableData}},[n("el-table-column",{attrs:{prop:"js",label:"脚本(点击复制)"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("el-button",{staticClass:"btn-item",attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){return t.handleClipboard(i.js,e)}}},[t._v("\n                      "+t._s(i.js)+"\n                    ")])]}}],null,!0)}),t._v(" "),n("el-table-column",{attrs:{prop:"jsexplain",label:"说明"}}),t._v(" "),n("el-table-column",{attrs:{prop:"sample",label:"示例"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.issample?n("div",{staticClass:"sample",on:{click:function(e){return t.openSample()}}},[t._v("\n                      "+t._s(e.row.sample)+"\n                    ")]):n("div",[t._v("\n                      "+t._s(e.row.sample)+"\n                    ")])]}}],null,!0)})],1)],1)],1):t._e()])])})),1)],1),t._v(" "),n("samplePopup",{attrs:{visible:t.samplevisible},on:{"update:visible":function(e){t.samplevisible=e},handleClose:t.handleClose,updateVisible:t.updateVisible}})],1)},xe=[],je=n("4425"),De=n("f71e"),_e=n("61f7"),Ie=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"popup"},[i("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogVisible,width:"50%","before-close":t.handleClose,center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("h4",[t._v("1.进入注册表编辑页面 :")]),t._v(" "),i("p",[t._v("我的电脑--\x3e运行--\x3eregedit 进入注册表编辑页面。")]),t._v(" "),i("br"),t._v(" "),i("img",{attrs:{src:n("3eee"),alt:""}}),t._v(" "),i("h4",[t._v("2.新建注册表目录：")]),t._v(" "),i("p",[i("br"),t._v("\n      首先进入 HKEY_CLASSES_ROOT 目录\n    ")]),t._v(" "),i("br"),t._v(" "),i("img",{attrs:{src:n("e260"),alt:""}}),t._v(" "),i("br"),t._v(" "),i("p",[t._v("在HKEY_CLASSES_ROOT下新建4级子目录，如下图所示：")]),t._v(" "),i("br"),t._v(" "),i("img",{attrs:{src:n("6172"),alt:""}}),t._v(" "),i("br"),t._v(" "),i("br"),t._v(" "),i("br"),t._v(" "),i("p",[t._v("\n      其中第一级目录SunloginClient 是自定义的，\n      定义的这个目录名跟在命令调用中会用到。下面的三级目录名shell、open、command\n      名称和顺序是固定不变的。\n    ")]),t._v(" "),i("h4",[t._v("3.编辑一级目录：")]),t._v(" "),i("p",[t._v("选择SunloginClient,在右侧添加3个配置项，添加完成的结果如下图：")]),t._v(" "),i("br"),t._v(" "),i("img",{attrs:{src:n("450a"),alt:""}}),t._v(" "),i("h4",[t._v("第一项 (默认) 步骤：")]),t._v(" "),i("p",[t._v("鼠标右键--\x3e新建--\x3e字符串值")]),t._v(" "),i("br"),t._v(" "),i("img",{attrs:{src:n("41de"),alt:""}}),t._v(" "),i("br"),t._v(" "),i("br"),t._v(" "),i("p",[t._v("进入编辑页面，重命名成 (默认)，修改内容为 URL")]),t._v(" "),i("br"),t._v(" "),i("img",{attrs:{src:n("ddcf"),alt:""}}),t._v(" "),i("br"),t._v(" "),i("p",[t._v("保存之后：")]),t._v(" "),i("br"),t._v(" "),i("img",{attrs:{src:n("7aff"),alt:""}}),t._v(" "),i("br"),t._v(" "),i("h4",[t._v("第二项 Path 步骤：")]),t._v(" "),i("p",[t._v("\n      鼠标右键--\x3e新建--\x3e字符串值 进入编辑页面，重命名成 Path，\n      "),i("br"),t._v(" "),i("br"),t._v("\n      修改内容为 exe程序所在的目录。在示例中是以本地向日葵的安装目录，\n      "),i("br"),t._v(" "),i("br"),t._v("\n      内容为“C:\\Program Files\\Oray\\SunLogin\\SunloginClient\\”\n    ")]),t._v(" "),i("br"),t._v(" "),i("img",{attrs:{src:n("6e59"),alt:""}}),t._v(" "),i("br"),t._v(" "),i("p",[t._v("保存之后:")]),t._v(" "),i("br"),t._v(" "),i("img",{attrs:{src:n("0342"),alt:""}}),t._v(" "),i("br"),t._v(" "),i("h4",[t._v("第三项 URL Protocol")]),t._v(" "),i("p",[t._v("\n      鼠标右键--\x3e新建--\x3e字符串值 进入编辑页面，重命名成 URL\n      "),i("br"),t._v(" "),i("br"),t._v("\n      Protocol，修改内容为 www.mysite.com。\n    ")]),t._v(" "),i("br"),t._v(" "),i("img",{attrs:{src:n("4173"),alt:""}}),t._v(" "),i("br"),t._v(" "),i("h4",[t._v("编辑第四项Command目录：")]),t._v(" "),i("br"),t._v(" "),i("p",[t._v("\n      鼠标右键--\x3e新建--\x3e字符串值 进入编辑页面，重命名成 (默认)，修改内容为\n      "),i("br"),t._v(" "),i("br"),t._v('\n      "exe程序完整目录""%1"。 示例向日葵的目录为： C:\\Program\n      '),i("br"),t._v(" "),i("br"),t._v("\n      Files\\Oray\\SunLogin\\SunloginClient\\SunloginClient.exe\n      "),i("br"),t._v(" "),i("br"),t._v("\n      则配置之后的内容如下：\n    ")]),t._v(" "),i("br"),t._v(" "),i("br"),t._v(" "),i("img",{attrs:{src:n("f33b"),alt:""}}),t._v(" "),i("br"),t._v(" "),i("br"),t._v(" "),i("h4",[t._v("配置完成!!!,按照示例中输入脚本即可。")])])],1)},Te=[],Pe={props:{dialogTitle:{type:String,default:"注册表配置步骤"},visible:{type:Boolean,default:!1}},computed:{dialogVisible:{get:function(){return this.visible},set:function(t){this.$emit("updateVisible",t)}}},methods:{Cancel:function(){this.$emit("resetPopupData")},Save:function(){this.$emit("submitPopupData")},handleClose:function(){this.$emit("handleClose")}}},Le=Pe,Ee=Object(L["a"])(Le,Ie,Te,!1,null,null,null),Ne=Ee.exports,ze={components:{Modal:Ce,samplePopup:Ne},data:function(){return{samplevisible:!1,jsHelpTableData:ft["e"],isShowEvent:!1,eventList:je["a"],eventActiveName:"redirect",eventURL:"",redirectOptions:[{label:"站内",value:1},{label:"站外",value:2}]}},computed:Object(c["c"])({curComponent:function(t){return t.drag.curComponent}}),watch:{isShowEvent:{handler:function(t){t&&(this.eventActiveName="redirect",this.assignment())}}},methods:{tabClick:function(){if("script"===this.eventActiveName){var t=this.curComponent.events.script;je["a"].forEach((function(e){"script"===e.key&&(e.param=t)}))}else this.assignment()},assignment:function(){var t=this.curComponent.events.hasOwnProperty("redirect");if(t){var e=this.curComponent.events.redirect.redirectUrl;je["a"].forEach((function(t){"redirect"===t.key&&(t.param.redirectUrl=e)}))}else je["a"].forEach((function(t){"redirect"===t.key&&(t.param.redirectUrl="")}))},addEvent:function(t,e){switch(t){case"redirect":if(!e.redirectUrl)return this.$message({message:"请填写地址",type:"warning"}),!1;if(1===e.redirectType);else if(!Object(_e["d"])(e.redirectUrl))return this.$message({message:"请填写正确的地址",type:"warning"}),!1;this.isShowEvent=!1,this.$message.success("地址绑定成功,请保存页面!"),this.$store.commit("drag/addEvent",{event:t,param:e});break;case"script":if(!e)return this.$message({message:"请输入脚本内容",type:"warning"}),!1;this.isShowEvent=!1,this.$message.success("脚本绑定成功,请保存页面!"),this.$store.commit("drag/addEvent",{event:t,param:e});break}},removeEvent:function(t){this.$store.commit("drag/removeEvent",t)},handleClipboard:function(t,e){Object(De["a"])(t,e)},handleClose:function(){this.samplevisible=!1},updateVisible:function(t){this.samplevisible=t},openSample:function(){this.samplevisible=!0}},created:function(){}},Me=ze,Ve=(n("b0b1"),Object(L["a"])(Me,ke,xe,!1,null,"19a07336",null)),Re=Ve.exports,Ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dynamic"},["page"==t.edittype?n("div",{staticClass:"page"},[n("el-form",{ref:"ruleForm",attrs:{model:t.temp,rules:t.rules,"label-position":"left","label-width":"80px"}},[n("el-form-item",{attrs:{label:"绑定类型",prop:"dynamicType"}},[n("el-cascader",{attrs:{options:t.dynamicTypeList},on:{change:t.dynamicTypeChange},model:{value:t.temp.dynamicType,callback:function(e){t.$set(t.temp,"dynamicType",e)},expression:"temp.dynamicType"}})],1),t._v(" "),t.paramItem.visible?n("el-form-item",{attrs:{label:"绑定参数",prop:"dynamicLabelParams"}},[n("el-input",{attrs:{rows:3,type:"textarea",readonly:""},model:{value:t.temp.dynamicLabelParams,callback:function(e){t.$set(t.temp,"dynamicLabelParams",e)},expression:"temp.dynamicLabelParams"}}),t._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.showDialog}},[t._v("\n          "+t._s(t.paramItem.btnLabel)+"\n        ")])],1):t._e(),t._v(" "),n("el-form-item",{attrs:{label:"绑定阈值",prop:"thresholdId"}},[n("el-select",{staticStyle:{width:"174px"},attrs:{clearable:"",placeholder:"请选择阈值类型"},model:{value:t.temp.thresholdId,callback:function(e){t.$set(t.temp,"thresholdId",e)},expression:"temp.thresholdId"}},t._l(t.thresholdList,(function(t,e){return n("el-option",{key:e,attrs:{label:t.value,value:t.id}})})),1)],1)],1),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.bindDynamix}},[t._v("添加绑定")]),t._v(" "),n("el-button",{attrs:{type:"warning"},on:{click:t.clearDynamix}},[t._v("清除绑定")]),t._v(" "),n("el-dialog",{attrs:{title:"变量选择",visible:t.reg.visible,width:"60%",modal:!1,"append-to-body":""},on:{"update:visible":function(e){return t.$set(t.reg,"visible",e)}}},[n("div",{staticClass:"device-data"},[n("div",{staticClass:"device-type max-height"},[n("el-tree",{attrs:{data:t.device.deviceTypeTree,props:t.device.deviceTypeProps},on:{"node-click":t.selectDeviceType}})],1),t._v(" "),n("div",{staticClass:"device-name max-height"},[n("el-tree",{attrs:{data:t.device.deviceNameTree,props:t.device.deviceNameProps,"show-checkbox":""},on:{"check-change":t.selectDevice}})],1),t._v(" "),n("div",{staticClass:"reg-name max-height"},[n("el-tree",{ref:"regTree",attrs:{data:t.device.regNameTree,props:t.device.regNameProps,"show-checkbox":""},on:{"check-change":t.selectRegs}})],1)]),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(e){t.reg.visible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.selectBDTrue(1001)}}},[t._v("\n          确 定\n        ")])],1)]),t._v(" "),n("el-dialog",{attrs:{title:"设备类型选择",visible:t.devicetype.visible,width:"30%","append-to-body":""},on:{"update:visible":function(e){return t.$set(t.devicetype,"visible",e)}}},[n("div",{staticClass:"max-height"},[n("el-tree",{attrs:{data:t.device.deviceTypeTree,props:t.device.deviceTypeProps},on:{"node-click":t.chooseDeviceType}})],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(e){t.devicetype.visible=!1}}},[t._v("\n          取 消\n        ")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.selectBDTrue(1002)}}},[t._v("\n          确 定\n        ")])],1)]),t._v(" "),n("el-dialog",{attrs:{title:"联动选择",visible:t.linkage.visible,width:"30%","append-to-body":""},on:{"update:visible":function(e){return t.$set(t.linkage,"visible",e)}}},[n("div",{staticClass:"max-height"},[n("el-tree",{attrs:{data:t.linkage.linkageTree,props:t.linkage.linkageProps},on:{"node-click":t.chooseLinkage}})],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(e){t.linkage.visible=!1}}},[t._v("\n          取 消\n        ")]),t._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.selectBDTrue(1006)}}},[t._v("\n          确 定\n        ")])],1)]),t._v(" "),n("el-dialog",{attrs:{title:"报警选择",visible:t.alarm.visible,width:"30%","append-to-body":""},on:{"update:visible":function(e){return t.$set(t.alarm,"visible",e)}}},[n("el-radio-group",{model:{value:t.alarm.alarmType,callback:function(e){t.$set(t.alarm,"alarmType",e)},expression:"alarm.alarmType"}},[n("el-radio",{attrs:{label:1}},[t._v("实时报警")]),t._v(" "),n("el-radio",{attrs:{label:2}},[t._v("历史报警")])],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(e){t.alarm.visible=!1}}},[t._v("\n          取 消\n        ")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.selectBDTrue(1003)}}},[t._v("\n          确 定\n        ")])],1)],1),t._v(" "),n("el-dialog",{attrs:{title:"能耗选择",visible:t.energy.visible,width:"30%","append-to-body":""},on:{"update:visible":function(e){return t.$set(t.energy,"visible",e)}}},[n("div",{staticClass:"max-height"},[n("el-tree",{attrs:{data:t.energy.energyTree,props:t.energy.energyProps},on:{"node-click":t.chooseEnergy}})],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(e){t.energy.visible=!1}}},[t._v("\n          取 消\n        ")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.selectBDTrue(1005)}}},[t._v("\n          确 定\n        ")])],1)])],1):t._e(),t._v(" "),"device"==t.edittype?n("div",{staticClass:"page"},[n("el-form",{ref:"ruleForm",attrs:{model:t.tempdevice,"label-position":"left","label-width":"80px"}},[n("el-form-item",{attrs:{label:"类型变量",prop:"thresholdId"}},[n("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择阈值类型"},on:{change:function(e){return t.changeReg(e)}},model:{value:t.tempdevice.typemodeid,callback:function(e){t.$set(t.tempdevice,"typemodeid",e)},expression:"tempdevice.typemodeid"}},t._l(t.drtypemode,(function(t,e){return n("el-option",{key:e,attrs:{label:t.regName,value:t.typemodeid}})})),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"阈值类型",prop:"thresholdId"}},[n("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择阈值类型"},model:{value:t.tempdevice.subid,callback:function(e){t.$set(t.tempdevice,"subid",e)},expression:"tempdevice.subid"}},t._l(t.thresholdList,(function(t,e){return n("el-option",{key:e,attrs:{label:t.value,value:t.id}})})),1)],1),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.bindDynamix2}},[t._v("添加绑定")]),t._v(" "),n("el-button",{attrs:{type:"warning"},on:{click:t.clearDynamix2}},[t._v("清除绑定")])],1)],1):t._e()])},qe=[],$e=(n("7514"),n("7bcf")),Ge=n("0c6f"),Be=n("b775");function He(t,e){return Object(Be["a"])({url:"zsqy/Drtypemode/".concat(t,"/findAll"),method:"get",params:{drtypeid:e}})}function Je(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Xe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Je(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ye={props:{isShow:{type:Boolean,default:!1}},computed:Xe(Xe({},Object(c["c"])({curComponent:function(t){return t.drag.curComponent},edittype:function(t){return t.drag.edittype},drtypeId:function(t){return t.drag.drtypeId}})),Object(c["b"])({path:"path"})),watch:{"curComponent.dynamic":{handler:function(t,e){t?(this.temp=t,this.tempdevice=t):this.clearDynamix()},immediate:!0,deep:!0}},data:function(){return{drtypemode:[],dynamicTypeList:ft["d"],jsHelpTableData:ft["e"],jsHelpVisible:!1,thresholdList:[],paramItem:{visible:!0,btnLabel:"绑定参数"},device:{deviceTypeTree:[],deviceTypeProps:{children:"drtypeinfoList",label:"drtypename"},deviceNameTree:[],deviceNameProps:{label:"drname"},regNameTree:[],regNameProps:{label:"regName"}},reg:{visible:!1,regSelectedList:[]},devicetype:{visible:!1,deviceObj:null},energy:{visible:!1,energyProps:{label:"energytypename"},energyTree:[],energyObj:null},alarm:{visible:!1,alarmType:1},linkage:{visible:!1,linkageTree:[],linkageProps:{label:"ldRwName"},linkageObj:null},temp:{dynamicParentType:null,dynamicType:null,dynamicLabelParams:null,dynamicValueParams:null,thresholdId:null},rules:{},tempdevice:{subid:"",typemodeid:"",regListShowLevel:""}}},created:function(){this.findDeviceType(),this.findComponent(),this.findAllEnergy(),this.findAllLinkage(),this.DrtypemodeFindallApi()},methods:{changeReg:function(t){var e={};e=this.drtypemode.find((function(e){return e.typemodeid==t})),this.tempdevice.regListShowLevel=e.regListShowLevel},dynamicTypeChange:function(t){console.log(t);var e=t[0],n=t[1];this.temp.dynamicParentType=e,this.temp.dynamicType=n,this.temp.dynamicLabelParams=null,this.changeButton(e)},DrtypemodeFindallApi:function(){var t=Object(ne["a"])(ae.a.mark((function t(){var e,n;return ae.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,He(this.path,this.drtypeId);case 2:e=t.sent,n=e.data,this.drtypemode=n;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeButton:function(t){switch(this.paramItem.visible=!0,t){case 1001:this.paramItem.btnLabel="绑定变量";break;case 1002:this.paramItem.btnLabel="绑定设备类型";break;case 1003:this.paramItem.btnLabel="绑定报警";break;case 1004:this.paramItem.btnLabel="绑定工单",this.paramItem.visible=!1;break;case 1005:this.paramItem.btnLabel="绑定能耗";break;case 1006:this.paramItem.btnLabel="绑定联动";break}},findComponent:function(){var t=Object(ne["a"])(ae.a.mark((function t(){var e,n,i;return ae.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object($e["d"])(this.path);case 2:e=t.sent,n=e.data||[],i=[],n.forEach((function(t){i.push({id:t.subid,value:t.subname})})),this.thresholdList=i;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),findAllEnergy:function(){var t=Object(ne["a"])(ae.a.mark((function t(){var e;return ae.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Ge["b"])(this.path);case 2:e=t.sent,this.energy.energyTree=e.data;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),chooseEnergy:function(t){this.energy.energyObj=t},findAllLinkage:function(){var t=Object(ne["a"])(ae.a.mark((function t(){var e;return ae.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Ge["c"])(this.path);case 2:e=t.sent,this.linkage.linkageTree=e.data;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),chooseLinkage:function(t){this.linkage.linkageObj=t},findDeviceType:function(){var t=Object(ne["a"])(ae.a.mark((function t(){var e;return ae.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Ge["e"])(this.path);case 2:e=t.sent,this.device.deviceTypeTree=e.data||[];case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),selectDeviceType:function(t){t.drtypeinfoList&&0===t.drtypeinfoList.length&&this.findAllDevice(t.drtypeid)},findAllDevice:function(){var t=Object(ne["a"])(ae.a.mark((function t(e){var n;return ae.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Ge["a"])(this.path,e);case 2:n=t.sent,this.device.deviceNameTree=n.data||[];case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),selectDevice:function(t,e){if(e)this.findAllReg(t.drid);else for(var n=this.device.regNameTree.length-1;n>=0;n--)this.device.regNameTree[n].drId===t.drid&&this.device.regNameTree.splice(n,1)},findAllReg:function(){var t=Object(ne["a"])(ae.a.mark((function t(e){var n,i,a=this;return ae.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Ge["d"])(this.path,e,1);case 2:n=t.sent,i=n.data||[],i.forEach((function(t){a.device.regNameTree.push(t)}));case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),selectRegs:function(){this.reg.regSelectedList=this.$refs.regTree.getCheckedNodes()},showDialog:function(){if(!this.temp.dynamicParentType)return this.$message({message:"请选择绑定类型",type:"warning"}),!1;var t=this.temp.dynamicParentType;switch(t){case 1001:this.reg.visible=!0;break;case 1002:this.devicetype.visible=!0;break;case 1003:this.alarm.visible=!0;break;case 1005:this.energy.visible=!0;break;case 1006:this.linkage.visible=!0;break}},chooseDeviceType:function(t){this.devicetype.deviceObj=t},selectBDTrue:function(t){switch(t){case 1001:var e=[],n=[];this.reg.regSelectedList.forEach((function(t){e.push(t.regName),n.push(t.regId)})),this.temp.dynamicLabelParams=e.join(","),this.temp.dynamicValueParams=n.join(","),this.reg.visible=!1;break;case 1002:this.temp.dynamicLabelParams=this.devicetype.deviceObj.drtypename,this.temp.dynamicValueParams=this.devicetype.deviceObj.drtypeid,this.devicetype.visible=!1;break;case 1003:this.temp.dynamicLabelParams=1===this.alarm.alarmType?"实时报警":"历史报警",this.temp.dynamicValueParams=this.alarmType,this.alarm.visible=!1;break;case 1004:break;case 1005:this.temp.dynamicLabelParams=this.energy.energyObj.energytypename,this.temp.dynamicValueParams=this.energy.energyObj.id,this.energy.visible=!1;break;case 1006:this.temp.dynamicLabelParams=this.linkage.linkageObj.ldRwName,this.temp.dynamicValueParams=this.linkage.linkageObj.ldRwId,this.linkage.visible=!1;break}},bindDynamix:function(){var t=this;this.$refs["ruleForm"].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.$store.commit("drag/setCurComponentDynamic",t.temp),t.$message({message:"请记得保存页面！",type:"warning"})}))},bindDynamix2:function(){var t=this;this.$refs["ruleForm"].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.$store.commit("drag/setCurComponentDynamic",t.tempdevice),t.$message({message:"请记得保存页面！",type:"warning"})}))},clearDynamix2:function(){this.tempdevice={subid:null,typemodeid:null},this.$store.commit("drag/setCurComponentDynamic",null)},clearDynamix:function(){this.temp={dynamicParentType:null,dynamicType:null,dynamicLabelParams:null,dynamicValueParams:null,thresholdId:null},this.$store.commit("drag/setCurComponentDynamic",null)},handleClipboard:function(t,e){Object(De["a"])(t,e)}}},We=Ye,Ke=(n("ae89"),Object(L["a"])(We,Ue,qe,!1,null,"6a2e82ce",null)),Fe=Ke.exports,Ze=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"toolbar"},[n("div",{staticClass:"toolbar-left"},[n("el-cascader",{directives:[{name:"show",rawName:"v-show",value:"page"==t.edittype,expression:"edittype == 'page'"}],staticClass:"toolbar-select",attrs:{size:"mini",options:t.pageTreeData,"show-all-levels":!1,placeholder:"请选择页面",props:{expandTrigger:"hover",label:"picname",value:"picmodeid"}},on:{change:t.changePage},model:{value:t.pageName,callback:function(e){t.pageName=e},expression:"pageName"}}),t._v(" "),n("el-select",{directives:[{name:"show",rawName:"v-show",value:"page"==t.edittype,expression:"edittype == 'page'"}],staticClass:"toolbar-select",attrs:{size:"mini",multiple:"",filterable:"","collapse-tags":"","allow-create":"","default-first-option":"",placeholder:"请选择展示按钮"},model:{value:t.canvasStyleData.btnList,callback:function(e){t.$set(t.canvasStyleData,"btnList",e)},expression:"canvasStyleData.btnList"}},t._l(t.btnList,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),n("el-cascader",{directives:[{name:"show",rawName:"v-show",value:"device"==t.edittype,expression:"edittype == 'device'"}],staticClass:"toolbar-select",attrs:{size:"mini",options:t.deviceTypeTree,"show-all-levels":!1,placeholder:"请选择设备类型"},on:{change:t.changeDeviceType},model:{value:t.deviceTypeName,callback:function(e){t.deviceTypeName=e},expression:"deviceTypeName"}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"page"==t.edittype,expression:"edittype == 'page'"}],staticClass:"row-btn",on:{click:function(e){t.deviceDialogVisible=!0}}},[n("i",{staticClass:"iconfont icon-shebei"}),t._v(" "),n("span",[t._v("设备")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"device"==t.edittype,expression:"edittype == 'device'"}],staticClass:"row-btn",on:{click:t.addtypeTemplate}},[n("i",{staticClass:"iconfont icon-shebei"}),t._v(" "),n("span",[t._v("类型")])]),t._v(" "),n("div",{staticClass:"row-btn",on:{click:t.showImgColud}},[n("i",{staticClass:"iconfont icon-tupian"}),t._v(" "),n("span",[t._v("图片")])]),t._v(" "),n("div",{staticClass:"row-btn",on:{click:t.save}},[n("i",{staticClass:"iconfont icon-baocun"}),t._v(" "),n("span",[t._v("保存")])]),t._v(" "),n("div",{staticClass:"row-btn",on:{click:t.undo}},[n("i",{staticClass:"iconfont icon-chehui"}),t._v(" "),n("span",[t._v("撤销")])]),t._v(" "),n("div",{staticClass:"row-btn",on:{click:t.redo}},[n("i",{staticClass:"iconfont icon-zhongzuo"}),t._v(" "),n("span",[t._v("重做")])]),t._v(" "),n("div",{staticClass:"row-btn",on:{click:t.copyPage}},[n("i",{staticClass:"iconfont icon-fuzhi"}),t._v(" "),n("span",[t._v("复制")])]),t._v(" "),n("div",{staticClass:"row-btn",on:{click:t.pastepage}},[n("i",{staticClass:"iconfont icon-niantie"}),t._v(" "),n("span",[t._v("粘贴")])]),t._v(" "),n("div",{staticClass:"row-btn",on:{click:t.beforeClearCanvas}},[n("i",{staticClass:"iconfont icon-niantie"}),t._v(" "),n("span",[t._v("清空")])]),t._v(" "),t.componentData&&t.componentData.length>0?n("div",{staticClass:"row-btn",on:{click:t.batchRepair}},[n("i",{staticClass:"iconfont icon-baojing2"}),t._v(" "),n("span",[t._v("修复")])]):t._e()],1),t._v(" "),n("div",{staticClass:"toolbar-right"},[n("div",{staticClass:"column-btn",on:{click:t.openKeyboardShortcuts}},[n("i",{staticClass:"iconfont icon-kuaijiejian"}),t._v(" "),n("span",[t._v("快捷键")])]),t._v(" "),n("div",{staticClass:"column-btn",on:{click:t.preview}},[n("i",{staticClass:"iconfont icon-yulan"}),t._v(" "),n("span",[t._v("预览")])]),t._v(" "),t.curComponent&&!t.curComponent.isLock?n("div",{staticClass:"column-btn",on:{click:t.lock}},[n("i",{staticClass:"iconfont icon-suoding"}),t._v(" "),n("span",[t._v("锁定")])]):t._e(),t._v(" "),t.curComponent&&t.curComponent.isLock?n("div",{staticClass:"column-btn",on:{click:t.unlock}},[n("i",{staticClass:"iconfont icon-jiesuo"}),t._v(" "),n("span",[t._v("解锁")])]):t._e(),t._v(" "),t.areaData.components.length||t.ctrlComponentList.length?n("div",{staticClass:"column-btn",on:{click:t.compose}},[n("i",{staticClass:"iconfont icon-zuhe"}),t._v(" "),n("span",[t._v("组合")])]):t._e(),t._v(" "),t.curComponent&&"Group"===t.curComponent.component&&!t.curComponent.isLock?n("div",{staticClass:"column-btn",on:{click:t.decompose}},[n("i",{staticClass:"iconfont icon-chaifen"}),t._v(" "),n("span",[t._v("拆分")])]):t._e()])]),t._v(" "),n("Preview",{on:{change:t.handlePreviewChange},model:{value:t.isShowPreview,callback:function(e){t.isShowPreview=e},expression:"isShowPreview"}}),t._v(" "),n("Device",{attrs:{"is-show":t.deviceDialogVisible},on:{changeDeviceShow:function(e){t.deviceDialogVisible=!1}}}),t._v(" "),n("TypeTemplate",{attrs:{deviceTypeId:t.deviceTypeId,isShow:t.TypeTemplateDialogVisible},on:{changeDeviceShow:function(e){t.TypeTemplateDialogVisible=!1}}}),t._v(" "),n("select-img",{attrs:{visible:t.imgClond.visible},on:{selectImg:t.selectClondImg}})],1)},Qe=[],tn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"bg"},[n("el-button",{staticClass:"close",on:{click:t.close}},[t._v("关闭")]),t._v(" "),n("div",{staticClass:"canvas-container"},[n("div",{staticClass:"canvas",style:{width:t.changeStyleWithScale(t.canvasStyleData.width)+"px",height:t.changeStyleWithScale(t.canvasStyleData.height)+"px",backgroundColor:t.canvasStyleData.backgroundColor,backgroundImage:"url("+t.baseUrl+t.canvasStyleData.backgroundImage+")",backgroundSize:"100% 100%"}},t._l(t.componentData,(function(t,e){return n("ComponentWrapper",{key:e,attrs:{config:t}})})),1)])],1):t._e()},en=[],nn=n("8898"),an={components:{ComponentWrapper:nn["a"]},model:{prop:"show",event:"change"},props:{show:{type:Boolean,default:!1}},data:function(){return{baseUrl:this.global.baseUrl}},computed:Object(c["c"])({componentData:function(t){return t.drag.componentData},canvasStyleData:function(t){return t.drag.canvasStyleData}}),methods:{changeStyleWithScale:m["b"],getStyle:H["e"],close:function(){this.$emit("change",!1)}}},on=an,rn=(n("e38f"),Object(L["a"])(on,tn,en,!1,null,"95645d28",null)),sn=rn.exports,cn=n("5dfb"),ln=(n("ff97"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShow?n("div",[n("el-dialog",{attrs:{title:"设备选择",visible:t.deviceDialogVisible,width:"60%","show-close":!1},on:{"update:visible":function(e){t.deviceDialogVisible=e}}},[n("el-steps",{staticClass:"tips",attrs:{active:t.active}},[n("el-step",{attrs:{title:"步骤 1",description:"选择设备类型查看设备"}}),t._v(" "),n("el-step",{attrs:{title:"步骤 2",description:"选择所需设备"}})],1),t._v(" "),n("div",{staticClass:"device-data"},[n("div",{staticClass:"device-type max-height"},[n("el-tree",{attrs:{data:t.deviceTypeTree,props:t.deviceTypeProps},on:{"node-click":t.selectDeviceType}})],1),t._v(" "),n("div",{staticClass:"device-name max-height"},[n("div",{staticClass:"search-device-name"},[n("el-input",{attrs:{placeholder:"请输入设备名"},model:{value:t.deviceName,callback:function(e){t.deviceName=e},expression:"deviceName"}}),t._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.searchDeviceByName}},[t._v("\n            查询\n          ")])],1),t._v(" "),n("el-tree",{ref:"deviceTree",attrs:{data:t.deviceTree,"show-checkbox":"","default-expand-all":"",props:t.deviceProps},on:{"check-change":t.chooseDevice}})],1)]),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.$emit("changeDeviceShow")}}},[t._v("\n        取 消\n      ")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.addDevice}},[t._v("\n        确 定\n      ")])],1)],1)],1):t._e()}),un=[];function dn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dn(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var mn={props:{isShow:{type:Boolean,default:!1}},computed:pn(pn({},Object(c["c"])({pageId:function(t){return t.drag.pageId}})),Object(c["b"])(["path"])),data:function(){return{deviceDialogVisible:!0,active:1,deviceTypeTree:[],deviceNameTree:[],deviceTypeProps:{children:"drtypeinfoList",label:"drtypename"},deviceName:"",deviceTree:[],deviceProps:{label:"drname"}}},created:function(){this.findDeviceType()},methods:{findDeviceType:function(){var t=this;Object(Ge["e"])(this.path).then((function(e){t.deviceTypeTree=e.data})).catch(console.log)},selectDeviceType:function(t){var e=this;0===t.drtypeinfoList.length&&(this.deviceTypeId=t.drtypeid,Object(Ge["a"])(this.path,t.drtypeid).then((function(t){e.deviceTree=[],e.deviceNameTree=t.data;var n={drid:0,drname:"全选",children:t.data};e.deviceTree.push(n)})).catch(console.log))},searchDeviceByName:function(){var t=this;Object(Ge["a"])(this.path,this.deviceTypeId,this.deviceName).then((function(e){t.deviceTree=[];var n={drid:0,drname:"全选",children:e.data};t.deviceTree.push(n)})).catch(console.log)},selectDevice:function(t,e){var n=this;if(e)Object(Ge["d"])(this.path,t.drid,1).then((function(t){t.data.forEach((function(t){n.regNameTree.push(t)}))})).catch(console.log);else for(var i=this.regNameTree.length-1;i>=0;i--)this.regNameTree[i].drId===t.drid&&this.regNameTree.splice(i,1)},selectRegs:function(t,e){this.regs=t?this.$refs.regTree.getCheckedNodes():this.$refs.regTree[e].getCheckedNodes(),console.log(this.regs)},chooseDeviceType:function(t){this.deviceTypes=t},chooseEnergy:function(t){this.energys=t},chooseLinkage:function(t){this.linkages=t},chooseDevice:function(){this.checkedDevice=this.$refs.deviceTree.getCheckedNodes()},addDevice:function(){var t=this;if(""===this.pageId)this.$message.error("请选择页面后再执行其他操作!");else{if(this.checkedDevice.length>0){var e=10;this.checkedDevice.forEach((function(n,i){n.drid&&(t.$store.commit("drag/addComponent",{component:pn(pn({},ht["commonAttr"]),{},{id:Object(cn["a"])(),component:"Device",label:"设备",icon:"device",propValue:n.icontype,drInfo:n,style:pn(pn({},ht["commonStyle"]),{},{top:i*e,left:i*e,width:30,height:30,borderRadius:"",isShow:!0})})}),t.$store.commit("drag/recordSnapshot"))}))}this.$emit("changeDeviceShow")}}}},hn=mn,fn=(n("cb31"),Object(L["a"])(hn,ln,un,!1,null,"3053d152",null)),vn=fn.exports,bn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-dialog",{attrs:{title:"选择设备模板类型",width:"50%",center:"",visible:t.showDeviceType},on:{"update:visible":function(e){t.showDeviceType=e},close:function(e){t.showDeviceType=!1}}},[n("div",{staticClass:"checkbox",staticStyle:{"margin-left":"26%"}},[n("el-tree",{ref:"deviceTree",attrs:{data:t.checkedDeviceTypeList,"show-checkbox":"","default-expand-all":"",props:t.devicetypeProps},on:{"check-change":t.chooseDevice}})],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"mini"},on:{click:function(e){t.showDeviceType=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.clickDeviceType()}}},[t._v("\n        确 定\n      ")])],1)])],1)},gn=[];function yn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yn(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var On,wn={props:{isShow:{type:Boolean,default:!1},deviceTypeId:{}},components:{},data:function(){return{isIndeterminate:!0,drtypeId:null,checkedDeviceTypeList:[],checkedDeviceType:[],devicetypeProps:{label:"regName"}}},computed:Cn(Cn({},Object(c["b"])({path:"path"})),{},{showDeviceType:{get:function(){return this.isShow},set:function(t){this.$emit("changeDeviceShow",t)}}}),watch:{deviceTypeId:function(t){t&&(this.drtypeId=t,this.addDeviceType())}},methods:{chooseDevice:function(){this.checkedDevicetype=this.$refs.deviceTree.getCheckedNodes()},addDeviceType:function(){var t=Object(ne["a"])(ae.a.mark((function t(){var e,n,i,a;return ae.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.drtypeId){t.next=4;break}this.$message.error("请选择类型后再执行其他操作!"),t.next=10;break;case 4:return t.next=6,He(this.path,this.drtypeId);case 6:e=t.sent,n=e.data,i=e.status,this.checkedDeviceTypeList=[],2e4===i&&(a={drtypeid:0,regName:"全选",children:n},this.checkedDeviceTypeList.push(a));case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),clickDeviceType:function(){var t=this;if(this.checkedDevicetype.length>0){var e=100;this.checkedDevicetype.forEach((function(n,i){0!=n.drtypeid&&(t.$store.commit("drag/addComponent",{component:Cn(Cn({},ht["commonAttr"]),{},{id:Object(cn["a"])(),component:"Devicetype",label:"设备类型模板",icon:"device",drtypeInfo:n,style:Cn(Cn({},ht["commonStyle"]),{},{top:10,left:i*e,width:100,height:20,fontSize:14,fontWeight:500,lineHeight:"",letterSpacing:0,textAlign:"",color:""})})}),t.showDeviceType=!1)}))}}},created:function(){},mounted:function(){}},An=wn,Sn=(n("10e2"),Object(L["a"])(An,bn,gn,!1,null,"48775002",null)),kn=Sn.exports,xn=n("d42d"),jn=n("4a85");function Dn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dn(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var In={components:{Preview:sn,Device:vn,TypeTemplate:kn,SelectImg:wt["a"]},data:function(){return{scale:100,disabled:!1,baseUrl:this.global.baseUrl,imgClond:{visible:!1,url:"",id:""},deviceTypeId:"",TypeTemplateDialogVisible:!1,deviceTypeTree:[],deviceTypeName:"",btnList:[],pageTreeData:[],pageName:"",deviceDialogVisible:!1,isShowPreview:!1,timer:null}},computed:_n(_n({},Object(c["c"])({componentData:function(t){return t.drag.componentData},canvasStyleData:function(t){return t.drag.canvasStyleData},areaData:function(t){return t.drag.areaData},curComponent:function(t){return t.drag.curComponent},edittype:function(t){return t.drag.edittype},pageId:function(t){return t.drag.pageId},drtypeId:function(t){return t.drag.drtypeId},ctrlComponentList:function(t){return t.drag.ctrlComponentList}})),Object(c["b"])({path:"path",projectId:"projectId"})),created:function(){"page"==this.edittype&&(this.getPageData(),this.disabled=!1),"device"==this.edittype&&(this.findDeviceType(),this.disabled=!0),d["a"].$on("preview",this.preview),d["a"].$on("save",this.save),d["a"].$on("clearCanvas",this.clearCanvas),this.scale=this.canvasStyleData.scale,this.backgroundColor=this.canvasStyleData.backgroundColor},methods:(On={showImgColud:function(){this.imgClond.visible=!0,this.imgClond.id=1},selectClondImg:function(t){this.imgClond.visible=!1;var e=t.type,n=void 0===e?0:e,i=t.imgObj,a=void 0===i?{}:i;2==n&&(this.$store.commit("drag/addComponent",{component:_n(_n({},ht["commonAttr"]),{},{id:Object(cn["a"])(),component:"Picture",label:"图片",icon:"",propValue:a.url,style:_n(_n({},ht["commonStyle"]),{},{top:0,left:0,width:500,height:500})})}),this.$store.commit("drag/recordSnapshot"))},addtypeTemplate:function(){this.TypeTemplateDialogVisible=!0},lock:function(){this.$store.commit("drag/lock")},unlock:function(){this.$store.commit("drag/unlock")},compose:function(){var t=this;if(!this.areaData.length&&this.ctrlComponentList.length>0){var e=1/0,n=1/0,i=-1/0,a=-1/0;this.ctrlComponentList.forEach((function(o){var r={};"Group"==o.component?o.propValue.forEach((function(o){var s=$("#component".concat(o.id)).getBoundingClientRect();r.left=k.a.sub(parseInt(s.left),parseInt(t.editorX)).toNumber(),r.top=k.a.sub(parseInt(s.top),parseInt(t.editorY)).toNumber(),r.right=k.a.sub(parseInt(s.right),parseInt(t.editorX)).toNumber(),r.bottom=k.a.sub(parseInt(s.bottom),parseInt(t.editorY)).toNumber(),r.left<n&&(n=r.left),r.top<e&&(e=r.top),r.right>i&&(i=r.right),r.bottom>a&&(a=r.bottom)})):r=Object(H["c"])(o.style),r.left<n&&(n=r.left),r.top<e&&(e=r.top),r.right>i&&(i=r.right),r.bottom>a&&(a=r.bottom)})),this.$store.commit("drag/setAreaData",{style:{left:n,top:e,width:k.a.sub(i,n).toNumber(),height:k.a.sub(a,e).toNumber()},components:this.ctrlComponentList})}this.$store.commit("drag/compose"),this.$store.commit("drag/recordSnapshot")},decompose:function(){this.$store.commit("drag/decompose"),this.$store.commit("drag/recordSnapshot")},undo:function(){this.$store.commit("drag/undo")},redo:function(){this.$store.commit("drag/redo")},copyPage:function(){this.$store.commit("drag/copypage")},pastepage:function(){var t=this;this.$confirm("粘贴页面之后本页数据将丢失, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$store.commit("drag/pastepage")})).catch((function(){}))},beforeClearCanvas:function(){var t=this;this.$confirm("确定清空画布吗, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.clearCanvas()})).catch((function(){}))},clearCanvas:function(){this.$store.commit("drag/setCanvasStyle",ft["c"]),this.$store.commit("drag/setCurComponent",{component:null,index:null}),this.$store.commit("drag/setComponentData",[]),this.$store.commit("drag/recordSnapshot")},handlePreviewChange:function(){this.$store.commit("drag/setEditMode","edit")},preview:function(){this.isShowPreview=!0,this.$store.commit("drag/setEditMode","preview")},restore:function(t,e){var n=JSON.parse(t)||{},i=JSON.parse(e)||[];n.scale=100,n.zoom=100,this.$store.commit("drag/setCanvasStyle",n);var a=this.resetID(i);this.$store.commit("drag/setComponentData",a),this.$store.commit("drag/initSnapShot",a)},resetID:function(t){return t.forEach((function(t){t.id=Object(cn["a"])()})),t},recursiveAlgorithm:function(t){var e=this;return t.forEach((function(t){t.picmodeid=t.picname+"-"+t.picmodeid,t.children&&t.children.length>0?e.recursiveAlgorithm(t.children):delete t.children})),t},getPageData:function(){var t=this;Object(Ge["f"])(this.path).then((function(e){var n=e.data||[];t.pageTreeData=t.recursiveAlgorithm(n)})).catch(console.log)},changePage:function(t){this.btnList=ft["a"];var e=1*t[t.length-1].split("_")[0];this.clearCanvas(),this.$store.commit("drag/changePage",e),this.getPageStyleByPicId(e)},isSave:function(){this.componentData.length>0&&this.$confirm("是否保存该页面?","提示",{confirmButtonText:"保存",cancelButtonText:"取消",type:"warning"}).then((function(){return!1})).catch((function(){}))},insertOrUpdatePageStyle:function(){var t=Object(ne["a"])(ae.a.mark((function t(){var e,n,i,a,o,r=this;return ae.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.componentData,e.forEach((function(t,e){if("Group"===t.component){var n=_n({},t.style),i=t.propValue,a=document.querySelector("#editor").getBoundingClientRect();r.$store.commit("drag/deleteComponent",e),i.forEach((function(t){Object(jn["a"])(t,a,n),r.$store.commit("drag/addComponent",{component:t})}))}})),n={appId:this.projectId,picId:this.pageId,canvasStyle:JSON.stringify(this.canvasStyleData),canvasData:JSON.stringify(e)},t.next=5,Object(xn["j"])(this.path,this.$formatJson(n));case 5:i=t.sent,a=i||{},o=a.status,a.message,2e4===o&&this.$message.success("保存成功");case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getPageStyleByPicId:function(){var t=Object(ne["a"])(ae.a.mark((function t(e){var n,i,a,o,r;return ae.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={picId:e},t.next=3,Object(xn["g"])(this.path,this.$formatJson(n));case 3:i=t.sent,a=i.data||{},a.id,a.appId,a.picId,o=a.canvasStyle,r=a.canvasData,o&&r&&this.restore(o,r);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),findDeviceType:function(){var t=Object(ne["a"])(ae.a.mark((function t(){var e;return ae.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("查询所有设备类型"),t.next=3,Object(Ge["e"])(this.path);case 3:e=t.sent,this.deviceTypeTree=e.data||[],this.deviceTypeTree.forEach((function(t){t.label=t.drtypeid+"_"+t.drtypename,t.value=t.drtypeid,null!=t.drtypeinfoList&&t.drtypeinfoList.length>0&&(t.children=t.drtypeinfoList,t.children.forEach((function(t){t.label=t.drtypeid+"_"+t.drtypename,t.value=t.drtypeid,null!=t.drtypeinfoList&&t.drtypeinfoList.length>0&&(t.children=t.drtypeinfoList,t.children.forEach((function(e){e.label=e.drtypeid+"_"+e.drtypename,e.value=e.drtypeid,null!=e.drtypeinfoList&&e.drtypeinfoList.length>0&&(e.children=t.item)})))})))}));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeDeviceType:function(t){var e=JSON.parse(JSON.stringify(t)),n=e.pop();this.deviceTypeId=n,this.clearCanvas(),this.$store.commit("drag/changeDrtypeId",n),this.getDeviceStyleByDrtypeId(n)},getDeviceStyleByDrtypeId:function(){var t=Object(ne["a"])(ae.a.mark((function t(e){var n,i,a,o,r;return ae.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={drtypeId:e},t.next=3,Object(xn["d"])(this.path,this.$formatJson(n));case 3:i=t.sent,a=i.data||{},o=a.canvasStyle,r=a.canvasData,o&&r&&this.restore(o,r);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),insertOrUpdateDeviceStyle:function(){var t=Object(ne["a"])(ae.a.mark((function t(){var e,n,i,a;return ae.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={appId:this.projectId,drtypeId:this.drtypeId,canvasStyle:JSON.stringify(this.canvasStyleData),canvasData:JSON.stringify(this.componentData)},t.next=3,Object(xn["i"])(this.path,this.$formatJson(e));case 3:n=t.sent,i=n||{},a=i.status,i.message,2e4===a&&this.$message.success("保存成功");case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},Object(o["a"])(On,"isSave",(function(){this.componentData.length>0&&this.$confirm("是否保存该页面?","提示",{confirmButtonText:"保存",cancelButtonText:"取消",type:"warning"}).then((function(){return!1})).catch((function(){}))})),Object(o["a"])(On,"save",(function(){"page"==this.edittype&&this.insertOrUpdatePageStyle(),"device"==this.edittype&&this.insertOrUpdateDeviceStyle()})),Object(o["a"])(On,"openKeyboardShortcuts",(function(){this.$notify.info({title:"快捷键提示",dangerouslyUseHTMLString:!0,customClass:"short",message:'\n        <div class="shortcuts" style="width: 120px;">\n           <div class="shortcuts-li">crtl+x：剪切</div>\n           <div class="shortcuts-li">crtl+c：复制</div>\n           <div class="shortcuts-li">crtl+v：粘贴</div>\n           <div class="shortcuts-li">crtl+l：锁定</div>\n           <div class="shortcuts-li">crtl+u：解锁</div>\n           <div class="shortcuts-li">crtl+g：组合</div>\n           <div class="shortcuts-li">crtl+b：拆分</div>\n           <div class="shortcuts-li">crtl+d：删除</div>\n           <div class="shortcuts-li">crtl+z：撤销</div>\n           <div class="shortcuts-li">crtl+y：重做</div>\n        </div>\n        '})})),Object(o["a"])(On,"batchRepair",(function(){var t=this;this.$confirm("批量修复页面所有组件的坐标数据top，left为整数；宽高数据width，height为2位小数, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=t.componentData||[];e.length>0&&(e.forEach((function(t){if("Group"!=t.component)console.log(t.style.left,t.style.top),t.style.left=parseInt(t.style.left),t.style.top=parseInt(t.style.top),t.style.width=new k.a(t.style.width).toDecimalPlaces(2).toNumber(),t.style.height=new k.a(t.style.height).toDecimalPlaces(2).toNumber();else{var e=t.propValue||[];e.length>0&&(e.forEach((function(t){t.style.left=parseInt(t.style.left),t.style.top=parseInt(t.style.top),t.style.width=new k.a(t.style.width).toDecimalPlaces(2).toNumber(),t.style.height=new k.a(t.style.height).toDecimalPlaces(2).toNumber()})),t.propValue=e)}})),t.$store.commit("drag/setComponentData",e),t.$message.success("保存成功"))})).catch((function(){}))})),On)},Tn=In,Pn=(n("5b0e"),Object(L["a"])(Tn,Ze,Qe,!1,null,"276926e2",null)),Ln=Pn.exports,En=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"real-time"},[t._m(0),t._v(" "),n("div",{staticClass:"real-time-content"},t._l(t.componentData,(function(e,i){return n("div",{key:i,staticClass:"list",class:{actived:t.transformIndex(i)===t.curComponentIndex},on:{click:function(e){t.onClick(t.transformIndex(i))}}},[n("div",{staticClass:"list-font"},[t._v("\n        "+t._s(t.getComponentTitle(i))+"\n      ")]),t._v(" "),n("div",{staticClass:"icon-container"},[n("i",{staticClass:"el-icon-top",on:{click:function(e){t.upComponent(t.transformIndex(i))}}}),t._v(" "),n("i",{staticClass:"el-icon-bottom",on:{click:function(e){t.downComponent(t.transformIndex(i))}}}),t._v(" "),n("i",{staticClass:"el-icon-delete",on:{click:function(e){t.deleteComponent(t.transformIndex(i))}}})])])})),0)])},Nn=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"real-time-tit"},[n("div",{staticClass:"real-time-tit-li"},[t._v("\n      图层\n    ")])])}];function zn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zn(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Vn={computed:Mn({},Object(c["c"])({componentData:function(t){return t.drag.componentData},curComponent:function(t){return t.drag.curComponent},curComponentIndex:function(t){return t.drag.curComponentIndex}})),watch:{},methods:{judgeDevice:function(t){return"Device"===t.component},getComponentTitle:function(t){var e="",n=this.componentData[this.componentData.length-1-t];if("Group"===n.component)e="组合 - "+n.propValue.length;else if("Device"===n.component){var i;e=n.label+" - "+(null===n||void 0===n||null===(i=n.drInfo)||void 0===i?void 0:i.drname)||""}else e=n.label;return e},transformIndex:function(t){return this.componentData.length-1-t},onClick:function(t){this.setCurComponent(t)},deleteComponent:function(){var t=this;setTimeout((function(){t.$store.commit("drag/deleteComponent"),t.$store.commit("drag/recordSnapshot")}))},upComponent:function(){var t=this;setTimeout((function(){t.$store.commit("drag/upComponent"),t.$store.commit("drag/recordSnapshot")}))},downComponent:function(){var t=this;setTimeout((function(){t.$store.commit("drag/downComponent"),t.$store.commit("drag/recordSnapshot")}))},setCurComponent:function(t){this.$store.commit("drag/setCurComponent",{component:this.componentData[t],index:t})}},created:function(){}},Rn=Vn,Un=(n("eb94"),Object(L["a"])(Rn,En,Nn,!1,null,"1fa9d7b0",null)),qn=Un.exports,$n=n("590f"),Gn=(n("1044"),n("55ee"),n("81b4"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"attr-container"},[n("p",{staticClass:"title"},[t._v("批量操作")]),t._v(" "),n("div",{staticClass:"batch"},[n("div",{staticClass:"batch-li batch-num"},[t._v("\n      选择组件：\n      "),n("b",[t._v(t._s(t.ctrlComponentList.length||t.areaData.components.length))]),t._v("\n      个\n    ")]),t._v(" "),n("div",{staticClass:"batch-li"},[n("el-input",{attrs:{type:"number",size:"small",placeholder:"宽"},nativeOn:{keyup:function(e){t.batchWidth=t.toDecimalPlaces2(t.batchWidth)}},model:{value:t.batchWidth,callback:function(e){t.batchWidth=e},expression:"batchWidth"}}),t._v(" "),n("el-input",{staticClass:"ml",attrs:{type:"number",size:"small",placeholder:"高"},nativeOn:{keyup:function(e){t.batchHeight=t.toDecimalPlaces2(t.batchHeight)}},model:{value:t.batchHeight,callback:function(e){t.batchHeight=e},expression:"batchHeight"}}),t._v(" "),n("el-button",{staticClass:"ml",attrs:{size:"small"},on:{click:function(e){return t.alignment("width-height")}}},[t._v("\n        设置\n      ")])],1),t._v(" "),n("div",{staticClass:"batch-li"},[n("el-input",{staticClass:"el-input",attrs:{type:"number",size:"small",placeholder:"左右间距"},nativeOn:{keyup:function(e){t.batchMarginLeft=t.toDecimalPlaces2(t.batchMarginLeft)}},model:{value:t.batchMarginLeft,callback:function(e){t.batchMarginLeft=e},expression:"batchMarginLeft"}}),t._v(" "),n("el-button",{staticClass:"ml",attrs:{size:"small"},on:{click:function(e){return t.alignment("margin-left")}}},[t._v("\n        设置\n      ")])],1),t._v(" "),n("div",{staticClass:"batch-li"},[n("el-input",{staticClass:"el-input",attrs:{type:"number",size:"small",placeholder:"上下间距"},nativeOn:{keyup:function(e){t.batchMarginTop=t.toDecimalPlaces2(t.batchMarginTop)}},model:{value:t.batchMarginTop,callback:function(e){t.batchMarginTop=e},expression:"batchMarginTop"}}),t._v(" "),n("el-button",{staticClass:"ml",attrs:{size:"small"},on:{click:function(e){return t.alignment("margin-top")}}},[t._v("\n        设置\n      ")])],1),t._v(" "),n("div",{staticClass:"batch-li"},[n("el-dropdown",{attrs:{size:"small",disabled:!(t.areaData.components.length>0||t.ctrlComponentList.length>0)},on:{command:t.alignment}},[n("el-button",{attrs:{size:"small"}},[t._v("\n          批量对齐\n          "),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown",size:"small"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"left"}},[t._v("左对齐")]),t._v(" "),n("el-dropdown-item",{attrs:{command:"right"}},[t._v("右对齐")]),t._v(" "),n("el-dropdown-item",{attrs:{command:"top"}},[t._v("上对齐")]),t._v(" "),n("el-dropdown-item",{attrs:{command:"bottom"}},[t._v("下对齐")])],1)],1)],1),t._v(" "),n("div",{staticClass:"batch-li"},[n("el-color-picker",{attrs:{size:"small"},model:{value:t.fontColor,callback:function(e){t.fontColor=e},expression:"fontColor"}}),t._v(" "),n("el-button",{staticClass:"ml",attrs:{size:"small"},on:{click:function(e){return t.alignment("color")}}},[t._v("\n        设置文字颜色\n      ")])],1),t._v(" "),n("div",{staticClass:"batch-li"},[n("el-input",{attrs:{type:"number",size:"small",placeholder:"字体大小"},model:{value:t.fontSize,callback:function(e){t.fontSize=e},expression:"fontSize"}}),t._v(" "),n("el-input",{staticClass:"ml",attrs:{type:"number",size:"small",placeholder:"字体粗细"},model:{value:t.fontWeight,callback:function(e){t.fontWeight=e},expression:"fontWeight"}}),t._v(" "),n("el-button",{staticClass:"ml",attrs:{size:"small"},on:{click:function(e){return t.alignment("font")}}},[t._v("\n        设置\n      ")])],1)])])}),Bn=[];n("55dd");function Hn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hn(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Xn={data:function(){return{batchWidth:null,batchHeight:null,batchMarginLeft:null,batchMarginTop:null,fontColor:null,fontSize:14,fontWeight:500}},computed:Jn({},Object(c["c"])({areaData:function(t){return t.drag.areaData},ctrlComponentList:function(t){return t.drag.ctrlComponentList}})),created:function(){},methods:{alignment:function(t){var e=this;this.batchWidth=this.toDecimalPlaces2(this.batchWidth)||0,this.batchHeight=this.toDecimalPlaces2(this.batchHeight)||0;var n=this.toDecimalPlaces2(this.batchMarginLeft)||0,i=this.toDecimalPlaces2(this.batchMarginTop)||0,a=[];switch(a=this.ctrlComponentList.length>0?this.ctrlComponentList:this.areaData.components,t){case"width-height":a.forEach((function(t){t.style.width=e.batchWidth,t.style.height=e.batchHeight}));break;case"margin-left":a.sort(Object(st["d"])("left"));var o=k.a.add(a[0].style.left,a[0].style.width).toNumber();a.forEach((function(t,e){e>0&&(t.style.left=k.a.add(o,n).toNumber(),o+=k.a.add(t.style.width,n).toNumber())}));break;case"margin-top":a.sort(Object(st["d"])("top"));var r=k.a.add(a[0].style.top,a[0].style.height).toNumber();a.forEach((function(t,e){e>0&&(t.style.top=k.a.add(r,i).toNumber(),r+=k.a.add(t.style.height,i).toNumber())}));break;case"left":a.sort(Object(st["d"])("left")),a.forEach((function(t){t.style.left=a[0].style.left}));break;case"right":a.sort(Object(st["d"])("left",!0));var s=k.a.add(a[0].style.left,a[0].style.width).toNumber();a.forEach((function(t){t.style.left=k.a.sub(s,t.style.width).toNumber()}));break;case"top":a.sort(Object(st["d"])("top")),a.forEach((function(t){t.style.top=a[0].style.top}));break;case"bottom":a.sort(Object(st["d"])("top",!0));var c=k.a.add(a[0].style.top,a[0].style.height).toNumber();a.forEach((function(t){t.style.top=k.a.sub(c,t.style.height).toNumber()}));break;case"color":a.forEach((function(t){console.log(t.style),t.style.hasOwnProperty("color")&&(t.style.color=e.fontColor)}));break;case"font":a.forEach((function(t){console.log(t.style),t.style.hasOwnProperty("fontSize")&&(t.style.fontSize=e.fontSize),t.style.hasOwnProperty("fontWeight")&&(t.style.fontWeight=e.fontWeight)}));break}a.forEach((function(t){t.style.height=e.toDecimalPlaces2(t.style.height),t.style.width=e.toDecimalPlaces2(t.style.width),t.style.top=e.toDecimalPlaces(t.style.top),t.style.left=e.toDecimalPlaces(t.style.left)})),this.$store.commit("drag/recordSnapshot")},toDecimalPlaces:function(t){return t?new k.a(t).toDecimalPlaces(0,k.a.ROUND_DOWN).toNumber():t},toDecimalPlaces2:function(t){return t?new k.a(t).toDecimalPlaces(2,k.a.ROUND_DOWN).toNumber():t}}},Yn=Xn,Wn=(n("0a35"),Object(L["a"])(Yn,Gn,Bn,!1,null,"268e08b8",null)),Kn=Wn.exports;function Fn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fn(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Qn={components:{Editor:dt,ComponentList:yt,AttrList:Et,AnimationList:Se,EventList:Re,Toolbar:Ln,BatchTool:Kn,Dynamic:Fe,CanvasAttr:Qt,RealTimeComponentList:qn},data:function(){return{leftActiveName:"assembly",rightActiveName:"attr",reSelectAnimateIndex:void 0,leftShow:!0,tabsDataList:[{label:"属性",value:"attr"},{label:"动画",value:"animation"},{label:"事件",value:"events"},{label:"动态属性",value:"dynamic"}]}},computed:Zn(Zn({},Object(c["c"])({componentData:function(t){return t.drag.componentData},curComponent:function(t){return t.drag.curComponent},isClickComponent:function(t){return t.drag.isClickComponent},canvasStyleData:function(t){return t.drag.canvasStyleData},editor:function(t){return t.drag.editor},areaData:function(t){return t.drag.areaData},edittype:function(t){return t.drag.edittype},ctrlComponentList:function(t){return t.drag.ctrlComponentList}})),{},{centerClass:function(){var t="",e=!1;return(this.curComponent||this.areaData.components.length>0)&&(e=!0),this.leftShow&&e&&(t="center r-center"),this.leftShow&&!e&&(t="center r-center"),!this.leftShow&&e&&(t="center  l-center r-center"),this.leftShow||e||(t="center  l-center r-center"),t}}),watch:{},created:function(){var t="page";this.$route.query.edittype&&(t=this.$route.query.edittype),this.$store.commit("drag/changeEdittype",t),Object($n["b"])(),this.$nextTick((function(){document.onselectstart=new Function("event.returnValue=false")}))},beforeRouteLeave:function(t,e,n){var i=this;this.componentData.length>0?this.$confirm("是否保存该页面?","提示",{confirmButtonText:"保存",cancelButtonText:"取消",type:"warning"}).then((function(){i.$refs.toolbarRef.save(),n()})).catch((function(){n()})):n()},beforeDestroy:function(){this.$refs.toolbarRef.clearCanvas(),this.$store.commit("drag/changePage","")},destroyed:function(){},methods:{handlechange:function(t){if("page"==t){var e=this.curComponent;return!(!e||"Device"==e.component)}if("device"==t){var n=this.curComponent;return!(!n||"Device"==n.component)}},changeRightTabs:function(t){this.rightActiveName=t},handleDrop:function(t){console.log(t,"组件拖入画布"),t.preventDefault(),t.stopPropagation();var e=t.dataTransfer.getData("component"),n=null;if(ht["default"].forEach((function(t){t.component==e&&(n=t)})),n){var i=this.editor.getBoundingClientRect(),a=Object(st["b"])(n);a.style.top=k.a.sub(parseInt(t.clientY),parseInt(i.y)).toNumber(),a.style.left=k.a.sub(parseInt(t.clientX),parseInt(i.x)).toNumber(),a.id=Object(cn["a"])(),100!=this.canvasStyleData.scale&&Bt(a),this.$store.commit("drag/addComponent",{component:a}),this.$store.commit("drag/recordSnapshot")}else this.$message.warning("拖拽元素发生错误!")},handleDragOver:function(t){t.preventDefault(),t.dataTransfer.dropEffect="copy"},handleMouseDown:function(t){t.stopPropagation(),this.$store.commit("drag/setClickComponentStatus",!1),this.$store.commit("drag/setInEditorStatus",!0)},deselectCurComponent:function(t){this.isClickComponent||this.$store.commit("drag/setCurComponent",{component:null,index:null}),2!=t.button&&this.$store.commit("drag/hideContextMenu")},switchleft:function(){this.leftShow=!this.leftShow},keyboardEvent:function(){var t=this;window.onkeydown=function(e){switch(window.event.keyCode){case 16:t.$store.commit("drag/setKeyboardEvent",{key:"isShift",value:!0});break;case 17:t.$store.commit("drag/setKeyboardEvent",{key:"isCtrl",value:!0});break;case 37:if(t.curComponent&&t.curComponent.style){var n=t.curComponent.style.left;n>=1?n--:n=0,t.curComponent.style.left=n}break;case 38:if(t.curComponent&&t.curComponent.style){var i=t.curComponent.style.top;i>=1?i--:i=0,t.curComponent.style.top=i}break;case 39:if(t.curComponent&&t.curComponent.style){var a=t.curComponent.style.left,o=t.curComponent.style.width,r=t.canvasStyleData.width;r-o-a>=1?a++:a=r-o,t.curComponent.style.left=a}break;case 40:if(t.curComponent&&t.curComponent.style){var s=t.curComponent.style.top,c=t.curComponent.style.height,l=t.canvasStyleData.height;l-c-s>=1?s++:s=_canvasWidth-c,t.curComponent.style.top=s}break}},window.onkeyup=function(e){switch(window.event.keyCode){case 16:t.$store.commit("drag/setKeyboardEvent",{key:"isShift",value:!1});break;case 17:t.$store.commit("drag/setKeyboardEvent",{key:"isCtrl",value:!1});break}}}}},ti=Qn,ei=(n("d940"),Object(L["a"])(ti,i,a,!1,null,"2713ba1d",null));e["default"]=ei.exports},6172:function(t,e){t.exports="data:image/png;base64,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"},"6ca5":function(t,e,n){"use strict";n("bb21")},"6e59":function(t,e,n){t.exports=n.p+"static/img/8.b249edb7.png"},"6f14":function(t,e,n){"use strict";n("20dd")},"74ac":function(t,e,n){},"7aff":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAiEAAAAXCAIAAABSyQhJAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAE0ElEQVR4nO3dMXPbNhQH8MdeL52cD+CpbiYDuktyndPFs7c8dGqayaO/AsGPYE+J+wHa4o2efefFW3pZCHpIUm/+Ap66CB1AkSBFSU5OPJ+l/+80UCCJI0UJDw+gpCyEQAAA63N7e7u7u/vQR7H5HsXr/N1DHwAAAGysDHkMAACMBHkMAACM5ftmyXu/cuuLi4vj4+MxjwcAADZHO1Z2fX29v7+/ZNO7u7vLy8ubmxuEGQAAuI92rGzlxMzOzg4RHR8fn56ejntQAACwETrzMWHIp9fPP71+3mxzfn6+t7c3HGa81VlKWx9LjbU6PiEiMc1is5uRtZ8ZAAA8tK+b8z88PDw8PPzl1ateubc6i2GCXQiOVV6GMlftBto6FhNDCztbTZYFFTFZLwoBwOPX7YS2H/Je5zRtHNJVSxoNMb2N2oJ77L1p5lpQ3/Txl12CkV6hgRjzmV/ER1oYs5kQwnQ63Xn6tLODt0a4dExEJCYzQlQVelJU6Ubaem91XGZXKtueUFV1tiR2ZROQAGCTsKsHSJwu0q5mUx5CbEpiuzepbFPOMtz3FJMZqneftSxJdcExEbtZrbDoEoxkYKzsmfv4zH0kos/8opmkSUr6VUhRaNuGj+CYSOW+zBVVhc6ySVHNOhXN+Wjrl11yba0uiu3pdwBsHebljb63ptAuJO0Eu6ab2tnQe5Xn9WbzLYsYI4gwg1ZdgvVI5vyJQpiGMP1iXn4xL+vCMO0tZFmvBu+9Us2wmJgsM1IVk2xSVKRyH4LjJnA6VWdq/eA5d+O0Uuo+N1MDwKPkrZWk4ZhfL0JN5FhKa10t7JF6a0Xdr56ts+oSrEmaxwQi+vfXn4nop7//WbTDdDqdTqdJQVVVWsfehbY+pqYqL0MIoel1iNTvAG19CP1+hghVIt2AorXuD6EBwKPXjGmQC2la0p9RST/+7STC4MgOO8dihtZ6awrK3VD2s8UWXYKRJDEmtLcvx0hD1C/Z++tDTHjavdI0pj72mMfMZpRERClanJOICDun+0EGiQzABopjGo77qUc7gTI/rNV0XpdWWua+G2gQYYYtugQj6c3H0I9/fkgfvZIQKD5aacJRv006eYyIsHVK5s6mvtVBRJiZuR9kkvQIADZLTD2WzTcz89zoxnL1IMmsWm9NUbHdxgijlOqOAg2NCa2+BGvSu68s3PuRqhMO30y21HlMZqy1wsya2dv0lhAx2aSy3lbG+DxnIs67t5IhhwHYZJznSuySu0c5z6mY3ONbDP3v18VxFSmKalun+jWzSsKHGCOKeS7YrrwEa9Lc4Pd+pizL/1Y5OTlJ7wxs5vRZMXNeOibO4/dj2lVUZzdlrmJpvKWwqafM1WyTTqUAsBGaj377lNiF7nfpqG0F+muSFXP1Ng1nPRA019JtWXuSvgK9F3T1JVj0Qn+Tgd/2Pzs7I6K3b38noidPfohPo1hIRO/evW9/tcxbbch5W5lMOLBon3uricRkwu25ismsKmdzTN7qSWV774VZoapr3MI0FwBggwz/f4z3/uLiIi4fHBzEiRHv/dXV1Zs3vxHR2dkf6S9jDgaMb9YNRgAA8Fh93X+UxTATl4+OjsY5JACAReqfEmmwW1fnFkaB/8EEAICx4H8wAQBgLIgxAAAwlv8BRTGuUj5dKT8AAAAASUVORK5CYII="},"7bcf":function(t,e,n){"use strict";n.d(e,"e",(function(){return a})),n.d(e,"h",(function(){return o})),n.d(e,"g",(function(){return r})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"a",(function(){return u})),n.d(e,"i",(function(){return d})),n.d(e,"b",(function(){return p}));var i=n("b775");function a(t){return Object(i["a"])({url:"zsqy/Drtypeinfo/".concat(t,"/findAllDrtypeAndDr"),method:"get"})}function o(t,e){return Object(i["a"])({url:"zsqy/Drtypemode/".concat(t,"/export"),method:"get",responseType:"blob",params:{drtypeid:e}})}function r(t,e){return Object(i["a"])({url:"zsqy/Drtypemode/".concat(t,"/import"),method:"post",data:e})}function s(t){return Object(i["a"])({url:"zsqy/sub/".concat(t,"/findAll"),method:"get"})}function c(t){return Object(i["a"])({url:"zsqy/alarmtype/".concat(t,"/findAll"),method:"get"})}function l(t,e,n,a){return Object(i["a"])({url:"zsqy/Drtypemode/".concat(t,"/findObject"),method:"get",params:{pageCurrent:e,pageSize:n,drtypeid:a}})}function u(t,e){return Object(i["a"])({url:"zsqy/Drtypemode/".concat(t,"/save"),method:"post",data:e})}function d(t,e){return Object(i["a"])({url:"zsqy/Drtypemode/".concat(t,"/update"),method:"put",data:e})}function p(t,e){return Object(i["a"])({url:"zsqy/Drtypemode/".concat(t,"/delete"),method:"delete",params:{ids:e}})}},8:function(t,e){},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},8898:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{click:t.handleClick}},[t.config.component.startsWith("SVG")?n(t.config.component,{ref:"component",tag:"component",staticClass:"component",style:t.getSVGStyle(t.config.style),attrs:{"prop-value":t.config.propValue,element:t.config}}):n(t.config.component,{ref:"component",tag:"component",staticClass:"component",style:t.getStyle(t.config.style),attrs:{"prop-value":t.config.propValue,element:t.config}})],1)},a=[],o=(n("456d"),n("ac6a"),n("ab2a")),r=n("c530"),s=n("4425"),c={mixins:[s["b"]],props:{config:{type:Object,require:!0,default:function(){}}},data:function(){return{}},created:function(){},mounted:function(){this.$refs.component&&this.$refs.component.$el&&Object(r["a"])(this.$refs.component.$el,this.config.animations)},methods:{getStyle:o["e"],getSVGStyle:o["d"],handleClick:function(){var t=this,e=this.config.events;Object.keys(e).forEach((function(n){t[n](e[n])}))}}},l=c,u=(n("f36d"),n("2877")),d=Object(u["a"])(l,i,a,!1,null,"39439710",null);e["a"]=d.exports},9173:function(t,e,n){"use strict";n("1569")},9286:function(t,e,n){},"97ee":function(t,e,n){},"98fc":function(t,e,n){},"9e7e":function(t,e,n){},a217:function(t,e,n){},ad46:function(t,e,n){"use strict";n("da2d")},ae89:function(t,e,n){"use strict";n("a217")},b0b1:function(t,e,n){"use strict";n("9e7e")},b311:function(t,e,n){
/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */
(function(e,n){t.exports=n()})(0,(function(){return function(){var t={686:function(t,e,n){"use strict";n.d(e,{default:function(){return P}});var i=n(279),a=n.n(i),o=n(370),r=n.n(o),s=n(817),c=n.n(s);function l(t){try{return document.execCommand(t)}catch(e){return!1}}var u=function(t){var e=c()(t);return l("cut"),e},d=u;function p(t){var e="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[e?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;return n.style.top="".concat(i,"px"),n.setAttribute("readonly",""),n.value=t,n}var m=function(t,e){var n=p(t);e.container.appendChild(n);var i=c()(n);return l("copy"),n.remove(),i},h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},n="";return"string"===typeof t?n=m(t,e):t instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null===t||void 0===t?void 0:t.type)?n=m(t.value,e):(n=c()(t),l("copy")),n},f=h;function v(t){return v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}var b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.action,n=void 0===e?"copy":e,i=t.container,a=t.target,o=t.text;if("copy"!==n&&"cut"!==n)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==a){if(!a||"object"!==v(a)||1!==a.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===n&&a.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===n&&(a.hasAttribute("readonly")||a.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return o?f(o,{container:i}):a?"cut"===n?d(a):f(a,{container:i}):void 0},g=b;function y(t){return y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function w(t,e,n){return e&&O(t.prototype,e),n&&O(t,n),t}function A(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}function S(t,e){return S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},S(t,e)}function k(t){var e=D();return function(){var n,i=_(t);if(e){var a=_(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return x(this,n)}}function x(t,e){return!e||"object"!==y(e)&&"function"!==typeof e?j(t):e}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}function I(t,e){var n="data-clipboard-".concat(t);if(e.hasAttribute(n))return e.getAttribute(n)}var T=function(t){A(n,t);var e=k(n);function n(t,i){var a;return C(this,n),a=e.call(this),a.resolveOptions(i),a.listenClick(t),a}return w(n,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"===typeof t.action?t.action:this.defaultAction,this.target="function"===typeof t.target?t.target:this.defaultTarget,this.text="function"===typeof t.text?t.text:this.defaultText,this.container="object"===y(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=r()(t,"click",(function(t){return e.onClick(t)}))}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget,n=this.action(e)||"copy",i=g({action:n,container:this.container,target:this.target(e),text:this.text(e)});this.emit(i?"success":"error",{action:n,text:i,trigger:e,clearSelection:function(){e&&e.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(t){return I("action",t)}},{key:"defaultTarget",value:function(t){var e=I("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return I("text",t)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return f(t,e)}},{key:"cut",value:function(t){return d(t)}},{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"===typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach((function(t){n=n&&!!document.queryCommandSupported(t)})),n}}]),n}(a()),P=T},828:function(t){var e=9;if("undefined"!==typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}function i(t,n){while(t&&t.nodeType!==e){if("function"===typeof t.matches&&t.matches(n))return t;t=t.parentNode}}t.exports=i},438:function(t,e,n){var i=n(828);function a(t,e,n,i,a){var o=r.apply(this,arguments);return t.addEventListener(n,o,a),{destroy:function(){t.removeEventListener(n,o,a)}}}function o(t,e,n,i,o){return"function"===typeof t.addEventListener?a.apply(null,arguments):"function"===typeof n?a.bind(null,document).apply(null,arguments):("string"===typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,(function(t){return a(t,e,n,i,o)})))}function r(t,e,n,a){return function(n){n.delegateTarget=i(n.target,e),n.delegateTarget&&a.call(t,n)}}t.exports=o},879:function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"===typeof t||t instanceof String},e.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},370:function(t,e,n){var i=n(879),a=n(438);function o(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!i.string(e))throw new TypeError("Second argument must be a String");if(!i.fn(n))throw new TypeError("Third argument must be a Function");if(i.node(t))return r(t,e,n);if(i.nodeList(t))return s(t,e,n);if(i.string(t))return c(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function r(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function s(t,e,n){return Array.prototype.forEach.call(t,(function(t){t.addEventListener(e,n)})),{destroy:function(){Array.prototype.forEach.call(t,(function(t){t.removeEventListener(e,n)}))}}}function c(t,e,n){return a(document.body,t,e,n)}t.exports=o},817:function(t){function e(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),a=document.createRange();a.selectNodeContents(t),i.removeAllRanges(),i.addRange(a),e=i.toString()}return e}t.exports=e},279:function(t){function e(){}e.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var i=this;function a(){i.off(t,a),e.apply(n,arguments)}return a._=e,this.on(t,a,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,a=n.length;for(i;i<a;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],a=[];if(i&&e)for(var o=0,r=i.length;o<r;o++)i[o].fn!==e&&i[o].fn._!==e&&a.push(i[o]);return a.length?n[t]=a:delete n[t],this}},t.exports=e,t.exports.TinyEmitter=e}},e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={exports:{}};return t[i](a,a.exports,n),a.exports}return function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),n(686)}().default}))},b3e3:function(t,e,n){},b769:function(t,e,n){},ba1b:function(t,e,n){},bb21:function(t,e,n){},bb3b:function(t,e,n){},c530:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("96cf");var i=n("1da1"),a=n("967e"),o=n.n(a);function r(t){return s.apply(this,arguments)}function s(){return s=Object(i["a"])(o.a.mark((function t(e){var n,i,a,r,s=arguments;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=s.length>1&&void 0!==s[1]?s[1]:[],i=function(t){return new Promise((function(n){var i=t.animationTime,a=t.value,o=void 0===a?"":a,r=t.isLoop;e.style.setProperty("--time",i+"s"),e.classList.add(o,"animated",c(r));var s=function t(){e.removeEventListener("animationend",t),e.removeEventListener("animationcancel",t),e.classList.remove(o,"animated",c(r)),e.style.removeProperty("--time"),n()};e.addEventListener("animationend",s),e.addEventListener("animationcancel",s)}))},a=0,r=n.length;case 3:if(!(a<r)){t.next=9;break}return t.next=6,i(n[a]);case 6:a++,t.next=3;break;case 9:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function c(t){return t?"infinite":"no-infinite"}},c8bab:function(t,e,n){},cb31:function(t,e,n){"use strict";n("01af")},d42d:function(t,e,n){"use strict";n.d(e,"j",(function(){return a})),n.d(e,"g",(function(){return o})),n.d(e,"i",(function(){return r})),n.d(e,"d",(function(){return s})),n.d(e,"h",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"l",(function(){return u})),n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return m})),n.d(e,"k",(function(){return h})),n.d(e,"e",(function(){return f}));var i=n("b775");function a(t,e){return Object(i["a"])({url:"/pageStyle/insertOrUpdate",method:"post",data:e,headers:{database:t}})}function o(t,e){return Object(i["a"])({url:"/pageStyle/getByPicId",method:"post",data:e,headers:{database:t}})}function r(t,e){return Object(i["a"])({url:"/structureDiagramStyle/insertOrUpdate",method:"post",data:e,headers:{database:t}})}function s(t,e){return Object(i["a"])({url:"/structureDiagramStyle/getBydrtypeId",method:"post",data:e,headers:{database:t}})}function c(t,e){return Object(i["a"])({url:"pageStyle/getdrStartByPicId",method:"get",params:{picId:e},headers:{database:t}})}function l(t,e){return Object(i["a"])({url:"pageStyle/getIconTypeByPicId",method:"get",params:{picId:e},headers:{database:t}})}function u(t,e){return Object(i["a"])({url:"pageStyle/updatePageStle",method:"get",params:{drid:e},headers:{database:t}})}function d(t,e){return Object(i["a"])({url:"/pageStyle/deletePageStle",method:"get",params:{drid:e},headers:{database:t}})}function p(t,e){return Object(i["a"])({url:"/structureDiagramStyle/getBydrId",method:"get",params:{drId:e},headers:{database:t}})}function m(t){return Object(i["a"])({url:"/zsqy/console/getConsoleMode",method:"get",params:{},headers:{database:t}})}function h(t,e,n){return Object(i["a"])({url:"/zsqy/console/TemplateInstructionSend",method:"post",data:n,headers:{database:t,appId:e}})}function f(t,e,n){return Object(i["a"])({url:"/zsqy/drinfo/".concat(t,"/findAll"),method:"get",params:{drtypeid:e,floorId:n},headers:{database:t,appId:t}})}},d940:function(t,e,n){"use strict";n("4112")},da2d:function(t,e,n){},ddcf:function(t,e,n){t.exports=n.p+"static/img/6.f972a4d7.png"},e260:function(t,e,n){t.exports=n.p+"static/img/2.1e259f11.png"},e38f:function(t,e,n){"use strict";n("2997")},e5d8:function(t,e,n){"use strict";n("98fc")},eb94:function(t,e,n){"use strict";n("5d1d")},ebee:function(t,e,n){},f33b:function(t,e){t.exports="data:image/png;base64,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"},f36d:function(t,e,n){"use strict";n("b3e3")},f71e:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("2b0e"),a=n("b311"),o=n.n(a);function r(){i["default"].prototype.$message({message:"复制成功",type:"success",duration:1500})}function s(){i["default"].prototype.$message({message:"复制失败",type:"error"})}function c(t,e){var n=new o.a(e.target,{text:function(){return t}});n.on("success",(function(){r(),n.destroy()})),n.on("error",(function(){s(),n.destroy()})),n.onClick(e)}},fa0b:function(t,e,n){},fcc3:function(t,e,n){"use strict";n("97ee")}}]);